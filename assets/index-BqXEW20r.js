var lx=t=>{throw TypeError(t)};var pg=(t,e,n)=>e.has(t)||lx("Cannot "+n);var te=(t,e,n)=>(pg(t,e,"read from private field"),n?n.call(t):e.get(t)),ut=(t,e,n)=>e.has(t)?lx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,r)=>(pg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Rn=(t,e,n)=>(pg(t,e,"access private method"),n);var Rh=(t,e,n,r)=>({set _(i){Fe(t,e,i,n)},get _(){return te(t,e,r)}});function MM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var aT={exports:{}},Jp={},lT={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),NM=Symbol.for("react.portal"),OM=Symbol.for("react.fragment"),DM=Symbol.for("react.strict_mode"),jM=Symbol.for("react.profiler"),VM=Symbol.for("react.provider"),FM=Symbol.for("react.context"),zM=Symbol.for("react.forward_ref"),BM=Symbol.for("react.suspense"),UM=Symbol.for("react.memo"),$M=Symbol.for("react.lazy"),ux=Symbol.iterator;function HM(t){return t===null||typeof t!="object"?null:(t=ux&&t[ux]||t["@@iterator"],typeof t=="function"?t:null)}var uT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cT=Object.assign,dT={};function yu(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||uT}yu.prototype.isReactComponent={};yu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hT(){}hT.prototype=yu.prototype;function u_(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||uT}var c_=u_.prototype=new hT;c_.constructor=u_;cT(c_,yu.prototype);c_.isPureReactComponent=!0;var cx=Array.isArray,fT=Object.prototype.hasOwnProperty,d_={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fT.call(e,r)&&!pT.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zd,type:t,key:s,ref:o,props:i,_owner:d_.current}}function WM(t,e){return{$$typeof:zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h_(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function GM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dx=/\/+/g;function mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GM(""+t.key):e.toString(36)}function df(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zd:case NM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mg(o,0):r,cx(i)?(n="",t!=null&&(n=t.replace(dx,"$&/")+"/"),df(i,e,n,"",function(d){return d})):i!=null&&(h_(i)&&(i=WM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cx(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+mg(s,l);o+=df(s,e,n,u,i)}else if(u=HM(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+mg(s,l++),o+=df(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mh(t,e,n){if(t==null)return t;var r=[],i=0;return df(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nr={current:null},hf={transition:null},ZM={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:hf,ReactCurrentOwner:d_};function gT(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Mh,forEach:function(t,e,n){Mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mh(t,function(){e++}),e},toArray:function(t){return Mh(t,function(e){return e})||[]},only:function(t){if(!h_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=yu;Ye.Fragment=OM;Ye.Profiler=jM;Ye.PureComponent=u_;Ye.StrictMode=DM;Ye.Suspense=BM;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;Ye.act=gT;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=d_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)fT.call(e,u)&&!pT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:zd,type:t.type,key:i,ref:s,props:r,_owner:o}};Ye.createContext=function(t){return t={$$typeof:FM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VM,_context:t},t.Consumer=t};Ye.createElement=mT;Ye.createFactory=function(t){var e=mT.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:zM,render:t}};Ye.isValidElement=h_;Ye.lazy=function(t){return{$$typeof:$M,_payload:{_status:-1,_result:t},_init:qM}};Ye.memo=function(t,e){return{$$typeof:UM,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=hf.transition;hf.transition={};try{t()}finally{hf.transition=e}};Ye.unstable_act=gT;Ye.useCallback=function(t,e){return nr.current.useCallback(t,e)};Ye.useContext=function(t){return nr.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return nr.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return nr.current.useEffect(t,e)};Ye.useId=function(){return nr.current.useId()};Ye.useImperativeHandle=function(t,e,n){return nr.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return nr.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return nr.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return nr.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return nr.current.useReducer(t,e,n)};Ye.useRef=function(t){return nr.current.useRef(t)};Ye.useState=function(t){return nr.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return nr.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return nr.current.useTransition()};Ye.version="18.3.1";lT.exports=Ye;var v=lT.exports;const ce=l_(v),vT=MM({__proto__:null,default:ce},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM=v,QM=Symbol.for("react.element"),YM=Symbol.for("react.fragment"),JM=Object.prototype.hasOwnProperty,XM=KM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eN={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JM.call(e,r)&&!eN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QM,type:t,key:s,ref:o,props:i,_owner:XM.current}}Jp.Fragment=YM;Jp.jsx=yT;Jp.jsxs=yT;aT.exports=Jp;var g=aT.exports,_T={exports:{}},Ir={},wT={exports:{}},xT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,K){var Z=H.length;H.push(K);e:for(;0<Z;){var oe=Z-1>>>1,re=H[oe];if(0<i(re,K))H[oe]=K,H[Z]=re,Z=oe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var K=H[0],Z=H.pop();if(Z!==K){H[0]=Z;e:for(var oe=0,re=H.length,ee=re>>>1;oe<ee;){var ue=2*(oe+1)-1,W=H[ue],me=ue+1,fe=H[me];if(0>i(W,Z))me<re&&0>i(fe,W)?(H[oe]=fe,H[me]=Z,oe=me):(H[oe]=W,H[ue]=Z,oe=ue);else if(me<re&&0>i(fe,Z))H[oe]=fe,H[me]=Z,oe=me;else break e}}return K}function i(H,K){var Z=H.sortIndex-K.sortIndex;return Z!==0?Z:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,y=3,_=!1,x=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=H)r(d),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(d)}}function N(H){if(b=!1,I(H),!x)if(n(u)!==null)x=!0,ne(j);else{var K=n(d);K!==null&&he(N,K.startTime-H)}}function j(H,K){x=!1,b&&(b=!1,E(R),R=-1),_=!0;var Z=y;try{for(I(K),m=n(u);m!==null&&(!(m.expirationTime>K)||H&&!V());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,y=m.priorityLevel;var re=oe(m.expirationTime<=K);K=t.unstable_now(),typeof re=="function"?m.callback=re:m===n(u)&&r(u),I(K)}else r(u);m=n(u)}if(m!==null)var ee=!0;else{var ue=n(d);ue!==null&&he(N,ue.startTime-K),ee=!1}return ee}finally{m=null,y=Z,_=!1}}var z=!1,A=null,R=-1,M=5,D=-1;function V(){return!(t.unstable_now()-D<M)}function U(){if(A!==null){var H=t.unstable_now();D=H;var K=!0;try{K=A(!0,H)}finally{K?B():(z=!1,A=null)}}else z=!1}var B;if(typeof C=="function")B=function(){C(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,le=Q.port2;Q.port1.onmessage=U,B=function(){le.postMessage(null)}}else B=function(){T(U,0)};function ne(H){A=H,z||(z=!0,B())}function he(H,K){R=T(function(){H(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,ne(j))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Z=y;y=K;try{return H()}finally{y=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=y;y=H;try{return K()}finally{y=Z}},t.unstable_scheduleCallback=function(H,K,Z){var oe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,H={id:f++,callback:K,priorityLevel:H,startTime:Z,expirationTime:re,sortIndex:-1},Z>oe?(H.sortIndex=Z,e(d,H),n(u)===null&&H===n(d)&&(b?(E(R),R=-1):b=!0,he(N,Z-oe))):(H.sortIndex=re,e(u,H),x||_||(x=!0,ne(j))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var K=y;return function(){var Z=y;y=K;try{return H.apply(this,arguments)}finally{y=Z}}}})(xT);wT.exports=xT;var tN=wT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=v,Pr=tN;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT=new Set,Xc={};function Na(t,e){eu(t,e),eu(t+"Capture",e)}function eu(t,e){for(Xc[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,rN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},fx={};function iN(t){return gv.call(fx,t)?!0:gv.call(hx,t)?!1:rN.test(t)?fx[t]=!0:(hx[t]=!0,!1)}function sN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oN(t,e,n,r){if(e===null||typeof e>"u"||sN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cn[t]=new rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cn[e]=new rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cn[t]=new rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cn[t]=new rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cn[t]=new rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cn[t]=new rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cn[t]=new rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cn[t]=new rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cn[t]=new rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var f_=/[\-:]([a-z])/g;function p_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(f_,p_);Cn[e]=new rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(f_,p_);Cn[e]=new rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(f_,p_);Cn[e]=new rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cn[t]=new rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cn[t]=new rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function m_(t,e,n,r){var i=Cn.hasOwnProperty(e)?Cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oN(e,n,i,r)&&(n=null),r||i===null?iN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ps=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),vl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),vv=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),CT=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),yv=Symbol.for("react.suspense"),_v=Symbol.for("react.suspense_list"),y_=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),px=Symbol.iterator;function dc(t){return t===null||typeof t!="object"?null:(t=px&&t[px]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,gg;function Cc(t){if(gg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gg=e&&e[1]||""}return`
`+gg+t}var vg=!1;function yg(t,e){if(!t||vg)return"";vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cc(t):""}function aN(t){switch(t.tag){case 5:return Cc(t.type);case 16:return Cc("Lazy");case 13:return Cc("Suspense");case 19:return Cc("SuspenseList");case 0:case 2:case 15:return t=yg(t.type,!1),t;case 11:return t=yg(t.type.render,!1),t;case 1:return t=yg(t.type,!0),t;default:return""}}function wv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yl:return"Fragment";case vl:return"Portal";case vv:return"Profiler";case g_:return"StrictMode";case yv:return"Suspense";case _v:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CT:return(t.displayName||"Context")+".Consumer";case ET:return(t._context.displayName||"Context")+".Provider";case v_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case y_:return e=t.displayName||null,e!==null?e:wv(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return wv(t(e))}catch{}}return null}function lN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wv(e);case 8:return e===g_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uN(t){var e=TT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oh(t){t._valueTracker||(t._valueTracker=uN(t))}function LT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xv(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Io(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PT(t,e){e=e.checked,e!=null&&m_(t,"checked",e,!1)}function bv(t,e){PT(t,e);var n=Io(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ev(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ev(t,e.type,Io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ev(t,e,n){(e!=="number"||zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sc=Array.isArray;function Rl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Io(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Sc(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Io(n)}}function IT(t,e){var n=Io(e.value),r=Io(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dh,AT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dh=Dh||document.createElement("div"),Dh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ed(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cN=["Webkit","ms","Moz","O"];Object.keys(Dc).forEach(function(t){cN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dc[e]=Dc[t]})});function RT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dc.hasOwnProperty(t)&&Dc[t]?(""+e).trim():e+"px"}function MT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dN=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tv(t,e){if(e){if(dN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pv=null;function __(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iv=null,Ml=null,Nl=null;function _x(t){if(t=$d(t)){if(typeof Iv!="function")throw Error(de(280));var e=t.stateNode;e&&(e=rm(e),Iv(t.stateNode,t.type,e))}}function NT(t){Ml?Nl?Nl.push(t):Nl=[t]:Ml=t}function OT(){if(Ml){var t=Ml,e=Nl;if(Nl=Ml=null,_x(t),e)for(t=0;t<e.length;t++)_x(e[t])}}function DT(t,e){return t(e)}function jT(){}var _g=!1;function VT(t,e,n){if(_g)return t(e,n);_g=!0;try{return DT(t,e,n)}finally{_g=!1,(Ml!==null||Nl!==null)&&(jT(),OT())}}function td(t,e){var n=t.stateNode;if(n===null)return null;var r=rm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var kv=!1;if(ys)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){kv=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{kv=!1}function hN(t,e,n,r,i,s,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var jc=!1,Bf=null,Uf=!1,Av=null,fN={onError:function(t){jc=!0,Bf=t}};function pN(t,e,n,r,i,s,o,l,u){jc=!1,Bf=null,hN.apply(fN,arguments)}function mN(t,e,n,r,i,s,o,l,u){if(pN.apply(this,arguments),jc){if(jc){var d=Bf;jc=!1,Bf=null}else throw Error(de(198));Uf||(Uf=!0,Av=d)}}function Oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wx(t){if(Oa(t)!==t)throw Error(de(188))}function gN(t){var e=t.alternate;if(!e){if(e=Oa(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wx(i),t;if(s===r)return wx(i),e;s=s.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function zT(t){return t=gN(t),t!==null?BT(t):null}function BT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BT(t);if(e!==null)return e;t=t.sibling}return null}var UT=Pr.unstable_scheduleCallback,xx=Pr.unstable_cancelCallback,vN=Pr.unstable_shouldYield,yN=Pr.unstable_requestPaint,qt=Pr.unstable_now,_N=Pr.unstable_getCurrentPriorityLevel,w_=Pr.unstable_ImmediatePriority,$T=Pr.unstable_UserBlockingPriority,$f=Pr.unstable_NormalPriority,wN=Pr.unstable_LowPriority,HT=Pr.unstable_IdlePriority,Xp=null,Di=null;function xN(t){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Xp,t,void 0,(t.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:CN,bN=Math.log,EN=Math.LN2;function CN(t){return t>>>=0,t===0?32:31-(bN(t)/EN|0)|0}var jh=64,Vh=4194304;function Tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Tc(l):(s&=o,s!==0&&(r=Tc(s)))}else o=n&~i,o!==0?r=Tc(o):s!==0&&(r=Tc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gi(e),i=1<<n,r|=t[n],e&=~i;return r}function SN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gi(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=SN(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WT(){var t=jh;return jh<<=1,!(jh&4194240)&&(jh=64),t}function wg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gi(e),t[e]=n}function LN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function x_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ft=0;function GT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qT,b_,ZT,KT,QT,Mv=!1,Fh=[],po=null,mo=null,go=null,nd=new Map,rd=new Map,Qs=[],PN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function fc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$d(e),e!==null&&b_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IN(t,e,n,r,i){switch(e){case"focusin":return po=fc(po,t,e,n,r,i),!0;case"dragenter":return mo=fc(mo,t,e,n,r,i),!0;case"mouseover":return go=fc(go,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,fc(nd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,fc(rd.get(s)||null,t,e,n,r,i)),!0}return!1}function YT(t){var e=aa(t.target);if(e!==null){var n=Oa(e);if(n!==null){if(e=n.tag,e===13){if(e=FT(n),e!==null){t.blockedOn=e,QT(t.priority,function(){ZT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ff(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pv=r,n.target.dispatchEvent(r),Pv=null}else return e=$d(n),e!==null&&b_(e),t.blockedOn=n,!1;e.shift()}return!0}function Ex(t,e,n){ff(t)&&n.delete(e)}function kN(){Mv=!1,po!==null&&ff(po)&&(po=null),mo!==null&&ff(mo)&&(mo=null),go!==null&&ff(go)&&(go=null),nd.forEach(Ex),rd.forEach(Ex)}function pc(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,kN)))}function id(t){function e(i){return pc(i,t)}if(0<Fh.length){pc(Fh[0],t);for(var n=1;n<Fh.length;n++){var r=Fh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(po!==null&&pc(po,t),mo!==null&&pc(mo,t),go!==null&&pc(go,t),nd.forEach(e),rd.forEach(e),n=0;n<Qs.length;n++)r=Qs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)YT(n),n.blockedOn===null&&Qs.shift()}var Ol=Ps.ReactCurrentBatchConfig,Wf=!0;function AN(t,e,n,r){var i=ft,s=Ol.transition;Ol.transition=null;try{ft=1,E_(t,e,n,r)}finally{ft=i,Ol.transition=s}}function RN(t,e,n,r){var i=ft,s=Ol.transition;Ol.transition=null;try{ft=4,E_(t,e,n,r)}finally{ft=i,Ol.transition=s}}function E_(t,e,n,r){if(Wf){var i=Nv(t,e,n,r);if(i===null)kg(t,e,r,Gf,n),bx(t,r);else if(IN(i,t,e,n,r))r.stopPropagation();else if(bx(t,r),e&4&&-1<PN.indexOf(t)){for(;i!==null;){var s=$d(i);if(s!==null&&qT(s),s=Nv(t,e,n,r),s===null&&kg(t,e,r,Gf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kg(t,e,r,null,n)}}var Gf=null;function Nv(t,e,n,r){if(Gf=null,t=__(r),t=aa(t),t!==null)if(e=Oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gf=t,null}function JT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_N()){case w_:return 1;case $T:return 4;case $f:case wN:return 16;case HT:return 536870912;default:return 16}default:return 16}}var ao=null,C_=null,pf=null;function XT(){if(pf)return pf;var t,e=C_,n=e.length,r,i="value"in ao?ao.value:ao.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pf=i.slice(t,1<r?1-r:void 0)}function mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zh(){return!0}function Cx(){return!1}function kr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zh:Cx,this.isPropagationStopped=Cx,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zh)},persist:function(){},isPersistent:zh}),e}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S_=kr(_u),Ud=jt({},_u,{view:0,detail:0}),MN=kr(Ud),xg,bg,mc,em=jt({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mc&&(mc&&t.type==="mousemove"?(xg=t.screenX-mc.screenX,bg=t.screenY-mc.screenY):bg=xg=0,mc=t),xg)},movementY:function(t){return"movementY"in t?t.movementY:bg}}),Sx=kr(em),NN=jt({},em,{dataTransfer:0}),ON=kr(NN),DN=jt({},Ud,{relatedTarget:0}),Eg=kr(DN),jN=jt({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),VN=kr(jN),FN=jt({},_u,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zN=kr(FN),BN=jt({},_u,{data:0}),Tx=kr(BN),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$N={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HN[t])?!!e[t]:!1}function T_(){return WN}var GN=jt({},Ud,{key:function(t){if(t.key){var e=UN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$N[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T_,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qN=kr(GN),ZN=jt({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=kr(ZN),KN=jt({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T_}),QN=kr(KN),YN=jt({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=kr(YN),XN=jt({},em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eO=kr(XN),tO=[9,13,27,32],L_=ys&&"CompositionEvent"in window,Vc=null;ys&&"documentMode"in document&&(Vc=document.documentMode);var nO=ys&&"TextEvent"in window&&!Vc,eL=ys&&(!L_||Vc&&8<Vc&&11>=Vc),Px=" ",Ix=!1;function tL(t,e){switch(t){case"keyup":return tO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _l=!1;function rO(t,e){switch(t){case"compositionend":return nL(e);case"keypress":return e.which!==32?null:(Ix=!0,Px);case"textInput":return t=e.data,t===Px&&Ix?null:t;default:return null}}function iO(t,e){if(_l)return t==="compositionend"||!L_&&tL(t,e)?(t=XT(),pf=C_=ao=null,_l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eL&&e.locale!=="ko"?null:e.data;default:return null}}var sO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sO[t.type]:e==="textarea"}function rL(t,e,n,r){NT(r),e=qf(e,"onChange"),0<e.length&&(n=new S_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fc=null,sd=null;function oO(t){pL(t,0)}function tm(t){var e=bl(t);if(LT(e))return t}function aO(t,e){if(t==="change")return e}var iL=!1;if(ys){var Cg;if(ys){var Sg="oninput"in document;if(!Sg){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),Sg=typeof Ax.oninput=="function"}Cg=Sg}else Cg=!1;iL=Cg&&(!document.documentMode||9<document.documentMode)}function Rx(){Fc&&(Fc.detachEvent("onpropertychange",sL),sd=Fc=null)}function sL(t){if(t.propertyName==="value"&&tm(sd)){var e=[];rL(e,sd,t,__(t)),VT(oO,e)}}function lO(t,e,n){t==="focusin"?(Rx(),Fc=e,sd=n,Fc.attachEvent("onpropertychange",sL)):t==="focusout"&&Rx()}function uO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tm(sd)}function cO(t,e){if(t==="click")return tm(e)}function dO(t,e){if(t==="input"||t==="change")return tm(e)}function hO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wi=typeof Object.is=="function"?Object.is:hO;function od(t,e){if(wi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gv.call(e,i)||!wi(t[i],e[i]))return!1}return!0}function Mx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nx(t,e){var n=Mx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mx(n)}}function oL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aL(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zf(t.document)}return e}function P_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fO(t){var e=aL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oL(n.ownerDocument.documentElement,n)){if(r!==null&&P_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Nx(n,s);var o=Nx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pO=ys&&"documentMode"in document&&11>=document.documentMode,wl=null,Ov=null,zc=null,Dv=!1;function Ox(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dv||wl==null||wl!==zf(r)||(r=wl,"selectionStart"in r&&P_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zc&&od(zc,r)||(zc=r,r=qf(Ov,"onSelect"),0<r.length&&(e=new S_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wl)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xl={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},Tg={},lL={};ys&&(lL=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function nm(t){if(Tg[t])return Tg[t];if(!xl[t])return t;var e=xl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lL)return Tg[t]=e[n];return t}var uL=nm("animationend"),cL=nm("animationiteration"),dL=nm("animationstart"),hL=nm("transitionend"),fL=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(t,e){fL.set(t,e),Na(e,[t])}for(var Lg=0;Lg<Dx.length;Lg++){var Pg=Dx[Lg],mO=Pg.toLowerCase(),gO=Pg[0].toUpperCase()+Pg.slice(1);Bo(mO,"on"+gO)}Bo(uL,"onAnimationEnd");Bo(cL,"onAnimationIteration");Bo(dL,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(hL,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function jx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mN(r,e,void 0,t),t.currentTarget=null}function pL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;jx(i,l,d),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;jx(i,l,d),s=u}}}if(Uf)throw t=Av,Uf=!1,Av=null,t}function xt(t,e){var n=e[Bv];n===void 0&&(n=e[Bv]=new Set);var r=t+"__bubble";n.has(r)||(mL(e,t,2,!1),n.add(r))}function Ig(t,e,n){var r=0;e&&(r|=4),mL(n,t,r,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Uh]){t[Uh]=!0,bT.forEach(function(n){n!=="selectionchange"&&(vO.has(n)||Ig(n,!1,t),Ig(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,Ig("selectionchange",!1,e))}}function mL(t,e,n,r){switch(JT(e)){case 1:var i=AN;break;case 4:i=RN;break;default:i=E_}n=i.bind(null,e,n,t),i=void 0,!kv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}VT(function(){var d=s,f=__(n),m=[];e:{var y=fL.get(t);if(y!==void 0){var _=S_,x=t;switch(t){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":_=qN;break;case"focusin":x="focus",_=Eg;break;case"focusout":x="blur",_=Eg;break;case"beforeblur":case"afterblur":_=Eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=ON;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=QN;break;case uL:case cL:case dL:_=VN;break;case hL:_=JN;break;case"scroll":_=MN;break;case"wheel":_=eO;break;case"copy":case"cut":case"paste":_=zN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Lx}var b=(e&4)!==0,T=!b&&t==="scroll",E=b?y!==null?y+"Capture":null:y;b=[];for(var C=d,I;C!==null;){I=C;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,E!==null&&(N=td(C,E),N!=null&&b.push(ld(C,N,I)))),T)break;C=C.return}0<b.length&&(y=new _(y,x,null,n,f),m.push({event:y,listeners:b}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==Pv&&(x=n.relatedTarget||n.fromElement)&&(aa(x)||x[_s]))break e;if((_||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=d,x=x?aa(x):null,x!==null&&(T=Oa(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=d),_!==x)){if(b=Sx,N="onMouseLeave",E="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(b=Lx,N="onPointerLeave",E="onPointerEnter",C="pointer"),T=_==null?y:bl(_),I=x==null?y:bl(x),y=new b(N,C+"leave",_,n,f),y.target=T,y.relatedTarget=I,N=null,aa(f)===d&&(b=new b(E,C+"enter",x,n,f),b.target=I,b.relatedTarget=T,N=b),T=N,_&&x)t:{for(b=_,E=x,C=0,I=b;I;I=hl(I))C++;for(I=0,N=E;N;N=hl(N))I++;for(;0<C-I;)b=hl(b),C--;for(;0<I-C;)E=hl(E),I--;for(;C--;){if(b===E||E!==null&&b===E.alternate)break t;b=hl(b),E=hl(E)}b=null}else b=null;_!==null&&Vx(m,y,_,b,!1),x!==null&&T!==null&&Vx(m,T,x,b,!0)}}e:{if(y=d?bl(d):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var j=aO;else if(kx(y))if(iL)j=dO;else{j=uO;var z=lO}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(j=cO);if(j&&(j=j(t,d))){rL(m,j,n,f);break e}z&&z(t,y,d),t==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&Ev(y,"number",y.value)}switch(z=d?bl(d):window,t){case"focusin":(kx(z)||z.contentEditable==="true")&&(wl=z,Ov=d,zc=null);break;case"focusout":zc=Ov=wl=null;break;case"mousedown":Dv=!0;break;case"contextmenu":case"mouseup":case"dragend":Dv=!1,Ox(m,n,f);break;case"selectionchange":if(pO)break;case"keydown":case"keyup":Ox(m,n,f)}var A;if(L_)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else _l?tL(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(eL&&n.locale!=="ko"&&(_l||R!=="onCompositionStart"?R==="onCompositionEnd"&&_l&&(A=XT()):(ao=f,C_="value"in ao?ao.value:ao.textContent,_l=!0)),z=qf(d,R),0<z.length&&(R=new Tx(R,t,null,n,f),m.push({event:R,listeners:z}),A?R.data=A:(A=nL(n),A!==null&&(R.data=A)))),(A=nO?rO(t,n):iO(t,n))&&(d=qf(d,"onBeforeInput"),0<d.length&&(f=new Tx("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=A))}pL(m,e)})}function ld(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(t,n),s!=null&&r.unshift(ld(t,s,i)),s=td(t,e),s!=null&&r.push(ld(t,s,i))),t=t.return}return r}function hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=td(n,s),u!=null&&o.unshift(ld(n,u,l))):i||(u=td(n,s),u!=null&&o.push(ld(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yO=/\r\n?/g,_O=/\u0000|\uFFFD/g;function Fx(t){return(typeof t=="string"?t:""+t).replace(yO,`
`).replace(_O,"")}function $h(t,e,n){if(e=Fx(e),Fx(t)!==e&&n)throw Error(de(425))}function Zf(){}var jv=null,Vv=null;function Fv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zv=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,xO=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(bO)}:zv;function bO(t){setTimeout(function(){throw t})}function Ag(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),id(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);id(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wu=Math.random().toString(36).slice(2),Oi="__reactFiber$"+wu,ud="__reactProps$"+wu,_s="__reactContainer$"+wu,Bv="__reactEvents$"+wu,EO="__reactListeners$"+wu,CO="__reactHandles$"+wu;function aa(t){var e=t[Oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_s]||n[Oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bx(t);t!==null;){if(n=t[Oi])return n;t=Bx(t)}return e}t=n,n=t.parentNode}return null}function $d(t){return t=t[Oi]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function rm(t){return t[ud]||null}var Uv=[],El=-1;function Uo(t){return{current:t}}function Et(t){0>El||(t.current=Uv[El],Uv[El]=null,El--)}function yt(t,e){El++,Uv[El]=t.current,t.current=e}var ko={},Un=Uo(ko),hr=Uo(!1),wa=ko;function tu(t,e){var n=t.type.contextTypes;if(!n)return ko;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fr(t){return t=t.childContextTypes,t!=null}function Kf(){Et(hr),Et(Un)}function Ux(t,e,n){if(Un.current!==ko)throw Error(de(168));yt(Un,e),yt(hr,n)}function gL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(de(108,lN(t)||"Unknown",i));return jt({},n,r)}function Qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ko,wa=Un.current,yt(Un,t),yt(hr,hr.current),!0}function $x(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=gL(t,e,wa),r.__reactInternalMemoizedMergedChildContext=t,Et(hr),Et(Un),yt(Un,t)):Et(hr),yt(hr,n)}var as=null,im=!1,Rg=!1;function vL(t){as===null?as=[t]:as.push(t)}function SO(t){im=!0,vL(t)}function $o(){if(!Rg&&as!==null){Rg=!0;var t=0,e=ft;try{var n=as;for(ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,im=!1}catch(i){throw as!==null&&(as=as.slice(t+1)),UT(w_,$o),i}finally{ft=e,Rg=!1}}return null}var Cl=[],Sl=0,Yf=null,Jf=0,$r=[],Hr=0,xa=null,cs=1,ds="";function ta(t,e){Cl[Sl++]=Jf,Cl[Sl++]=Yf,Yf=t,Jf=e}function yL(t,e,n){$r[Hr++]=cs,$r[Hr++]=ds,$r[Hr++]=xa,xa=t;var r=cs;t=ds;var i=32-gi(r)-1;r&=~(1<<i),n+=1;var s=32-gi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cs=1<<32-gi(e)+i|n<<i|r,ds=s+t}else cs=1<<s|n<<i|r,ds=t}function I_(t){t.return!==null&&(ta(t,1),yL(t,1,0))}function k_(t){for(;t===Yf;)Yf=Cl[--Sl],Cl[Sl]=null,Jf=Cl[--Sl],Cl[Sl]=null;for(;t===xa;)xa=$r[--Hr],$r[Hr]=null,ds=$r[--Hr],$r[Hr]=null,cs=$r[--Hr],$r[Hr]=null}var Tr=null,Sr=null,Pt=!1,di=null;function _L(t,e){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,Sr=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xa!==null?{id:cs,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tr=t,Sr=null,!0):!1;default:return!1}}function $v(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hv(t){if(Pt){var e=Sr;if(e){var n=e;if(!Hx(t,e)){if($v(t))throw Error(de(418));e=vo(n.nextSibling);var r=Tr;e&&Hx(t,e)?_L(r,n):(t.flags=t.flags&-4097|2,Pt=!1,Tr=t)}}else{if($v(t))throw Error(de(418));t.flags=t.flags&-4097|2,Pt=!1,Tr=t}}}function Wx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function Hh(t){if(t!==Tr)return!1;if(!Pt)return Wx(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fv(t.type,t.memoizedProps)),e&&(e=Sr)){if($v(t))throw wL(),Error(de(418));for(;e;)_L(t,e),e=vo(e.nextSibling)}if(Wx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Tr?vo(t.stateNode.nextSibling):null;return!0}function wL(){for(var t=Sr;t;)t=vo(t.nextSibling)}function nu(){Sr=Tr=null,Pt=!1}function A_(t){di===null?di=[t]:di.push(t)}var TO=Ps.ReactCurrentBatchConfig;function gc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Wh(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gx(t){var e=t._init;return e(t._payload)}function xL(t){function e(E,C){if(t){var I=E.deletions;I===null?(E.deletions=[C],E.flags|=16):I.push(C)}}function n(E,C){if(!t)return null;for(;C!==null;)e(E,C),C=C.sibling;return null}function r(E,C){for(E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function i(E,C){return E=xo(E,C),E.index=0,E.sibling=null,E}function s(E,C,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<C?(E.flags|=2,C):I):(E.flags|=2,C)):(E.flags|=1048576,C)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,C,I,N){return C===null||C.tag!==6?(C=Fg(I,E.mode,N),C.return=E,C):(C=i(C,I),C.return=E,C)}function u(E,C,I,N){var j=I.type;return j===yl?f(E,C,I.props.children,N,I.key):C!==null&&(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qs&&Gx(j)===C.type)?(N=i(C,I.props),N.ref=gc(E,C,I),N.return=E,N):(N=bf(I.type,I.key,I.props,null,E.mode,N),N.ref=gc(E,C,I),N.return=E,N)}function d(E,C,I,N){return C===null||C.tag!==4||C.stateNode.containerInfo!==I.containerInfo||C.stateNode.implementation!==I.implementation?(C=zg(I,E.mode,N),C.return=E,C):(C=i(C,I.children||[]),C.return=E,C)}function f(E,C,I,N,j){return C===null||C.tag!==7?(C=ya(I,E.mode,N,j),C.return=E,C):(C=i(C,I),C.return=E,C)}function m(E,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Fg(""+C,E.mode,I),C.return=E,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Nh:return I=bf(C.type,C.key,C.props,null,E.mode,I),I.ref=gc(E,null,C),I.return=E,I;case vl:return C=zg(C,E.mode,I),C.return=E,C;case qs:var N=C._init;return m(E,N(C._payload),I)}if(Sc(C)||dc(C))return C=ya(C,E.mode,I,null),C.return=E,C;Wh(E,C)}return null}function y(E,C,I,N){var j=C!==null?C.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return j!==null?null:l(E,C,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Nh:return I.key===j?u(E,C,I,N):null;case vl:return I.key===j?d(E,C,I,N):null;case qs:return j=I._init,y(E,C,j(I._payload),N)}if(Sc(I)||dc(I))return j!==null?null:f(E,C,I,N,null);Wh(E,I)}return null}function _(E,C,I,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(I)||null,l(C,E,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Nh:return E=E.get(N.key===null?I:N.key)||null,u(C,E,N,j);case vl:return E=E.get(N.key===null?I:N.key)||null,d(C,E,N,j);case qs:var z=N._init;return _(E,C,I,z(N._payload),j)}if(Sc(N)||dc(N))return E=E.get(I)||null,f(C,E,N,j,null);Wh(C,N)}return null}function x(E,C,I,N){for(var j=null,z=null,A=C,R=C=0,M=null;A!==null&&R<I.length;R++){A.index>R?(M=A,A=null):M=A.sibling;var D=y(E,A,I[R],N);if(D===null){A===null&&(A=M);break}t&&A&&D.alternate===null&&e(E,A),C=s(D,C,R),z===null?j=D:z.sibling=D,z=D,A=M}if(R===I.length)return n(E,A),Pt&&ta(E,R),j;if(A===null){for(;R<I.length;R++)A=m(E,I[R],N),A!==null&&(C=s(A,C,R),z===null?j=A:z.sibling=A,z=A);return Pt&&ta(E,R),j}for(A=r(E,A);R<I.length;R++)M=_(A,E,R,I[R],N),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?R:M.key),C=s(M,C,R),z===null?j=M:z.sibling=M,z=M);return t&&A.forEach(function(V){return e(E,V)}),Pt&&ta(E,R),j}function b(E,C,I,N){var j=dc(I);if(typeof j!="function")throw Error(de(150));if(I=j.call(I),I==null)throw Error(de(151));for(var z=j=null,A=C,R=C=0,M=null,D=I.next();A!==null&&!D.done;R++,D=I.next()){A.index>R?(M=A,A=null):M=A.sibling;var V=y(E,A,D.value,N);if(V===null){A===null&&(A=M);break}t&&A&&V.alternate===null&&e(E,A),C=s(V,C,R),z===null?j=V:z.sibling=V,z=V,A=M}if(D.done)return n(E,A),Pt&&ta(E,R),j;if(A===null){for(;!D.done;R++,D=I.next())D=m(E,D.value,N),D!==null&&(C=s(D,C,R),z===null?j=D:z.sibling=D,z=D);return Pt&&ta(E,R),j}for(A=r(E,A);!D.done;R++,D=I.next())D=_(A,E,R,D.value,N),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?R:D.key),C=s(D,C,R),z===null?j=D:z.sibling=D,z=D);return t&&A.forEach(function(U){return e(E,U)}),Pt&&ta(E,R),j}function T(E,C,I,N){if(typeof I=="object"&&I!==null&&I.type===yl&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Nh:e:{for(var j=I.key,z=C;z!==null;){if(z.key===j){if(j=I.type,j===yl){if(z.tag===7){n(E,z.sibling),C=i(z,I.props.children),C.return=E,E=C;break e}}else if(z.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qs&&Gx(j)===z.type){n(E,z.sibling),C=i(z,I.props),C.ref=gc(E,z,I),C.return=E,E=C;break e}n(E,z);break}else e(E,z);z=z.sibling}I.type===yl?(C=ya(I.props.children,E.mode,N,I.key),C.return=E,E=C):(N=bf(I.type,I.key,I.props,null,E.mode,N),N.ref=gc(E,C,I),N.return=E,E=N)}return o(E);case vl:e:{for(z=I.key;C!==null;){if(C.key===z)if(C.tag===4&&C.stateNode.containerInfo===I.containerInfo&&C.stateNode.implementation===I.implementation){n(E,C.sibling),C=i(C,I.children||[]),C.return=E,E=C;break e}else{n(E,C);break}else e(E,C);C=C.sibling}C=zg(I,E.mode,N),C.return=E,E=C}return o(E);case qs:return z=I._init,T(E,C,z(I._payload),N)}if(Sc(I))return x(E,C,I,N);if(dc(I))return b(E,C,I,N);Wh(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,C!==null&&C.tag===6?(n(E,C.sibling),C=i(C,I),C.return=E,E=C):(n(E,C),C=Fg(I,E.mode,N),C.return=E,E=C),o(E)):n(E,C)}return T}var ru=xL(!0),bL=xL(!1),Xf=Uo(null),ep=null,Tl=null,R_=null;function M_(){R_=Tl=ep=null}function N_(t){var e=Xf.current;Et(Xf),t._currentValue=e}function Wv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dl(t,e){ep=t,R_=Tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(R_!==t)if(t={context:t,memoizedValue:e,next:null},Tl===null){if(ep===null)throw Error(de(308));Tl=t,ep.dependencies={lanes:0,firstContext:t}}else Tl=Tl.next=t;return e}var la=null;function O_(t){la===null?la=[t]:la.push(t)}function EL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,O_(e)):(n.next=i.next,i.next=n),e.interleaved=n,ws(t,r)}function ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zs=!1;function D_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ws(t,n)}return i=r.interleaved,i===null?(e.next=e,O_(r)):(e.next=i.next,i.next=e),r.interleaved=e,ws(t,n)}function gf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x_(t,n)}}function qx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tp(t,e,n,r){var i=t.updateQueue;Zs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,f=d=u=null,l=s;do{var y=l.lane,_=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,b=l;switch(y=e,_=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){m=x.call(_,m,y);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,y=typeof x=="function"?x.call(_,m,y):x,y==null)break e;m=jt({},m,y);break e;case 2:Zs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else _={eventTime:_,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=_,u=m):f=f.next=_,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ea|=o,t.lanes=o,t.memoizedState=m}}function Zx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(de(191,i));i.call(r)}}}var Hd={},ji=Uo(Hd),cd=Uo(Hd),dd=Uo(Hd);function ua(t){if(t===Hd)throw Error(de(174));return t}function j_(t,e){switch(yt(dd,e),yt(cd,t),yt(ji,Hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sv(e,t)}Et(ji),yt(ji,e)}function iu(){Et(ji),Et(cd),Et(dd)}function SL(t){ua(dd.current);var e=ua(ji.current),n=Sv(e,t.type);e!==n&&(yt(cd,t),yt(ji,n))}function V_(t){cd.current===t&&(Et(ji),Et(cd))}var Nt=Uo(0);function np(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mg=[];function F_(){for(var t=0;t<Mg.length;t++)Mg[t]._workInProgressVersionPrimary=null;Mg.length=0}var vf=Ps.ReactCurrentDispatcher,Ng=Ps.ReactCurrentBatchConfig,ba=0,Dt=null,on=null,mn=null,rp=!1,Bc=!1,hd=0,LO=0;function Mn(){throw Error(de(321))}function z_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wi(t[n],e[n]))return!1;return!0}function B_(t,e,n,r,i,s){if(ba=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vf.current=t===null||t.memoizedState===null?AO:RO,t=n(r,i),Bc){s=0;do{if(Bc=!1,hd=0,25<=s)throw Error(de(301));s+=1,mn=on=null,e.updateQueue=null,vf.current=MO,t=n(r,i)}while(Bc)}if(vf.current=ip,e=on!==null&&on.next!==null,ba=0,mn=on=Dt=null,rp=!1,e)throw Error(de(300));return t}function U_(){var t=hd!==0;return hd=0,t}function ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Dt.memoizedState=mn=t:mn=mn.next=t,mn}function Kr(){if(on===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=mn===null?Dt.memoizedState:mn.next;if(e!==null)mn=e,on=t;else{if(t===null)throw Error(de(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},mn===null?Dt.memoizedState=mn=t:mn=mn.next=t}return mn}function fd(t,e){return typeof e=="function"?e(t):e}function Og(t){var e=Kr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,d=s;do{var f=d.lane;if((ba&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,Dt.lanes|=f,Ea|=f}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=l,wi(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Dt.lanes|=s,Ea|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dg(t){var e=Kr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wi(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function TL(){}function LL(t,e){var n=Dt,r=Kr(),i=e(),s=!wi(r.memoizedState,i);if(s&&(r.memoizedState=i,dr=!0),r=r.queue,$_(kL.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,pd(9,IL.bind(null,n,r,i,e),void 0,null),gn===null)throw Error(de(349));ba&30||PL(n,e,i)}return i}function PL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IL(t,e,n,r){e.value=n,e.getSnapshot=r,AL(e)&&RL(t)}function kL(t,e,n){return n(function(){AL(e)&&RL(t)})}function AL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wi(t,n)}catch{return!0}}function RL(t){var e=ws(t,1);e!==null&&vi(e,t,1,-1)}function Kx(t){var e=ki();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=kO.bind(null,Dt,t),[e.memoizedState,t]}function pd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ML(){return Kr().memoizedState}function yf(t,e,n,r){var i=ki();Dt.flags|=t,i.memoizedState=pd(1|e,n,void 0,r===void 0?null:r)}function sm(t,e,n,r){var i=Kr();r=r===void 0?null:r;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,r!==null&&z_(r,o.deps)){i.memoizedState=pd(e,n,s,r);return}}Dt.flags|=t,i.memoizedState=pd(1|e,n,s,r)}function Qx(t,e){return yf(8390656,8,t,e)}function $_(t,e){return sm(2048,8,t,e)}function NL(t,e){return sm(4,2,t,e)}function OL(t,e){return sm(4,4,t,e)}function DL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jL(t,e,n){return n=n!=null?n.concat([t]):null,sm(4,4,DL.bind(null,e,t),n)}function H_(){}function VL(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FL(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zL(t,e,n){return ba&21?(wi(n,e)||(n=WT(),Dt.lanes|=n,Ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function PO(t,e){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var r=Ng.transition;Ng.transition={};try{t(!1),e()}finally{ft=n,Ng.transition=r}}function BL(){return Kr().memoizedState}function IO(t,e,n){var r=wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UL(t))$L(e,n);else if(n=EL(t,e,n,r),n!==null){var i=er();vi(n,t,r,i),HL(n,e,r)}}function kO(t,e,n){var r=wo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UL(t))$L(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,wi(l,o)){var u=e.interleaved;u===null?(i.next=i,O_(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=EL(t,e,i,r),n!==null&&(i=er(),vi(n,t,r,i),HL(n,e,r))}}function UL(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function $L(t,e){Bc=rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x_(t,n)}}var ip={readContext:Zr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},AO={readContext:Zr,useCallback:function(t,e){return ki().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:Qx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yf(4194308,4,DL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yf(4194308,4,t,e)},useInsertionEffect:function(t,e){return yf(4,2,t,e)},useMemo:function(t,e){var n=ki();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ki();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IO.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var e=ki();return t={current:t},e.memoizedState=t},useState:Kx,useDebugValue:H_,useDeferredValue:function(t){return ki().memoizedState=t},useTransition:function(){var t=Kx(!1),e=t[0];return t=PO.bind(null,t[1]),ki().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dt,i=ki();if(Pt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),gn===null)throw Error(de(349));ba&30||PL(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qx(kL.bind(null,r,s,t),[t]),r.flags|=2048,pd(9,IL.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ki(),e=gn.identifierPrefix;if(Pt){var n=ds,r=cs;n=(r&~(1<<32-gi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RO={readContext:Zr,useCallback:VL,useContext:Zr,useEffect:$_,useImperativeHandle:jL,useInsertionEffect:NL,useLayoutEffect:OL,useMemo:FL,useReducer:Og,useRef:ML,useState:function(){return Og(fd)},useDebugValue:H_,useDeferredValue:function(t){var e=Kr();return zL(e,on.memoizedState,t)},useTransition:function(){var t=Og(fd)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:TL,useSyncExternalStore:LL,useId:BL,unstable_isNewReconciler:!1},MO={readContext:Zr,useCallback:VL,useContext:Zr,useEffect:$_,useImperativeHandle:jL,useInsertionEffect:NL,useLayoutEffect:OL,useMemo:FL,useReducer:Dg,useRef:ML,useState:function(){return Dg(fd)},useDebugValue:H_,useDeferredValue:function(t){var e=Kr();return on===null?e.memoizedState=t:zL(e,on.memoizedState,t)},useTransition:function(){var t=Dg(fd)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:TL,useSyncExternalStore:LL,useId:BL,unstable_isNewReconciler:!1};function oi(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var om={isMounted:function(t){return(t=t._reactInternals)?Oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=er(),i=wo(t),s=ps(r,i);s.payload=e,n!=null&&(s.callback=n),e=yo(t,s,i),e!==null&&(vi(e,t,i,r),gf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=er(),i=wo(t),s=ps(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yo(t,s,i),e!==null&&(vi(e,t,i,r),gf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=er(),r=wo(t),i=ps(n,r);i.tag=2,e!=null&&(i.callback=e),e=yo(t,i,r),e!==null&&(vi(e,t,r,n),gf(e,t,r))}};function Yx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!od(n,r)||!od(i,s):!0}function WL(t,e,n){var r=!1,i=ko,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=fr(e)?wa:Un.current,r=e.contextTypes,s=(r=r!=null)?tu(t,i):ko),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=om,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&om.enqueueReplaceState(e,e.state,null)}function qv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},D_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=fr(e)?wa:Un.current,i.context=tu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&om.enqueueReplaceState(i,i.state,null),tp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function su(t,e){try{var n="",r=e;do n+=aN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NO=typeof WeakMap=="function"?WeakMap:Map;function GL(t,e,n){n=ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){op||(op=!0,iy=r),Zv(t,e)},n}function qL(t,e,n){n=ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zv(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZO.bind(null,t,e,n),e.then(t,t))}function eb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ps(-1,1),e.tag=2,yo(n,e,1))),n.lanes|=1),t)}var OO=Ps.ReactCurrentOwner,dr=!1;function Jn(t,e,n,r){e.child=t===null?bL(e,null,n,r):ru(e,t.child,n,r)}function nb(t,e,n,r,i){n=n.render;var s=e.ref;return Dl(e,i),r=B_(t,e,n,r,s,i),n=U_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Pt&&n&&I_(e),e.flags|=1,Jn(t,e,r,i),e.child)}function rb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!J_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZL(t,e,s,r,i)):(t=bf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,r)&&t.ref===e.ref)return xs(t,e,i)}return e.flags|=1,t=xo(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZL(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(od(s,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,xs(t,e,i)}return Kv(t,e,n,r,i)}function KL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Pl,xr),xr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(Pl,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yt(Pl,xr),xr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yt(Pl,xr),xr|=r;return Jn(t,e,i,n),e.child}function QL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kv(t,e,n,r,i){var s=fr(n)?wa:Un.current;return s=tu(e,s),Dl(e,i),n=B_(t,e,n,r,s,i),r=U_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Pt&&r&&I_(e),e.flags|=1,Jn(t,e,n,i),e.child)}function ib(t,e,n,r,i){if(fr(n)){var s=!0;Qf(e)}else s=!1;if(Dl(e,i),e.stateNode===null)_f(t,e),WL(e,n,r),qv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Zr(d):(d=fr(n)?wa:Un.current,d=tu(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&Jx(e,o,r,d),Zs=!1;var y=e.memoizedState;o.state=y,tp(e,r,o,i),u=e.memoizedState,l!==r||y!==u||hr.current||Zs?(typeof f=="function"&&(Gv(e,n,f,r),u=e.memoizedState),(l=Zs||Yx(e,n,l,r,y,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CL(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:oi(e.type,l),o.props=d,m=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zr(u):(u=fr(n)?wa:Un.current,u=tu(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==u)&&Jx(e,o,r,u),Zs=!1,y=e.memoizedState,o.state=y,tp(e,r,o,i);var x=e.memoizedState;l!==m||y!==x||hr.current||Zs?(typeof _=="function"&&(Gv(e,n,_,r),x=e.memoizedState),(d=Zs||Yx(e,n,d,r,y,x,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Qv(t,e,n,r,s,i)}function Qv(t,e,n,r,i,s){QL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$x(e,n,!1),xs(t,e,s);r=e.stateNode,OO.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ru(e,t.child,null,s),e.child=ru(e,null,l,s)):Jn(t,e,l,s),e.memoizedState=r.state,i&&$x(e,n,!0),e.child}function YL(t){var e=t.stateNode;e.pendingContext?Ux(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ux(t,e.context,!1),j_(t,e.containerInfo)}function sb(t,e,n,r,i){return nu(),A_(i),e.flags|=256,Jn(t,e,n,r),e.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Jv(t){return{baseLanes:t,cachePool:null,transitions:null}}function JL(t,e,n){var r=e.pendingProps,i=Nt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yt(Nt,i&1),t===null)return Hv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=um(o,r,0,null),t=ya(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jv(n),e.memoizedState=Yv,t):W_(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return DO(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xo(l,s):(s=ya(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yv,r}return s=t.child,t=s.sibling,r=xo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function W_(t,e){return e=um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,n,r){return r!==null&&A_(r),ru(e,t.child,null,n),t=W_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jg(Error(de(422))),Gh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=um({mode:"visible",children:r.children},i,0,null),s=ya(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ru(e,t.child,null,o),e.child.memoizedState=Jv(o),e.memoizedState=Yv,s);if(!(e.mode&1))return Gh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(de(419)),r=jg(s,r,void 0),Gh(t,e,o,r)}if(l=(o&t.childLanes)!==0,dr||l){if(r=gn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ws(t,i),vi(r,t,i,-1))}return Y_(),r=jg(Error(de(421))),Gh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sr=vo(i.nextSibling),Tr=e,Pt=!0,di=null,t!==null&&($r[Hr++]=cs,$r[Hr++]=ds,$r[Hr++]=xa,cs=t.id,ds=t.overflow,xa=e),e=W_(e,r.children),e.flags|=4096,e)}function ob(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wv(t.return,e,n)}function Vg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jn(t,e,r.children,n),r=Nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ob(t,n,e);else if(t.tag===19)ob(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt(Nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&np(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&np(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vg(e,!0,n,null,s);break;case"together":Vg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jO(t,e,n){switch(e.tag){case 3:YL(e),nu();break;case 5:SL(e);break;case 1:fr(e.type)&&Qf(e);break;case 4:j_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yt(Xf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt(Nt,Nt.current&1),e.flags|=128,null):n&e.child.childLanes?JL(t,e,n):(yt(Nt,Nt.current&1),t=xs(t,e,n),t!==null?t.sibling:null);yt(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,KL(t,e,n)}return xs(t,e,n)}var eP,Xv,tP,nP;eP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xv=function(){};tP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ua(ji.current);var s=null;switch(n){case"input":i=xv(t,i),r=xv(t,r),s=[];break;case"select":i=jt({},i,{value:void 0}),r=jt({},r,{value:void 0}),s=[];break;case"textarea":i=Cv(t,i),r=Cv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zf)}Tv(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Xc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&xt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};nP=function(t,e,n,r){n!==r&&(e.flags|=4)};function vc(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VO(t,e,n){var r=e.pendingProps;switch(k_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return fr(e.type)&&Kf(),Nn(e),null;case 3:return r=e.stateNode,iu(),Et(hr),Et(Un),F_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,di!==null&&(ay(di),di=null))),Xv(t,e),Nn(e),null;case 5:V_(e);var i=ua(dd.current);if(n=e.type,t!==null&&e.stateNode!=null)tP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return Nn(e),null}if(t=ua(ji.current),Hh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Oi]=e,r[ud]=s,t=(e.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(i=0;i<Lc.length;i++)xt(Lc[i],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":mx(r,s),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xt("invalid",r);break;case"textarea":vx(r,s),xt("invalid",r)}Tv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$h(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$h(r.textContent,l,t),i=["children",""+l]):Xc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xt("scroll",r)}switch(n){case"input":Oh(r),gx(r,s,!0);break;case"textarea":Oh(r),yx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Oi]=e,t[ud]=r,eP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lv(n,r),n){case"dialog":xt("cancel",t),xt("close",t),i=r;break;case"iframe":case"object":case"embed":xt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lc.length;i++)xt(Lc[i],t);i=r;break;case"source":xt("error",t),i=r;break;case"img":case"image":case"link":xt("error",t),xt("load",t),i=r;break;case"details":xt("toggle",t),i=r;break;case"input":mx(t,r),i=xv(t,r),xt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jt({},r,{value:void 0}),xt("invalid",t);break;case"textarea":vx(t,r),i=Cv(t,r),xt("invalid",t);break;default:i=r}Tv(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?MT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&AT(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ed(t,u):typeof u=="number"&&ed(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&xt("scroll",t):u!=null&&m_(t,s,u,o))}switch(n){case"input":Oh(t),gx(t,r,!1);break;case"textarea":Oh(t),yx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Io(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)nP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=ua(dd.current),ua(ji.current),Hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Oi]=e,(s=r.nodeValue!==n)&&(t=Tr,t!==null))switch(t.tag){case 3:$h(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$h(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oi]=e,e.stateNode=r}return Nn(e),null;case 13:if(Et(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&Sr!==null&&e.mode&1&&!(e.flags&128))wL(),nu(),e.flags|=98560,s=!1;else if(s=Hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(de(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[Oi]=e}else nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else di!==null&&(ay(di),di=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nt.current&1?an===0&&(an=3):Y_())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return iu(),Xv(t,e),t===null&&ad(e.stateNode.containerInfo),Nn(e),null;case 10:return N_(e.type._context),Nn(e),null;case 17:return fr(e.type)&&Kf(),Nn(e),null;case 19:if(Et(Nt),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)vc(s,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=np(t),o!==null){for(e.flags|=128,vc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt(Nt,Nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&qt()>ou&&(e.flags|=128,r=!0,vc(s,!1),e.lanes=4194304)}else{if(!r)if(t=np(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pt)return Nn(e),null}else 2*qt()-s.renderingStartTime>ou&&n!==1073741824&&(e.flags|=128,r=!0,vc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,n=Nt.current,yt(Nt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return Q_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function FO(t,e){switch(k_(e),e.tag){case 1:return fr(e.type)&&Kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return iu(),Et(hr),Et(Un),F_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return V_(e),null;case 13:if(Et(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));nu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(Nt),null;case 4:return iu(),null;case 10:return N_(e.type._context),null;case 22:case 23:return Q_(),null;case 24:return null;default:return null}}var qh=!1,Vn=!1,zO=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function ey(t,e,n){try{n()}catch(r){$t(t,e,r)}}var ab=!1;function BO(t,e){if(jv=Wf,t=aL(),P_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,f=0,m=t,y=null;t:for(;;){for(var _;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(_=m.firstChild)!==null;)y=m,m=_;for(;;){if(m===t)break t;if(y===n&&++d===i&&(l=o),y===s&&++f===r&&(u=o),(_=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vv={focusedElem:t,selectionRange:n},Wf=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,T=x.memoizedState,E=e.stateNode,C=E.getSnapshotBeforeUpdate(e.elementType===e.type?b:oi(e.type,b),T);E.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(N){$t(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return x=ab,ab=!1,x}function Uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ey(e,n,s)}i=i.next}while(i!==r)}}function am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ty(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rP(t){var e=t.alternate;e!==null&&(t.alternate=null,rP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[ud],delete e[Bv],delete e[EO],delete e[CO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iP(t){return t.tag===5||t.tag===3||t.tag===4}function lb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zf));else if(r!==4&&(t=t.child,t!==null))for(ny(t,e,n),t=t.sibling;t!==null;)ny(t,e,n),t=t.sibling}function ry(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ry(t,e,n),t=t.sibling;t!==null;)ry(t,e,n),t=t.sibling}var yn=null,ci=!1;function Bs(t,e,n){for(n=n.child;n!==null;)sP(t,e,n),n=n.sibling}function sP(t,e,n){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Xp,n)}catch{}switch(n.tag){case 5:Vn||Ll(n,e);case 6:var r=yn,i=ci;yn=null,Bs(t,e,n),yn=r,ci=i,yn!==null&&(ci?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(ci?(t=yn,n=n.stateNode,t.nodeType===8?Ag(t.parentNode,n):t.nodeType===1&&Ag(t,n),id(t)):Ag(yn,n.stateNode));break;case 4:r=yn,i=ci,yn=n.stateNode.containerInfo,ci=!0,Bs(t,e,n),yn=r,ci=i;break;case 0:case 11:case 14:case 15:if(!Vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ey(n,e,o),i=i.next}while(i!==r)}Bs(t,e,n);break;case 1:if(!Vn&&(Ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$t(n,e,l)}Bs(t,e,n);break;case 21:Bs(t,e,n);break;case 22:n.mode&1?(Vn=(r=Vn)||n.memoizedState!==null,Bs(t,e,n),Vn=r):Bs(t,e,n);break;default:Bs(t,e,n)}}function ub(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zO),e.forEach(function(r){var i=QO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:yn=l.stateNode,ci=!1;break e;case 3:yn=l.stateNode.containerInfo,ci=!0;break e;case 4:yn=l.stateNode.containerInfo,ci=!0;break e}l=l.return}if(yn===null)throw Error(de(160));sP(s,o,i),yn=null,ci=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){$t(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oP(e,t),e=e.sibling}function oP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ii(e,t),Ii(t),r&4){try{Uc(3,t,t.return),am(3,t)}catch(b){$t(t,t.return,b)}try{Uc(5,t,t.return)}catch(b){$t(t,t.return,b)}}break;case 1:ii(e,t),Ii(t),r&512&&n!==null&&Ll(n,n.return);break;case 5:if(ii(e,t),Ii(t),r&512&&n!==null&&Ll(n,n.return),t.flags&32){var i=t.stateNode;try{ed(i,"")}catch(b){$t(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&PT(i,s),Lv(l,o);var d=Lv(l,s);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?MT(i,m):f==="dangerouslySetInnerHTML"?AT(i,m):f==="children"?ed(i,m):m_(i,f,m,d)}switch(l){case"input":bv(i,s);break;case"textarea":IT(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Rl(i,!!s.multiple,_,!1):y!==!!s.multiple&&(s.defaultValue!=null?Rl(i,!!s.multiple,s.defaultValue,!0):Rl(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(b){$t(t,t.return,b)}}break;case 6:if(ii(e,t),Ii(t),r&4){if(t.stateNode===null)throw Error(de(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){$t(t,t.return,b)}}break;case 3:if(ii(e,t),Ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(b){$t(t,t.return,b)}break;case 4:ii(e,t),Ii(t);break;case 13:ii(e,t),Ii(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Z_=qt())),r&4&&ub(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Vn=(d=Vn)||f,ii(e,t),Vn=d):ii(e,t),Ii(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Ee=t,f=t.child;f!==null;){for(m=Ee=f;Ee!==null;){switch(y=Ee,_=y.child,y.tag){case 0:case 11:case 14:case 15:Uc(4,y,y.return);break;case 1:Ll(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){$t(r,n,b)}}break;case 5:Ll(y,y.return);break;case 22:if(y.memoizedState!==null){db(m);continue}}_!==null?(_.return=y,Ee=_):db(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=RT("display",o))}catch(b){$t(t,t.return,b)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){$t(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ii(e,t),Ii(t),r&4&&ub(t);break;case 21:break;default:ii(e,t),Ii(t)}}function Ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iP(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ed(i,""),r.flags&=-33);var s=lb(t);ry(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=lb(t);ny(t,l,o);break;default:throw Error(de(161))}}catch(u){$t(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UO(t,e,n){Ee=t,aP(t)}function aP(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qh;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Vn;l=qh;var d=Vn;if(qh=o,(Vn=u)&&!d)for(Ee=i;Ee!==null;)o=Ee,u=o.child,o.tag===22&&o.memoizedState!==null?hb(i):u!==null?(u.return=o,Ee=u):hb(i);for(;s!==null;)Ee=s,aP(s),s=s.sibling;Ee=i,qh=l,Vn=d}cb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):cb(t)}}function cb(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vn||am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&id(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Vn||e.flags&512&&ty(e)}catch(y){$t(e,e.return,y)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function db(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function hb(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{am(4,e)}catch(u){$t(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){$t(e,i,u)}}var s=e.return;try{ty(e)}catch(u){$t(e,s,u)}break;case 5:var o=e.return;try{ty(e)}catch(u){$t(e,o,u)}}}catch(u){$t(e,e.return,u)}if(e===t){Ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ee=l;break}Ee=e.return}}var $O=Math.ceil,sp=Ps.ReactCurrentDispatcher,G_=Ps.ReactCurrentOwner,qr=Ps.ReactCurrentBatchConfig,ot=0,gn=null,en=null,En=0,xr=0,Pl=Uo(0),an=0,md=null,Ea=0,lm=0,q_=0,$c=null,cr=null,Z_=0,ou=1/0,os=null,op=!1,iy=null,_o=null,Zh=!1,lo=null,ap=0,Hc=0,sy=null,wf=-1,xf=0;function er(){return ot&6?qt():wf!==-1?wf:wf=qt()}function wo(t){return t.mode&1?ot&2&&En!==0?En&-En:TO.transition!==null?(xf===0&&(xf=WT()),xf):(t=ft,t!==0||(t=window.event,t=t===void 0?16:JT(t.type)),t):1}function vi(t,e,n,r){if(50<Hc)throw Hc=0,sy=null,Error(de(185));Bd(t,n,r),(!(ot&2)||t!==gn)&&(t===gn&&(!(ot&2)&&(lm|=n),an===4&&Ys(t,En)),pr(t,r),n===1&&ot===0&&!(e.mode&1)&&(ou=qt()+500,im&&$o()))}function pr(t,e){var n=t.callbackNode;TN(t,e);var r=Hf(t,t===gn?En:0);if(r===0)n!==null&&xx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xx(n),e===1)t.tag===0?SO(fb.bind(null,t)):vL(fb.bind(null,t)),xO(function(){!(ot&6)&&$o()}),n=null;else{switch(GT(r)){case 1:n=w_;break;case 4:n=$T;break;case 16:n=$f;break;case 536870912:n=HT;break;default:n=$f}n=mP(n,lP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lP(t,e){if(wf=-1,xf=0,ot&6)throw Error(de(327));var n=t.callbackNode;if(jl()&&t.callbackNode!==n)return null;var r=Hf(t,t===gn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lp(t,r);else{e=r;var i=ot;ot|=2;var s=cP();(gn!==t||En!==e)&&(os=null,ou=qt()+500,va(t,e));do try{GO();break}catch(l){uP(t,l)}while(!0);M_(),sp.current=s,ot=i,en!==null?e=0:(gn=null,En=0,e=an)}if(e!==0){if(e===2&&(i=Rv(t),i!==0&&(r=i,e=oy(t,i))),e===1)throw n=md,va(t,0),Ys(t,r),pr(t,qt()),n;if(e===6)Ys(t,r);else{if(i=t.current.alternate,!(r&30)&&!HO(i)&&(e=lp(t,r),e===2&&(s=Rv(t),s!==0&&(r=s,e=oy(t,s))),e===1))throw n=md,va(t,0),Ys(t,r),pr(t,qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:na(t,cr,os);break;case 3:if(Ys(t,r),(r&130023424)===r&&(e=Z_+500-qt(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){er(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zv(na.bind(null,t,cr,os),e);break}na(t,cr,os);break;case 4:if(Ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$O(r/1960))-r,10<r){t.timeoutHandle=zv(na.bind(null,t,cr,os),r);break}na(t,cr,os);break;case 5:na(t,cr,os);break;default:throw Error(de(329))}}}return pr(t,qt()),t.callbackNode===n?lP.bind(null,t):null}function oy(t,e){var n=$c;return t.current.memoizedState.isDehydrated&&(va(t,e).flags|=256),t=lp(t,e),t!==2&&(e=cr,cr=n,e!==null&&ay(e)),t}function ay(t){cr===null?cr=t:cr.push.apply(cr,t)}function HO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~q_,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gi(e),r=1<<n;t[n]=-1,e&=~r}}function fb(t){if(ot&6)throw Error(de(327));jl();var e=Hf(t,0);if(!(e&1))return pr(t,qt()),null;var n=lp(t,e);if(t.tag!==0&&n===2){var r=Rv(t);r!==0&&(e=r,n=oy(t,r))}if(n===1)throw n=md,va(t,0),Ys(t,e),pr(t,qt()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,cr,os),pr(t,qt()),null}function K_(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(ou=qt()+500,im&&$o())}}function Ca(t){lo!==null&&lo.tag===0&&!(ot&6)&&jl();var e=ot;ot|=1;var n=qr.transition,r=ft;try{if(qr.transition=null,ft=1,t)return t()}finally{ft=r,qr.transition=n,ot=e,!(ot&6)&&$o()}}function Q_(){xr=Pl.current,Et(Pl)}function va(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wO(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(k_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kf();break;case 3:iu(),Et(hr),Et(Un),F_();break;case 5:V_(r);break;case 4:iu();break;case 13:Et(Nt);break;case 19:Et(Nt);break;case 10:N_(r.type._context);break;case 22:case 23:Q_()}n=n.return}if(gn=t,en=t=xo(t.current,null),En=xr=e,an=0,md=null,q_=lm=Ea=0,cr=$c=null,la!==null){for(e=0;e<la.length;e++)if(n=la[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}la=null}return t}function uP(t,e){do{var n=en;try{if(M_(),vf.current=ip,rp){for(var r=Dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rp=!1}if(ba=0,mn=on=Dt=null,Bc=!1,hd=0,G_.current=null,n===null||n.return===null){an=1,md=e,en=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=En,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=eb(o);if(_!==null){_.flags&=-257,tb(_,o,l,s,e),_.mode&1&&Xx(s,d,e),e=_,u=d;var x=e.updateQueue;if(x===null){var b=new Set;b.add(u),e.updateQueue=b}else x.add(u);break e}else{if(!(e&1)){Xx(s,d,e),Y_();break e}u=Error(de(426))}}else if(Pt&&l.mode&1){var T=eb(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),tb(T,o,l,s,e),A_(su(u,l));break e}}s=u=su(u,l),an!==4&&(an=2),$c===null?$c=[s]:$c.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=GL(s,u,e);qx(s,E);break e;case 1:l=u;var C=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(_o===null||!_o.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=qL(s,l,e);qx(s,N);break e}}s=s.return}while(s!==null)}hP(n)}catch(j){e=j,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function cP(){var t=sp.current;return sp.current=ip,t===null?ip:t}function Y_(){(an===0||an===3||an===2)&&(an=4),gn===null||!(Ea&268435455)&&!(lm&268435455)||Ys(gn,En)}function lp(t,e){var n=ot;ot|=2;var r=cP();(gn!==t||En!==e)&&(os=null,va(t,e));do try{WO();break}catch(i){uP(t,i)}while(!0);if(M_(),ot=n,sp.current=r,en!==null)throw Error(de(261));return gn=null,En=0,an}function WO(){for(;en!==null;)dP(en)}function GO(){for(;en!==null&&!vN();)dP(en)}function dP(t){var e=pP(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?hP(t):en=e,G_.current=null}function hP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FO(n,e),n!==null){n.flags&=32767,en=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,en=null;return}}else if(n=VO(n,e,xr),n!==null){en=n;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);an===0&&(an=5)}function na(t,e,n){var r=ft,i=qr.transition;try{qr.transition=null,ft=1,qO(t,e,n,r)}finally{qr.transition=i,ft=r}return null}function qO(t,e,n,r){do jl();while(lo!==null);if(ot&6)throw Error(de(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LN(t,s),t===gn&&(en=gn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,mP($f,function(){return jl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qr.transition,qr.transition=null;var o=ft;ft=1;var l=ot;ot|=4,G_.current=null,BO(t,n),oP(n,t),fO(Vv),Wf=!!jv,Vv=jv=null,t.current=n,UO(n),yN(),ot=l,ft=o,qr.transition=s}else t.current=n;if(Zh&&(Zh=!1,lo=t,ap=i),s=t.pendingLanes,s===0&&(_o=null),xN(n.stateNode),pr(t,qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(op)throw op=!1,t=iy,iy=null,t;return ap&1&&t.tag!==0&&jl(),s=t.pendingLanes,s&1?t===sy?Hc++:(Hc=0,sy=t):Hc=0,$o(),null}function jl(){if(lo!==null){var t=GT(ap),e=qr.transition,n=ft;try{if(qr.transition=null,ft=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,ap=0,ot&6)throw Error(de(331));var i=ot;for(ot|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(Ee=d;Ee!==null;){var f=Ee;switch(f.tag){case 0:case 11:case 15:Uc(8,f,s)}var m=f.child;if(m!==null)m.return=f,Ee=m;else for(;Ee!==null;){f=Ee;var y=f.sibling,_=f.return;if(rP(f),f===d){Ee=null;break}if(y!==null){y.return=_,Ee=y;break}Ee=_}}}var x=s.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uc(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Ee=E;break e}Ee=s.return}}var C=t.current;for(Ee=C;Ee!==null;){o=Ee;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Ee=I;else e:for(o=C;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:am(9,l)}}catch(j){$t(l,l.return,j)}if(l===o){Ee=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ee=N;break e}Ee=l.return}}if(ot=i,$o(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Xp,t)}catch{}r=!0}return r}finally{ft=n,qr.transition=e}}return!1}function pb(t,e,n){e=su(n,e),e=GL(t,e,1),t=yo(t,e,1),e=er(),t!==null&&(Bd(t,1,e),pr(t,e))}function $t(t,e,n){if(t.tag===3)pb(t,t,n);else for(;e!==null;){if(e.tag===3){pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=su(n,t),t=qL(e,t,1),e=yo(e,t,1),t=er(),e!==null&&(Bd(e,1,t),pr(e,t));break}}e=e.return}}function ZO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=er(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(En&n)===n&&(an===4||an===3&&(En&130023424)===En&&500>qt()-Z_?va(t,0):q_|=n),pr(t,e)}function fP(t,e){e===0&&(t.mode&1?(e=Vh,Vh<<=1,!(Vh&130023424)&&(Vh=4194304)):e=1);var n=er();t=ws(t,e),t!==null&&(Bd(t,e,n),pr(t,n))}function KO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fP(t,n)}function QO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),fP(t,n)}var pP;pP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,jO(t,e,n);dr=!!(t.flags&131072)}else dr=!1,Pt&&e.flags&1048576&&yL(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_f(t,e),t=e.pendingProps;var i=tu(e,Un.current);Dl(e,n),i=B_(null,e,r,t,i,n);var s=U_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(r)?(s=!0,Qf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D_(e),i.updater=om,e.stateNode=i,i._reactInternals=e,qv(e,r,t,n),e=Qv(null,e,r,!0,s,n)):(e.tag=0,Pt&&s&&I_(e),Jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_f(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JO(r),t=oi(r,t),i){case 0:e=Kv(null,e,r,t,n);break e;case 1:e=ib(null,e,r,t,n);break e;case 11:e=nb(null,e,r,t,n);break e;case 14:e=rb(null,e,r,oi(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),Kv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),ib(t,e,r,i,n);case 3:e:{if(YL(e),t===null)throw Error(de(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CL(t,e),tp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=su(Error(de(423)),e),e=sb(t,e,r,n,i);break e}else if(r!==i){i=su(Error(de(424)),e),e=sb(t,e,r,n,i);break e}else for(Sr=vo(e.stateNode.containerInfo.firstChild),Tr=e,Pt=!0,di=null,n=bL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nu(),r===i){e=xs(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return SL(e),t===null&&Hv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fv(r,i)?o=null:s!==null&&Fv(r,s)&&(e.flags|=32),QL(t,e),Jn(t,e,o,n),e.child;case 6:return t===null&&Hv(e),null;case 13:return JL(t,e,n);case 4:return j_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ru(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),nb(t,e,r,i,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yt(Xf,r._currentValue),r._currentValue=o,s!==null)if(wi(s.value,o)){if(s.children===i.children&&!hr.current){e=xs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ps(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Wv(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(de(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dl(e,n),i=Zr(i),r=r(i),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,i=oi(r,e.pendingProps),i=oi(r.type,i),rb(t,e,r,i,n);case 15:return ZL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),_f(t,e),e.tag=1,fr(r)?(t=!0,Qf(e)):t=!1,Dl(e,n),WL(e,r,i),qv(e,r,i,n),Qv(null,e,r,!0,t,n);case 19:return XL(t,e,n);case 22:return KL(t,e,n)}throw Error(de(156,e.tag))};function mP(t,e){return UT(t,e)}function YO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,n,r){return new YO(t,e,n,r)}function J_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JO(t){if(typeof t=="function")return J_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v_)return 11;if(t===y_)return 14}return 2}function xo(t,e){var n=t.alternate;return n===null?(n=Gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")J_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yl:return ya(n.children,i,s,e);case g_:o=8,i|=8;break;case vv:return t=Gr(12,n,e,i|2),t.elementType=vv,t.lanes=s,t;case yv:return t=Gr(13,n,e,i),t.elementType=yv,t.lanes=s,t;case _v:return t=Gr(19,n,e,i),t.elementType=_v,t.lanes=s,t;case ST:return um(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ET:o=10;break e;case CT:o=9;break e;case v_:o=11;break e;case y_:o=14;break e;case qs:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Gr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ya(t,e,n,r){return t=Gr(7,t,r,e),t.lanes=n,t}function um(t,e,n,r){return t=Gr(22,t,r,e),t.elementType=ST,t.lanes=n,t.stateNode={isHidden:!1},t}function Fg(t,e,n){return t=Gr(6,t,null,e),t.lanes=n,t}function zg(t,e,n){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function X_(t,e,n,r,i,s,o,l,u){return t=new XO(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D_(s),t}function e2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gP(t){if(!t)return ko;t=t._reactInternals;e:{if(Oa(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(fr(n))return gL(t,n,e)}return e}function vP(t,e,n,r,i,s,o,l,u){return t=X_(n,r,!0,t,i,s,o,l,u),t.context=gP(null),n=t.current,r=er(),i=wo(n),s=ps(r,i),s.callback=e??null,yo(n,s,i),t.current.lanes=i,Bd(t,i,r),pr(t,r),t}function cm(t,e,n,r){var i=e.current,s=er(),o=wo(i);return n=gP(n),e.context===null?e.context=n:e.pendingContext=n,e=ps(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yo(i,e,o),t!==null&&(vi(t,i,o,s),gf(t,i,o)),o}function up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function e0(t,e){mb(t,e),(t=t.alternate)&&mb(t,e)}function t2(){return null}var yP=typeof reportError=="function"?reportError:function(t){console.error(t)};function t0(t){this._internalRoot=t}dm.prototype.render=t0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));cm(t,e,null,null)};dm.prototype.unmount=t0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){cm(null,t,null,null)}),e[_s]=null}};function dm(t){this._internalRoot=t}dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=KT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qs.length&&e!==0&&e<Qs[n].priority;n++);Qs.splice(n,0,t),n===0&&YT(t)}};function n0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gb(){}function n2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=up(o);s.call(d)}}var o=vP(e,r,t,0,null,!1,!1,"",gb);return t._reactRootContainer=o,t[_s]=o.current,ad(t.nodeType===8?t.parentNode:t),Ca(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=up(u);l.call(d)}}var u=X_(t,0,!1,null,null,!1,!1,"",gb);return t._reactRootContainer=u,t[_s]=u.current,ad(t.nodeType===8?t.parentNode:t),Ca(function(){cm(e,u,n,r)}),u}function fm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=up(o);l.call(u)}}cm(e,o,t,i)}else o=n2(n,e,t,i,r);return up(o)}qT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tc(e.pendingLanes);n!==0&&(x_(e,n|1),pr(e,qt()),!(ot&6)&&(ou=qt()+500,$o()))}break;case 13:Ca(function(){var r=ws(t,1);if(r!==null){var i=er();vi(r,t,1,i)}}),e0(t,1)}};b_=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var n=er();vi(e,t,134217728,n)}e0(t,134217728)}};ZT=function(t){if(t.tag===13){var e=wo(t),n=ws(t,e);if(n!==null){var r=er();vi(n,t,e,r)}e0(t,e)}};KT=function(){return ft};QT=function(t,e){var n=ft;try{return ft=t,e()}finally{ft=n}};Iv=function(t,e,n){switch(e){case"input":if(bv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rm(r);if(!i)throw Error(de(90));LT(r),bv(r,i)}}}break;case"textarea":IT(t,n);break;case"select":e=n.value,e!=null&&Rl(t,!!n.multiple,e,!1)}};DT=K_;jT=Ca;var r2={usingClientEntryPoint:!1,Events:[$d,bl,rm,NT,OT,K_]},yc={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i2={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zT(t),t===null?null:t.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||t2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Xp=Kh.inject(i2),Di=Kh}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;Ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n0(e))throw Error(de(200));return e2(t,e,null,n)};Ir.createRoot=function(t,e){if(!n0(t))throw Error(de(299));var n=!1,r="",i=yP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=X_(t,1,!1,null,null,n,!1,r,i),t[_s]=e.current,ad(t.nodeType===8?t.parentNode:t),new t0(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=zT(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return Ca(t)};Ir.hydrate=function(t,e,n){if(!hm(e))throw Error(de(200));return fm(null,t,e,!0,n)};Ir.hydrateRoot=function(t,e,n){if(!n0(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vP(e,null,t,1,n??null,i,!1,s,o),t[_s]=e.current,ad(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dm(e)};Ir.render=function(t,e,n){if(!hm(e))throw Error(de(200));return fm(null,t,e,!1,n)};Ir.unmountComponentAtNode=function(t){if(!hm(t))throw Error(de(40));return t._reactRootContainer?(Ca(function(){fm(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};Ir.unstable_batchedUpdates=K_;Ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hm(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return fm(t,e,n,!1,r)};Ir.version="18.3.1-next-f1338f8080-20240426";function _P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_P)}catch(t){console.error(t)}}_P(),_T.exports=Ir;var Jr=_T.exports;const wP=l_(Jr);var xP,vb=Jr;xP=vb.createRoot,vb.hydrateRoot;const s2=1,o2=1e6;let Bg=0;function a2(){return Bg=(Bg+1)%Number.MAX_SAFE_INTEGER,Bg.toString()}const Ug=new Map,yb=t=>{if(Ug.has(t))return;const e=setTimeout(()=>{Ug.delete(t),Wc({type:"REMOVE_TOAST",toastId:t})},o2);Ug.set(t,e)},l2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,s2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?yb(n):t.toasts.forEach(r=>{yb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ef=[];let Cf={toasts:[]};function Wc(t){Cf=l2(Cf,t),Ef.forEach(e=>{e(Cf)})}function Sf({...t}){const e=a2(),n=i=>Wc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Wc({type:"DISMISS_TOAST",toastId:e});return Wc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Wd(){const[t,e]=v.useState(Cf);return v.useEffect(()=>(Ef.push(e),()=>{const n=Ef.indexOf(e);n>-1&&Ef.splice(n,1)}),[t]),{...t,toast:Sf,dismiss:n=>Wc({type:"DISMISS_TOAST",toastId:n})}}function gt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bP(...t){return e=>{let n=!1;const r=t.map(i=>{const s=_b(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():_b(t[i],null)}}}}function Qr(...t){return v.useCallback(bP(...t),t)}function xu(t,e=[]){let n=[];function r(s,o){const l=v.createContext(o),u=n.length;n=[...n,o];const d=m=>{var E;const{scope:y,children:_,...x}=m,b=((E=y==null?void 0:y[t])==null?void 0:E[u])||l,T=v.useMemo(()=>x,Object.values(x));return g.jsx(b.Provider,{value:T,children:_})};d.displayName=s+"Provider";function f(m,y){var b;const _=((b=y==null?void 0:y[t])==null?void 0:b[u])||l,x=v.useContext(_);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,u2(i,...e)]}function u2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const m=u(s)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function cp(t){const e=d2(t),n=v.forwardRef((r,i)=>{const{children:s,...o}=r,l=v.Children.toArray(s),u=l.find(f2);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:i,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var c2=cp("Slot");function d2(t){const e=v.forwardRef((n,r)=>{const{children:i,...s}=n;if(v.isValidElement(i)){const o=m2(i),l=p2(s,i.props);return i.type!==v.Fragment&&(l.ref=r?bP(r,o):o),v.cloneElement(i,l)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EP=Symbol("radix.slottable");function h2(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=EP,e}function f2(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EP}function p2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function m2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function CP(t){const e=t+"CollectionProvider",[n,r]=xu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:T,children:E}=b,C=ce.useRef(null),I=ce.useRef(new Map).current;return g.jsx(i,{scope:T,itemMap:I,collectionRef:C,children:E})};o.displayName=e;const l=t+"CollectionSlot",u=cp(l),d=ce.forwardRef((b,T)=>{const{scope:E,children:C}=b,I=s(l,E),N=Qr(T,I.collectionRef);return g.jsx(u,{ref:N,children:C})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",y=cp(f),_=ce.forwardRef((b,T)=>{const{scope:E,children:C,...I}=b,N=ce.useRef(null),j=Qr(T,N),z=s(f,E);return ce.useEffect(()=>(z.itemMap.set(N,{ref:N,...I}),()=>void z.itemMap.delete(N))),g.jsx(y,{[m]:"",ref:j,children:C})});_.displayName=f;function x(b){const T=s(t+"CollectionConsumer",b);return ce.useCallback(()=>{const C=T.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(T.itemMap.values()).sort((z,A)=>I.indexOf(z.ref.current)-I.indexOf(A.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:_},x,r]}var g2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nn=g2.reduce((t,e)=>{const n=cp(`Primitive.${e}`),r=v.forwardRef((i,s)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SP(t,e){t&&Jr.flushSync(()=>t.dispatchEvent(e))}function xi(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function v2(t,e=globalThis==null?void 0:globalThis.document){const n=xi(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var y2="DismissableLayer",ly="dismissableLayer.update",_2="dismissableLayer.pointerDownOutside",w2="dismissableLayer.focusOutside",wb,TP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),r0=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,d=v.useContext(TP),[f,m]=v.useState(null),y=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=v.useState({}),x=Qr(e,A=>m(A)),b=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(T),C=f?b.indexOf(f):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,N=C>=E,j=b2(A=>{const R=A.target,M=[...d.branches].some(D=>D.contains(R));!N||M||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},y),z=E2(A=>{const R=A.target;[...d.branches].some(D=>D.contains(R))||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},y);return v2(A=>{C===d.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},y),v.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(wb=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),xb(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=wb)}},[f,y,n,d]),v.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),xb())},[f,d]),v.useEffect(()=>{const A=()=>_({});return document.addEventListener(ly,A),()=>document.removeEventListener(ly,A)},[]),g.jsx(nn.div,{...u,ref:x,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:gt(t.onFocusCapture,z.onFocusCapture),onBlurCapture:gt(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:gt(t.onPointerDownCapture,j.onPointerDownCapture)})});r0.displayName=y2;var x2="DismissableLayerBranch",LP=v.forwardRef((t,e)=>{const n=v.useContext(TP),r=v.useRef(null),i=Qr(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(nn.div,{...t,ref:i})});LP.displayName=x2;function b2(t,e=globalThis==null?void 0:globalThis.document){const n=xi(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){PP(_2,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function E2(t,e=globalThis==null?void 0:globalThis.document){const n=xi(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&PP(w2,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xb(){const t=new CustomEvent(ly);document.dispatchEvent(t)}function PP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?SP(i,s):i.dispatchEvent(s)}var C2=r0,S2=LP,Ao=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},T2="Portal",IP=v.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=v.useState(!1);Ao(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?wP.createPortal(g.jsx(nn.div,{...r,ref:e}),o):null});IP.displayName=T2;function L2(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var pm=t=>{const{present:e,children:n}=t,r=P2(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=Qr(r.ref,I2(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};pm.displayName="Presence";function P2(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[l,u]=L2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Qh(r.current);s.current=l==="mounted"?d:"none"},[l]),Ao(()=>{const d=r.current,f=i.current;if(f!==t){const y=s.current,_=Qh(d);t?u("MOUNT"):_==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&y!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Ao(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=_=>{const b=Qh(r.current).includes(_.animationName);if(_.target===e&&b&&(u("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=_=>{_.target===e&&(s.current=Qh(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Qh(t){return(t==null?void 0:t.animationName)||"none"}function I2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mm({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=k2({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,l=xi(n),u=v.useCallback(d=>{if(s){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else i(d)},[s,t,i,l]);return[o,u]}function k2({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),s=xi(e);return v.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var A2="VisuallyHidden",gm=v.forwardRef((t,e)=>g.jsx(nn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));gm.displayName=A2;var R2=gm,i0="ToastProvider",[s0,M2,N2]=CP("Toast"),[kP,PW]=xu("Toast",[N2]),[O2,vm]=kP(i0),AP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,u]=v.useState(null),[d,f]=v.useState(0),m=v.useRef(!1),y=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${i0}\`. Expected non-empty \`string\`.`),g.jsx(s0.Provider,{scope:e,children:g.jsx(O2,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:v.useCallback(()=>f(_=>_+1),[]),onToastRemove:v.useCallback(()=>f(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:o})})};AP.displayName=i0;var RP="ToastViewport",D2=["F8"],uy="toast.viewportPause",cy="toast.viewportResume",MP=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=D2,label:i="Notifications ({hotkey})",...s}=t,o=vm(RP,n),l=M2(n),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),m=v.useRef(null),y=Qr(e,m,o.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const T=E=>{var I;r.length!==0&&r.every(N=>E[N]||E.code===N)&&((I=m.current)==null||I.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),v.useEffect(()=>{const T=u.current,E=m.current;if(x&&T&&E){const C=()=>{if(!o.isClosePausedRef.current){const z=new CustomEvent(uy);E.dispatchEvent(z),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const z=new CustomEvent(cy);E.dispatchEvent(z),o.isClosePausedRef.current=!1}},N=z=>{!T.contains(z.relatedTarget)&&I()},j=()=>{T.contains(document.activeElement)||I()};return T.addEventListener("focusin",C),T.addEventListener("focusout",N),T.addEventListener("pointermove",C),T.addEventListener("pointerleave",j),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{T.removeEventListener("focusin",C),T.removeEventListener("focusout",N),T.removeEventListener("pointermove",C),T.removeEventListener("pointerleave",j),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[x,o.isClosePausedRef]);const b=v.useCallback(({tabbingDirection:T})=>{const C=l().map(I=>{const N=I.ref.current,j=[N,...K2(N)];return T==="forwards"?j:j.reverse()});return(T==="forwards"?C.reverse():C).flat()},[l]);return v.useEffect(()=>{const T=m.current;if(T){const E=C=>{var j,z,A;const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const R=document.activeElement,M=C.shiftKey;if(C.target===T&&M){(j=d.current)==null||j.focus();return}const U=b({tabbingDirection:M?"backwards":"forwards"}),B=U.findIndex(Q=>Q===R);$g(U.slice(B+1))?C.preventDefault():M?(z=d.current)==null||z.focus():(A=f.current)==null||A.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[l,b]),g.jsxs(S2,{ref:u,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&g.jsx(dy,{ref:d,onFocusFromOutsideViewport:()=>{const T=b({tabbingDirection:"forwards"});$g(T)}}),g.jsx(s0.Slot,{scope:n,children:g.jsx(nn.ol,{tabIndex:-1,...s,ref:y})}),x&&g.jsx(dy,{ref:f,onFocusFromOutsideViewport:()=>{const T=b({tabbingDirection:"backwards"});$g(T)}})]})});MP.displayName=RP;var NP="ToastFocusProxy",dy=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=vm(NP,n);return g.jsx(gm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&r()}})});dy.displayName=NP;var ym="Toast",j2="toast.swipeStart",V2="toast.swipeMove",F2="toast.swipeCancel",z2="toast.swipeEnd",OP=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l=!0,u]=mm({prop:r,defaultProp:i,onChange:s});return g.jsx(pm,{present:n||l,children:g.jsx($2,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:xi(t.onPause),onResume:xi(t.onResume),onSwipeStart:gt(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gt(t.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:gt(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gt(t.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});OP.displayName=ym;var[B2,U2]=kP(ym,{onClose(){}}),$2=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:_,...x}=t,b=vm(ym,n),[T,E]=v.useState(null),C=Qr(e,Q=>E(Q)),I=v.useRef(null),N=v.useRef(null),j=i||b.duration,z=v.useRef(0),A=v.useRef(j),R=v.useRef(0),{onToastAdd:M,onToastRemove:D}=b,V=xi(()=>{var le;(T==null?void 0:T.contains(document.activeElement))&&((le=b.viewport)==null||le.focus()),o()}),U=v.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(R.current),z.current=new Date().getTime(),R.current=window.setTimeout(V,Q))},[V]);v.useEffect(()=>{const Q=b.viewport;if(Q){const le=()=>{U(A.current),d==null||d()},ne=()=>{const he=new Date().getTime()-z.current;A.current=A.current-he,window.clearTimeout(R.current),u==null||u()};return Q.addEventListener(uy,ne),Q.addEventListener(cy,le),()=>{Q.removeEventListener(uy,ne),Q.removeEventListener(cy,le)}}},[b.viewport,j,u,d,U]),v.useEffect(()=>{s&&!b.isClosePausedRef.current&&U(j)},[s,j,b.isClosePausedRef,U]),v.useEffect(()=>(M(),()=>D()),[M,D]);const B=v.useMemo(()=>T?UP(T):null,[T]);return b.viewport?g.jsxs(g.Fragment,{children:[B&&g.jsx(H2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),g.jsx(B2,{scope:n,onClose:V,children:Jr.createPortal(g.jsx(s0.ItemSlot,{scope:n,children:g.jsx(C2,{asChild:!0,onEscapeKeyDown:gt(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||V(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(nn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:gt(t.onKeyDown,Q=>{Q.key==="Escape"&&(l==null||l(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:gt(t.onPointerDown,Q=>{Q.button===0&&(I.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:gt(t.onPointerMove,Q=>{if(!I.current)return;const le=Q.clientX-I.current.x,ne=Q.clientY-I.current.y,he=!!N.current,H=["left","right"].includes(b.swipeDirection),K=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Z=H?K(0,le):0,oe=H?0:K(0,ne),re=Q.pointerType==="touch"?10:2,ee={x:Z,y:oe},ue={originalEvent:Q,delta:ee};he?(N.current=ee,Yh(V2,m,ue,{discrete:!1})):bb(ee,b.swipeDirection,re)?(N.current=ee,Yh(j2,f,ue,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(le)>re||Math.abs(ne)>re)&&(I.current=null)}),onPointerUp:gt(t.onPointerUp,Q=>{const le=N.current,ne=Q.target;if(ne.hasPointerCapture(Q.pointerId)&&ne.releasePointerCapture(Q.pointerId),N.current=null,I.current=null,le){const he=Q.currentTarget,H={originalEvent:Q,delta:le};bb(le,b.swipeDirection,b.swipeThreshold)?Yh(z2,_,H,{discrete:!0}):Yh(F2,y,H,{discrete:!0}),he.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),H2=t=>{const{__scopeToast:e,children:n,...r}=t,i=vm(ym,e),[s,o]=v.useState(!1),[l,u]=v.useState(!1);return q2(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:g.jsx(IP,{asChild:!0,children:g.jsx(gm,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},W2="ToastTitle",DP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(nn.div,{...r,ref:e})});DP.displayName=W2;var G2="ToastDescription",jP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(nn.div,{...r,ref:e})});jP.displayName=G2;var VP="ToastAction",FP=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(BP,{altText:n,asChild:!0,children:g.jsx(o0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VP}\`. Expected non-empty \`string\`.`),null)});FP.displayName=VP;var zP="ToastClose",o0=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=U2(zP,n);return g.jsx(BP,{asChild:!0,children:g.jsx(nn.button,{type:"button",...r,ref:e,onClick:gt(t.onClick,i.onClose)})})});o0.displayName=zP;var BP=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(nn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function UP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Z2(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...UP(r))}}),e}function Yh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?SP(i,s):i.dispatchEvent(s)}var bb=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function q2(t=()=>{}){const e=xi(t);Ao(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Z2(t){return t.nodeType===t.ELEMENT_NODE}function K2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $g(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Q2=AP,$P=MP,HP=OP,WP=DP,GP=jP,qP=FP,ZP=o0;function KP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function QP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KP(t))&&(r&&(r+=" "),r+=e);return r}const Eb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Cb=QP,_m=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Cb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=n==null?void 0:n[d],m=s==null?void 0:s[d];if(f===null)return null;const y=Eb(f)||Eb(m);return i[d][y]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,y]=f;return y===void 0||(d[m]=y),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:m,className:y,..._}=f;return Object.entries(_).every(x=>{let[b,T]=x;return Array.isArray(T)?T.includes({...s,...l}[b]):{...s,...l}[b]===T})?[...d,m,y]:d},[]);return Cb(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},u)=>v.createElement("svg",{ref:u,...J2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YP("lucide",i),...l},[...o.map(([d,f])=>v.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(X2,{ref:s,iconNode:e,className:YP(`lucide-${Y2(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=at("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=at("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=at("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=at("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=at("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=at("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=at("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=at("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=at("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=at("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=at("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=at("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=at("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=at("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=at("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=at("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=at("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=at("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=at("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=at("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=at("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=at("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=at("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=at("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=at("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=at("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=at("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=at("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c0="-",yD=t=>{const e=wD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(c0);return l[0]===""&&l.length!==1&&l.shift(),n1(l,e)||_D(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},n1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?n1(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(c0);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Tb=/^\[(.+)\]$/,_D=t=>{if(Tb.test(t)){const e=Tb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return bD(Object.entries(t.classGroups),n).forEach(([s,o])=>{hy(o,r,s,e)}),r},hy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Lb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(xD(i)){hy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{hy(o,Lb(e,s),n,r)})})},Lb=(t,e)=>{let n=t;return e.split(c0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xD=t=>t.isThemeGetter,bD=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,ED=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},r1="!",CD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let d=0,f=0,m;for(let T=0;T<l.length;T++){let E=l[T];if(d===0){if(E===i&&(r||l.slice(T,T+s)===e)){u.push(l.slice(f,T)),f=T+s;continue}if(E==="/"){m=T;continue}}E==="["?d++:E==="]"&&d--}const y=u.length===0?l:l.substring(f),_=y.startsWith(r1),x=_?y.substring(1):y,b=m&&m>f?m-f:void 0;return{modifiers:u,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},SD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},TD=t=>({cache:ED(t.cacheSize),parseClassName:CD(t),...yD(t)}),LD=/\s+/,PD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(LD);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:_}=n(d);let x=!!_,b=r(x?y.substring(0,_):y);if(!b){if(!x){l=d+(l.length>0?" "+l:l);continue}if(b=r(y),!b){l=d+(l.length>0?" "+l:l);continue}x=!1}const T=SD(f).join(":"),E=m?T+r1:T,C=E+b;if(s.includes(C))continue;s.push(C);const I=i(b,x);for(let N=0;N<I.length;++N){const j=I[N];s.push(E+j)}l=d+(l.length>0?" "+l:l)}return l};function ID(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=i1(e))&&(r&&(r+=" "),r+=n);return r}const i1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=i1(t[r]))&&(n&&(n+=" "),n+=e);return n};function kD(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((f,m)=>m(f),t());return n=TD(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=PD(u,n);return i(u,f),f}return function(){return s(ID.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},s1=/^\[(?:([a-z-]+):)?(.+)\]$/i,AD=/^\d+\/\d+$/,RD=new Set(["px","full","screen"]),MD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ND=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=t=>Vl(t)||RD.has(t)||AD.test(t),Us=t=>bu(t,"length",WD),Vl=t=>!!t&&!Number.isNaN(Number(t)),Gg=t=>bu(t,"number",Vl),_c=t=>!!t&&Number.isInteger(Number(t)),VD=t=>t.endsWith("%")&&Vl(t.slice(0,-1)),Be=t=>s1.test(t),$s=t=>MD.test(t),FD=new Set(["length","size","percentage"]),zD=t=>bu(t,FD,o1),BD=t=>bu(t,"position",o1),UD=new Set(["image","url"]),$D=t=>bu(t,UD,qD),HD=t=>bu(t,"",GD),wc=()=>!0,bu=(t,e,n)=>{const r=s1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WD=t=>ND.test(t)&&!OD.test(t),o1=()=>!1,GD=t=>DD.test(t),qD=t=>jD.test(t),ZD=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),r=wt("brightness"),i=wt("borderColor"),s=wt("borderRadius"),o=wt("borderSpacing"),l=wt("borderWidth"),u=wt("contrast"),d=wt("grayscale"),f=wt("hueRotate"),m=wt("invert"),y=wt("gap"),_=wt("gradientColorStops"),x=wt("gradientColorStopPositions"),b=wt("inset"),T=wt("margin"),E=wt("opacity"),C=wt("padding"),I=wt("saturate"),N=wt("scale"),j=wt("sepia"),z=wt("skew"),A=wt("space"),R=wt("translate"),M=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Be,e],U=()=>[Be,e],B=()=>["",is,Us],Q=()=>["auto",Vl,Be],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Be],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Vl,Be];return{cacheSize:500,separator:":",theme:{colors:[wc],spacing:[is,Us],blur:["none","",$s,Be],brightness:oe(),borderColor:[t],borderRadius:["none","","full",$s,Be],borderSpacing:U(),borderWidth:B(),contrast:oe(),grayscale:K(),hueRotate:oe(),invert:K(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[VD,Us],inset:V(),margin:V(),opacity:oe(),padding:U(),saturate:oe(),scale:oe(),sepia:K(),skew:oe(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Be]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,Be]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",_c,Be]}],"grid-cols":[{"grid-cols":[wc]}],"col-start-end":[{col:["auto",{span:["full",_c,Be]},Be]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[wc]}],"row-start-end":[{row:["auto",{span:[_c,Be]},Be]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gg]}],"font-family":[{font:[wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Vl,Gg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Us]}],"underline-offset":[{"underline-offset":["auto",is,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),BD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$D]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[is,Be]}],"outline-w":[{outline:[is,Us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[is,Us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$s,HD]}],"shadow-color":[{shadow:[wc]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$s,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[_c,Be]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[is,Us,Gg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KD=kD(ZD);function nt(...t){return KD(QP(t))}const QD=Q2,a1=v.forwardRef(({className:t,...e},n)=>g.jsx($P,{ref:n,className:nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));a1.displayName=$P.displayName;const YD=_m("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l1=v.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(HP,{ref:r,className:nt(YD({variant:e}),t),...n}));l1.displayName=HP.displayName;const JD=v.forwardRef(({className:t,...e},n)=>g.jsx(qP,{ref:n,className:nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));JD.displayName=qP.displayName;const u1=v.forwardRef(({className:t,...e},n)=>g.jsx(ZP,{ref:n,className:nt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(vD,{className:"h-4 w-4"})}));u1.displayName=ZP.displayName;const c1=v.forwardRef(({className:t,...e},n)=>g.jsx(WP,{ref:n,className:nt("text-sm font-semibold",t),...e}));c1.displayName=WP.displayName;const d1=v.forwardRef(({className:t,...e},n)=>g.jsx(GP,{ref:n,className:nt("text-sm opacity-90",t),...e}));d1.displayName=GP.displayName;function XD(){const{toasts:t}=Wd();return g.jsxs(QD,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return g.jsxs(l1,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(c1,{children:n}),r&&g.jsx(d1,{children:r})]}),i,g.jsx(u1,{})]},e)}),g.jsx(a1,{})]})}var Pb=["light","dark"],ej="(prefers-color-scheme: dark)",tj=v.createContext(void 0),nj={setTheme:t=>{},themes:[]},rj=()=>{var t;return(t=v.useContext(tj))!=null?t:nj};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:u})=>{let d=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=i?Pb.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(x,b=!1,T=!0)=>{let E=o?o[x]:x,C=b?x+"|| ''":`'${E}'`,I="";return i&&T&&!b&&Pb.includes(x)&&(I+=`d.style.colorScheme = '${x}';`),n==="class"?b||E?I+=`c.add(${C})`:I+="null":E&&(I+=`d[s](n,${C})`),I},_=t?`!function(){${f}${y(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${ej}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${y(o?"x[e]":"e",!0)}}${d?"":"else{"+y(s,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${y(o?"x[e]":"e",!0)}}else{${y(s,!1,!1)};}${m}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:_}})});var ij=t=>{switch(t){case"success":return aj;case"info":return uj;case"warning":return lj;case"error":return cj;default:return null}},sj=Array(12).fill(0),oj=({visible:t,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ce.createElement("div",{className:"sonner-spinner"},sj.map((n,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),aj=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lj=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uj=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cj=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dj=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hj=()=>{let[t,e]=ce.useState(document.hidden);return ce.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},fy=1,fj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:fy++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async u=>{if(s=["resolve",u],ce.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(mj(u)&&!u.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(u):e.success,f=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(u):e.error,f=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||fy++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},lr=new fj,pj=(t,e)=>{let n=(e==null?void 0:e.id)||fy++;return lr.addToast({title:t,...e,id:n}),n},mj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",gj=pj,vj=()=>lr.toasts,yj=()=>lr.getActiveToasts();Object.assign(gj,{success:lr.success,info:lr.info,warning:lr.warning,error:lr.error,custom:lr.custom,message:lr.message,promise:lr.promise,dismiss:lr.dismiss,loading:lr.loading},{getHistory:vj,getToasts:yj});function _j(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}_j(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jh(t){return t.label!==void 0}var wj=3,xj="32px",bj="16px",Ib=4e3,Ej=356,Cj=14,Sj=20,Tj=200;function si(...t){return t.filter(Boolean).join(" ")}function Lj(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Pj=t=>{var e,n,r,i,s,o,l,u,d,f,m;let{invert:y,toast:_,unstyled:x,interacting:b,setHeights:T,visibleToasts:E,heights:C,index:I,toasts:N,expanded:j,removeToast:z,defaultRichColors:A,closeButton:R,style:M,cancelButtonStyle:D,actionButtonStyle:V,className:U="",descriptionClassName:B="",duration:Q,position:le,gap:ne,loadingIcon:he,expandByDefault:H,classNames:K,icons:Z,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:re}=t,[ee,ue]=ce.useState(null),[W,me]=ce.useState(null),[fe,_e]=ce.useState(!1),[De,ve]=ce.useState(!1),[ye,pe]=ce.useState(!1),[Ie,Ze]=ce.useState(!1),[Te,Ct]=ce.useState(!1),[St,It]=ce.useState(0),[_t,Zt]=ce.useState(0),kt=ce.useRef(_.duration||Q||Ib),ir=ce.useRef(null),At=ce.useRef(null),gr=I===0,Ar=I+1<=E,We=_.type,st=_.dismissible!==!1,sr=_.className||"",Hn=_.descriptionClassName||"",Kt=ce.useMemo(()=>C.findIndex(Se=>Se.toastId===_.id)||0,[C,_.id]),Wn=ce.useMemo(()=>{var Se;return(Se=_.closeButton)!=null?Se:R},[_.closeButton,R]),vn=ce.useMemo(()=>_.duration||Q||Ib,[_.duration,Q]),rn=ce.useRef(0),dn=ce.useRef(0),Tn=ce.useRef(0),Gn=ce.useRef(null),[Ln,Rr]=le.split("-"),qn=ce.useMemo(()=>C.reduce((Se,ze,Je)=>Je>=Kt?Se:Se+ze.height,0),[C,Kt]),vr=hj(),Pn=_.invert||y,In=We==="loading";dn.current=ce.useMemo(()=>Kt*ne+qn,[Kt,qn]),ce.useEffect(()=>{kt.current=vn},[vn]),ce.useEffect(()=>{_e(!0)},[]),ce.useEffect(()=>{let Se=At.current;if(Se){let ze=Se.getBoundingClientRect().height;return Zt(ze),T(Je=>[{toastId:_.id,height:ze,position:_.position},...Je]),()=>T(Je=>Je.filter(zt=>zt.toastId!==_.id))}},[T,_.id]),ce.useLayoutEffect(()=>{if(!fe)return;let Se=At.current,ze=Se.style.height;Se.style.height="auto";let Je=Se.getBoundingClientRect().height;Se.style.height=ze,Zt(Je),T(zt=>zt.find(Qt=>Qt.toastId===_.id)?zt.map(Qt=>Qt.toastId===_.id?{...Qt,height:Je}:Qt):[{toastId:_.id,height:Je,position:_.position},...zt])},[fe,_.title,_.description,T,_.id]);let Ft=ce.useCallback(()=>{ve(!0),It(dn.current),T(Se=>Se.filter(ze=>ze.toastId!==_.id)),setTimeout(()=>{z(_)},Tj)},[_,z,T,dn]);ce.useEffect(()=>{if(_.promise&&We==="loading"||_.duration===1/0||_.type==="loading")return;let Se;return j||b||re&&vr?(()=>{if(Tn.current<rn.current){let ze=new Date().getTime()-rn.current;kt.current=kt.current-ze}Tn.current=new Date().getTime()})():kt.current!==1/0&&(rn.current=new Date().getTime(),Se=setTimeout(()=>{var ze;(ze=_.onAutoClose)==null||ze.call(_,_),Ft()},kt.current)),()=>clearTimeout(Se)},[j,b,_,We,re,vr,Ft]),ce.useEffect(()=>{_.delete&&Ft()},[Ft,_.delete]);function kn(){var Se,ze,Je;return Z!=null&&Z.loading?ce.createElement("div",{className:si(K==null?void 0:K.loader,(Se=_==null?void 0:_.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":We==="loading"},Z.loading):he?ce.createElement("div",{className:si(K==null?void 0:K.loader,(ze=_==null?void 0:_.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":We==="loading"},he):ce.createElement(oj,{className:si(K==null?void 0:K.loader,(Je=_==null?void 0:_.classNames)==null?void 0:Je.loader),visible:We==="loading"})}return ce.createElement("li",{tabIndex:0,ref:At,className:si(U,sr,K==null?void 0:K.toast,(e=_==null?void 0:_.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[We],(n=_==null?void 0:_.classNames)==null?void 0:n[We]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:A,"data-styled":!(_.jsx||_.unstyled||x),"data-mounted":fe,"data-promise":!!_.promise,"data-swiped":Te,"data-removed":De,"data-visible":Ar,"data-y-position":Ln,"data-x-position":Rr,"data-index":I,"data-front":gr,"data-swiping":ye,"data-dismissible":st,"data-type":We,"data-invert":Pn,"data-swipe-out":Ie,"data-swipe-direction":W,"data-expanded":!!(j||H&&fe),style:{"--index":I,"--toasts-before":I,"--z-index":N.length-I,"--offset":`${De?St:dn.current}px`,"--initial-height":H?"auto":`${_t}px`,...M,..._.style},onDragEnd:()=>{pe(!1),ue(null),Gn.current=null},onPointerDown:Se=>{In||!st||(ir.current=new Date,It(dn.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(pe(!0),Gn.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,ze,Je,zt;if(Ie||!st)return;Gn.current=null;let Qt=Number(((Se=At.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),lt=Number(((ze=At.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Le=new Date().getTime()-((Je=ir.current)==null?void 0:Je.getTime()),sn=ee==="x"?Qt:lt,An=Math.abs(sn)/Le;if(Math.abs(sn)>=Sj||An>.11){It(dn.current),(zt=_.onDismiss)==null||zt.call(_,_),me(ee==="x"?Qt>0?"right":"left":lt>0?"down":"up"),Ft(),Ze(!0),Ct(!1);return}pe(!1),ue(null)},onPointerMove:Se=>{var ze,Je,zt,Qt;if(!Gn.current||!st||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let lt=Se.clientY-Gn.current.y,Le=Se.clientX-Gn.current.x,sn=(Je=t.swipeDirections)!=null?Je:Lj(le);!ee&&(Math.abs(Le)>1||Math.abs(lt)>1)&&ue(Math.abs(Le)>Math.abs(lt)?"x":"y");let An={x:0,y:0};ee==="y"?(sn.includes("top")||sn.includes("bottom"))&&(sn.includes("top")&&lt<0||sn.includes("bottom")&&lt>0)&&(An.y=lt):ee==="x"&&(sn.includes("left")||sn.includes("right"))&&(sn.includes("left")&&Le<0||sn.includes("right")&&Le>0)&&(An.x=Le),(Math.abs(An.x)>0||Math.abs(An.y)>0)&&Ct(!0),(zt=At.current)==null||zt.style.setProperty("--swipe-amount-x",`${An.x}px`),(Qt=At.current)==null||Qt.style.setProperty("--swipe-amount-y",`${An.y}px`)}},Wn&&!_.jsx?ce.createElement("button",{"aria-label":oe,"data-disabled":In,"data-close-button":!0,onClick:In||!st?()=>{}:()=>{var Se;Ft(),(Se=_.onDismiss)==null||Se.call(_,_)},className:si(K==null?void 0:K.closeButton,(i=_==null?void 0:_.classNames)==null?void 0:i.closeButton)},(s=Z==null?void 0:Z.close)!=null?s:dj):null,_.jsx||v.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:ce.createElement(ce.Fragment,null,We||_.icon||_.promise?ce.createElement("div",{"data-icon":"",className:si(K==null?void 0:K.icon,(o=_==null?void 0:_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||kn():null,_.type!=="loading"?_.icon||(Z==null?void 0:Z[We])||ij(We):null):null,ce.createElement("div",{"data-content":"",className:si(K==null?void 0:K.content,(l=_==null?void 0:_.classNames)==null?void 0:l.content)},ce.createElement("div",{"data-title":"",className:si(K==null?void 0:K.title,(u=_==null?void 0:_.classNames)==null?void 0:u.title)},typeof _.title=="function"?_.title():_.title),_.description?ce.createElement("div",{"data-description":"",className:si(B,Hn,K==null?void 0:K.description,(d=_==null?void 0:_.classNames)==null?void 0:d.description)},typeof _.description=="function"?_.description():_.description):null),v.isValidElement(_.cancel)?_.cancel:_.cancel&&Jh(_.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||D,onClick:Se=>{var ze,Je;Jh(_.cancel)&&st&&((Je=(ze=_.cancel).onClick)==null||Je.call(ze,Se),Ft())},className:si(K==null?void 0:K.cancelButton,(f=_==null?void 0:_.classNames)==null?void 0:f.cancelButton)},_.cancel.label):null,v.isValidElement(_.action)?_.action:_.action&&Jh(_.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||V,onClick:Se=>{var ze,Je;Jh(_.action)&&((Je=(ze=_.action).onClick)==null||Je.call(ze,Se),!Se.defaultPrevented&&Ft())},className:si(K==null?void 0:K.actionButton,(m=_==null?void 0:_.classNames)==null?void 0:m.actionButton)},_.action.label):null))};function kb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Ij(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?bj:xj;function u(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),n}var kj=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:u,mobileOffset:d,theme:f="light",richColors:m,duration:y,style:_,visibleToasts:x=wj,toastOptions:b,dir:T=kb(),gap:E=Cj,loadingIcon:C,icons:I,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=t,[z,A]=ce.useState([]),R=ce.useMemo(()=>Array.from(new Set([r].concat(z.filter(re=>re.position).map(re=>re.position)))),[z,r]),[M,D]=ce.useState([]),[V,U]=ce.useState(!1),[B,Q]=ce.useState(!1),[le,ne]=ce.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=ce.useRef(null),H=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=ce.useRef(null),Z=ce.useRef(!1),oe=ce.useCallback(re=>{A(ee=>{var ue;return(ue=ee.find(W=>W.id===re.id))!=null&&ue.delete||lr.dismiss(re.id),ee.filter(({id:W})=>W!==re.id)})},[]);return ce.useEffect(()=>lr.subscribe(re=>{if(re.dismiss){A(ee=>ee.map(ue=>ue.id===re.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{wP.flushSync(()=>{A(ee=>{let ue=ee.findIndex(W=>W.id===re.id);return ue!==-1?[...ee.slice(0,ue),{...ee[ue],...re},...ee.slice(ue+1)]:[re,...ee]})})})}),[]),ce.useEffect(()=>{if(f!=="system"){ne(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ee})=>{ne(ee?"dark":"light")})}catch{re.addListener(({matches:ue})=>{try{ne(ue?"dark":"light")}catch(W){console.error(W)}})}},[f]),ce.useEffect(()=>{z.length<=1&&U(!1)},[z]),ce.useEffect(()=>{let re=ee=>{var ue,W;i.every(me=>ee[me]||ee.code===me)&&(U(!0),(ue=he.current)==null||ue.focus()),ee.code==="Escape"&&(document.activeElement===he.current||(W=he.current)!=null&&W.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[i]),ce.useEffect(()=>{if(he.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,Z.current=!1)}},[he.current]),ce.createElement("section",{ref:e,"aria-label":`${N} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((re,ee)=>{var ue;let[W,me]=re.split("-");return z.length?ce.createElement("ol",{key:re,dir:T==="auto"?kb():T,tabIndex:-1,ref:he,className:l,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":W,"data-lifted":V&&z.length>1&&!s,"data-x-position":me,style:{"--front-toast-height":`${((ue=M[0])==null?void 0:ue.height)||0}px`,"--width":`${Ej}px`,"--gap":`${E}px`,..._,...Ij(u,d)},onBlur:fe=>{Z.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(Z.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,K.current=fe.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{B||U(!1)},onDragEnd:()=>U(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},z.filter(fe=>!fe.position&&ee===0||fe.position===re).map((fe,_e)=>{var De,ve;return ce.createElement(Pj,{key:fe.id,icons:I,index:_e,toast:fe,defaultRichColors:m,duration:(De=b==null?void 0:b.duration)!=null?De:y,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ve=b==null?void 0:b.closeButton)!=null?ve:o,interacting:B,position:re,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:oe,toasts:z.filter(ye=>ye.position==fe.position),heights:M.filter(ye=>ye.position==fe.position),setHeights:D,expandByDefault:s,gap:E,loadingIcon:C,expanded:V,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const Aj=({...t})=>{const{theme:e="system"}=rj();return g.jsx(kj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Rj=vT[" useId ".trim().toString()]||(()=>{}),Mj=0;function d0(t){const[e,n]=v.useState(Rj());return Ao(()=>{n(r=>r??String(Mj++))},[t]),e?`radix-${e}`:""}const Nj=["top","right","bottom","left"],Ro=Math.min,br=Math.max,hp=Math.round,Xh=Math.floor,Vi=t=>({x:t,y:t}),Oj={left:"right",right:"left",bottom:"top",top:"bottom"},Dj={start:"end",end:"start"};function py(t,e,n){return br(t,Ro(e,n))}function bs(t,e){return typeof t=="function"?t(e):t}function Es(t){return t.split("-")[0]}function Eu(t){return t.split("-")[1]}function h0(t){return t==="x"?"y":"x"}function f0(t){return t==="y"?"height":"width"}function Mo(t){return["top","bottom"].includes(Es(t))?"y":"x"}function p0(t){return h0(Mo(t))}function jj(t,e,n){n===void 0&&(n=!1);const r=Eu(t),i=p0(t),s=f0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=fp(o)),[o,fp(o)]}function Vj(t){const e=fp(t);return[my(t),e,my(e)]}function my(t){return t.replace(/start|end/g,e=>Dj[e])}function Fj(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function zj(t,e,n,r){const i=Eu(t);let s=Fj(Es(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(my)))),s}function fp(t){return t.replace(/left|right|bottom|top/g,e=>Oj[e])}function Bj(t){return{top:0,right:0,bottom:0,left:0,...t}}function h1(t){return typeof t!="number"?Bj(t):{top:t,right:t,bottom:t,left:t}}function pp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ab(t,e,n){let{reference:r,floating:i}=t;const s=Mo(e),o=p0(e),l=f0(o),u=Es(e),d=s==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,y=r[l]/2-i[l]/2;let _;switch(u){case"top":_={x:f,y:r.y-i.height};break;case"bottom":_={x:f,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:m};break;case"left":_={x:r.x-i.width,y:m};break;default:_={x:r.x,y:r.y}}switch(Eu(e)){case"start":_[o]-=y*(n&&d?-1:1);break;case"end":_[o]+=y*(n&&d?-1:1);break}return _}const Uj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=Ab(d,r,u),y=r,_={},x=0;for(let b=0;b<l.length;b++){const{name:T,fn:E}=l[b],{x:C,y:I,data:N,reset:j}=await E({x:f,y:m,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:d,platform:o,elements:{reference:t,floating:e}});f=C??f,m=I??m,_={..._,[T]:{..._[T],...N}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(y=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:f,y:m}=Ab(d,y,u)),b=-1)}return{x:f,y:m,placement:y,strategy:i,middlewareData:_}};async function gd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:y=!1,padding:_=0}=bs(e,t),x=h1(_),T=l[y?m==="floating"?"reference":"floating":m],E=pp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),C=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},j=pp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:I,strategy:u}):C);return{top:(E.top-j.top+x.top)/N.y,bottom:(j.bottom-E.bottom+x.bottom)/N.y,left:(E.left-j.left+x.left)/N.x,right:(j.right-E.right+x.right)/N.x}}const $j=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=bs(t,e)||{};if(d==null)return{};const m=h1(f),y={x:n,y:r},_=p0(i),x=f0(_),b=await o.getDimensions(d),T=_==="y",E=T?"top":"left",C=T?"bottom":"right",I=T?"clientHeight":"clientWidth",N=s.reference[x]+s.reference[_]-y[_]-s.floating[x],j=y[_]-s.reference[_],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=z?z[I]:0;(!A||!await(o.isElement==null?void 0:o.isElement(z)))&&(A=l.floating[I]||s.floating[x]);const R=N/2-j/2,M=A/2-b[x]/2-1,D=Ro(m[E],M),V=Ro(m[C],M),U=D,B=A-b[x]-V,Q=A/2-b[x]/2+R,le=py(U,Q,B),ne=!u.arrow&&Eu(i)!=null&&Q!==le&&s.reference[x]/2-(Q<U?D:V)-b[x]/2<0,he=ne?Q<U?Q-U:Q-B:0;return{[_]:y[_]+he,data:{[_]:le,centerOffset:Q-le-he,...ne&&{alignmentOffset:he}},reset:ne}}}),Hj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...T}=bs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Es(i),C=Mo(l),I=Es(l)===l,N=await(u.isRTL==null?void 0:u.isRTL(d.floating)),j=y||(I||!b?[fp(l)]:Vj(l)),z=x!=="none";!y&&z&&j.push(...zj(l,b,x,N));const A=[l,...j],R=await gd(e,T),M=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&M.push(R[E]),m){const Q=jj(i,o,N);M.push(R[Q[0]],R[Q[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(Q=>Q<=0)){var V,U;const Q=(((V=s.flip)==null?void 0:V.index)||0)+1,le=A[Q];if(le)return{data:{index:Q,overflows:D},reset:{placement:le}};let ne=(U=D.filter(he=>he.overflows[0]<=0).sort((he,H)=>he.overflows[1]-H.overflows[1])[0])==null?void 0:U.placement;if(!ne)switch(_){case"bestFit":{var B;const he=(B=D.filter(H=>{if(z){const K=Mo(H.placement);return K===C||K==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(K=>K>0).reduce((K,Z)=>K+Z,0)]).sort((H,K)=>H[1]-K[1])[0])==null?void 0:B[0];he&&(ne=he);break}case"initialPlacement":ne=l;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function Rb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Mb(t){return Nj.some(e=>t[e]>=0)}const Wj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=bs(t,e);switch(r){case"referenceHidden":{const s=await gd(e,{...i,elementContext:"reference"}),o=Rb(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Mb(o)}}}case"escaped":{const s=await gd(e,{...i,altBoundary:!0}),o=Rb(s,n.floating);return{data:{escapedOffsets:o,escaped:Mb(o)}}}default:return{}}}}};async function Gj(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Es(n),l=Eu(n),u=Mo(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&u?-1:1,m=bs(e,t);let{mainAxis:y,crossAxis:_,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(_=l==="end"?x*-1:x),u?{x:_*f,y:y*d}:{x:y*d,y:_*f}}const qj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await Gj(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},Zj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:T=>{let{x:E,y:C}=T;return{x:E,y:C}}},...u}=bs(t,e),d={x:n,y:r},f=await gd(e,u),m=Mo(Es(i)),y=h0(m);let _=d[y],x=d[m];if(s){const T=y==="y"?"top":"left",E=y==="y"?"bottom":"right",C=_+f[T],I=_-f[E];_=py(C,_,I)}if(o){const T=m==="y"?"top":"left",E=m==="y"?"bottom":"right",C=x+f[T],I=x-f[E];x=py(C,x,I)}const b=l.fn({...e,[y]:_,[m]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[y]:s,[m]:o}}}}}},Kj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=bs(t,e),f={x:n,y:r},m=Mo(i),y=h0(m);let _=f[y],x=f[m];const b=bs(l,e),T=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const I=y==="y"?"height":"width",N=s.reference[y]-s.floating[I]+T.mainAxis,j=s.reference[y]+s.reference[I]-T.mainAxis;_<N?_=N:_>j&&(_=j)}if(d){var E,C;const I=y==="y"?"width":"height",N=["top","left"].includes(Es(i)),j=s.reference[m]-s.floating[I]+(N&&((E=o.offset)==null?void 0:E[m])||0)+(N?0:T.crossAxis),z=s.reference[m]+s.reference[I]+(N?0:((C=o.offset)==null?void 0:C[m])||0)-(N?T.crossAxis:0);x<j?x=j:x>z&&(x=z)}return{[y]:_,[m]:x}}}},Qj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=bs(t,e),f=await gd(e,d),m=Es(i),y=Eu(i),_=Mo(i)==="y",{width:x,height:b}=s.floating;let T,E;m==="top"||m==="bottom"?(T=m,E=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(E=m,T=y==="end"?"top":"bottom");const C=b-f.top-f.bottom,I=x-f.left-f.right,N=Ro(b-f[T],C),j=Ro(x-f[E],I),z=!e.middlewareData.shift;let A=N,R=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=C),z&&!y){const D=br(f.left,0),V=br(f.right,0),U=br(f.top,0),B=br(f.bottom,0);_?R=x-2*(D!==0||V!==0?D+V:br(f.left,f.right)):A=b-2*(U!==0||B!==0?U+B:br(f.top,f.bottom))}await u({...e,availableWidth:R,availableHeight:A});const M=await o.getDimensions(l.floating);return x!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function xm(){return typeof window<"u"}function Cu(t){return f1(t)?(t.nodeName||"").toLowerCase():"#document"}function Lr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wi(t){var e;return(e=(f1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function f1(t){return xm()?t instanceof Node||t instanceof Lr(t).Node:!1}function bi(t){return xm()?t instanceof Element||t instanceof Lr(t).Element:!1}function $i(t){return xm()?t instanceof HTMLElement||t instanceof Lr(t).HTMLElement:!1}function Nb(t){return!xm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Lr(t).ShadowRoot}function Gd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Yj(t){return["table","td","th"].includes(Cu(t))}function bm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function m0(t){const e=g0(),n=bi(t)?Ei(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Jj(t){let e=No(t);for(;$i(e)&&!au(e);){if(m0(e))return e;if(bm(e))return null;e=No(e)}return null}function g0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function au(t){return["html","body","#document"].includes(Cu(t))}function Ei(t){return Lr(t).getComputedStyle(t)}function Em(t){return bi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function No(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Nb(t)&&t.host||Wi(t);return Nb(e)?e.host:e}function p1(t){const e=No(t);return au(e)?t.ownerDocument?t.ownerDocument.body:t.body:$i(e)&&Gd(e)?e:p1(e)}function vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=p1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Lr(i);if(s){const l=gy(o);return e.concat(o,o.visualViewport||[],Gd(i)?i:[],l&&n?vd(l):[])}return e.concat(i,vd(i,[],n))}function gy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function m1(t){const e=Ei(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$i(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=hp(n)!==s||hp(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function v0(t){return bi(t)?t:t.contextElement}function Fl(t){const e=v0(t);if(!$i(e))return Vi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=m1(e);let o=(s?hp(n.width):n.width)/r,l=(s?hp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Xj=Vi(0);function g1(t){const e=Lr(t);return!g0()||!e.visualViewport?Xj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Lr(t)?!1:e}function Sa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=v0(t);let o=Vi(1);e&&(r?bi(r)&&(o=Fl(r)):o=Fl(t));const l=eV(s,n,r)?g1(s):Vi(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(s){const y=Lr(s),_=r&&bi(r)?Lr(r):r;let x=y,b=gy(x);for(;b&&r&&_!==x;){const T=Fl(b),E=b.getBoundingClientRect(),C=Ei(b),I=E.left+(b.clientLeft+parseFloat(C.paddingLeft))*T.x,N=E.top+(b.clientTop+parseFloat(C.paddingTop))*T.y;u*=T.x,d*=T.y,f*=T.x,m*=T.y,u+=I,d+=N,x=Lr(b),b=gy(x)}}return pp({width:f,height:m,x:u,y:d})}function y0(t,e){const n=Em(t).scrollLeft;return e?e.left+n:Sa(Wi(t)).left+n}function v1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:y0(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function tV(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Wi(r),l=e?bm(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Vi(1);const f=Vi(0),m=$i(r);if((m||!m&&!s)&&((Cu(r)!=="body"||Gd(o))&&(u=Em(r)),$i(r))){const _=Sa(r);d=Fl(r),f.x=_.x+r.clientLeft,f.y=_.y+r.clientTop}const y=o&&!m&&!s?v1(o,u,!0):Vi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+y.x,y:n.y*d.y-u.scrollTop*d.y+f.y+y.y}}function nV(t){return Array.from(t.getClientRects())}function rV(t){const e=Wi(t),n=Em(t),r=t.ownerDocument.body,i=br(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=br(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+y0(t);const l=-n.scrollTop;return Ei(r).direction==="rtl"&&(o+=br(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function iV(t,e){const n=Lr(t),r=Wi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=g0();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function sV(t,e){const n=Sa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=$i(t)?Fl(t):Vi(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function Ob(t,e,n){let r;if(e==="viewport")r=iV(t,n);else if(e==="document")r=rV(Wi(t));else if(bi(e))r=sV(e,n);else{const i=g1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return pp(r)}function y1(t,e){const n=No(t);return n===e||!bi(n)||au(n)?!1:Ei(n).position==="fixed"||y1(n,e)}function oV(t,e){const n=e.get(t);if(n)return n;let r=vd(t,[],!1).filter(l=>bi(l)&&Cu(l)!=="body"),i=null;const s=Ei(t).position==="fixed";let o=s?No(t):t;for(;bi(o)&&!au(o);){const l=Ei(o),u=m0(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gd(o)&&!u&&y1(t,o))?r=r.filter(f=>f!==o):i=l,o=No(o)}return e.set(t,r),r}function aV(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?bm(e)?[]:oV(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,f)=>{const m=Ob(e,f,i);return d.top=br(m.top,d.top),d.right=Ro(m.right,d.right),d.bottom=Ro(m.bottom,d.bottom),d.left=br(m.left,d.left),d},Ob(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function lV(t){const{width:e,height:n}=m1(t);return{width:e,height:n}}function uV(t,e,n){const r=$i(e),i=Wi(e),s=n==="fixed",o=Sa(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Vi(0);if(r||!r&&!s)if((Cu(e)!=="body"||Gd(i))&&(l=Em(e)),r){const y=Sa(e,!0,s,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&(u.x=y0(i));const d=i&&!r&&!s?v1(i,l):Vi(0),f=o.left+l.scrollLeft-u.x-d.x,m=o.top+l.scrollTop-u.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function qg(t){return Ei(t).position==="static"}function Db(t,e){if(!$i(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wi(t)===n&&(n=n.ownerDocument.body),n}function _1(t,e){const n=Lr(t);if(bm(t))return n;if(!$i(t)){let i=No(t);for(;i&&!au(i);){if(bi(i)&&!qg(i))return i;i=No(i)}return n}let r=Db(t,e);for(;r&&Yj(r)&&qg(r);)r=Db(r,e);return r&&au(r)&&qg(r)&&!m0(r)?n:r||Jj(t)||n}const cV=async function(t){const e=this.getOffsetParent||_1,n=this.getDimensions,r=await n(t.floating);return{reference:uV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dV(t){return Ei(t).direction==="rtl"}const hV={convertOffsetParentRelativeRectToViewportRelativeRect:tV,getDocumentElement:Wi,getClippingRect:aV,getOffsetParent:_1,getElementRects:cV,getClientRects:nV,getDimensions:lV,getScale:Fl,isElement:bi,isRTL:dV};function w1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fV(t,e){let n=null,r;const i=Wi(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:f,top:m,width:y,height:_}=d;if(l||e(),!y||!_)return;const x=Xh(m),b=Xh(i.clientWidth-(f+y)),T=Xh(i.clientHeight-(m+_)),E=Xh(f),I={rootMargin:-x+"px "+-b+"px "+-T+"px "+-E+"px",threshold:br(0,Ro(1,u))||1};let N=!0;function j(z){const A=z[0].intersectionRatio;if(A!==u){if(!N)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!w1(d,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(j,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,I)}n.observe(t)}return o(!0),s}function pV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=v0(t),f=i||s?[...d?vd(d):[],...vd(e)]:[];f.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const m=d&&l?fV(d,n):null;let y=-1,_=null;o&&(_=new ResizeObserver(E=>{let[C]=E;C&&C.target===d&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=_)==null||I.observe(e)})),n()}),d&&!u&&_.observe(d),_.observe(e));let x,b=u?Sa(t):null;u&&T();function T(){const E=Sa(t);b&&!w1(b,E)&&n(),b=E,x=requestAnimationFrame(T)}return n(),()=>{var E;f.forEach(C=>{i&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),m==null||m(),(E=_)==null||E.disconnect(),_=null,u&&cancelAnimationFrame(x)}}const mV=qj,gV=Zj,vV=Hj,yV=Qj,_V=Wj,jb=$j,wV=Kj,xV=(t,e,n)=>{const r=new Map,i={platform:hV,...n},s={...i.platform,_c:r};return Uj(t,e,{...i,platform:s})};var Lf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function mp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!mp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!mp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function x1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vb(t,e){const n=x1(t);return Math.round(e*n)/n}function Zg(t){const e=v.useRef(t);return Lf(()=>{e.current=t}),e}function bV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,m]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=v.useState(r);mp(y,r)||_(r);const[x,b]=v.useState(null),[T,E]=v.useState(null),C=v.useCallback(H=>{H!==z.current&&(z.current=H,b(H))},[]),I=v.useCallback(H=>{H!==A.current&&(A.current=H,E(H))},[]),N=s||x,j=o||T,z=v.useRef(null),A=v.useRef(null),R=v.useRef(f),M=u!=null,D=Zg(u),V=Zg(i),U=Zg(d),B=v.useCallback(()=>{if(!z.current||!A.current)return;const H={placement:e,strategy:n,middleware:y};V.current&&(H.platform=V.current),xV(z.current,A.current,H).then(K=>{const Z={...K,isPositioned:U.current!==!1};Q.current&&!mp(R.current,Z)&&(R.current=Z,Jr.flushSync(()=>{m(Z)}))})},[y,e,n,V,U]);Lf(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[d]);const Q=v.useRef(!1);Lf(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Lf(()=>{if(N&&(z.current=N),j&&(A.current=j),N&&j){if(D.current)return D.current(N,j,B);B()}},[N,j,B,D,M]);const le=v.useMemo(()=>({reference:z,floating:A,setReference:C,setFloating:I}),[C,I]),ne=v.useMemo(()=>({reference:N,floating:j}),[N,j]),he=v.useMemo(()=>{const H={position:n,left:0,top:0};if(!ne.floating)return H;const K=Vb(ne.floating,f.x),Z=Vb(ne.floating,f.y);return l?{...H,transform:"translate("+K+"px, "+Z+"px)",...x1(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:Z}},[n,l,ne.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:B,refs:le,elements:ne,floatingStyles:he}),[f,B,le,ne,he])}const EV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jb({element:r.current,padding:i}).fn(n):{}:r?jb({element:r,padding:i}).fn(n):{}}}},CV=(t,e)=>({...mV(t),options:[t,e]}),SV=(t,e)=>({...gV(t),options:[t,e]}),TV=(t,e)=>({...wV(t),options:[t,e]}),LV=(t,e)=>({...vV(t),options:[t,e]}),PV=(t,e)=>({...yV(t),options:[t,e]}),IV=(t,e)=>({..._V(t),options:[t,e]}),kV=(t,e)=>({...EV(t),options:[t,e]});var AV="Arrow",b1=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(nn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});b1.displayName=AV;var RV=b1;function MV(t){const[e,n]=v.useState(void 0);return Ao(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _0="Popper",[E1,C1]=xu(_0),[NV,S1]=E1(_0),T1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return g.jsx(NV,{scope:e,anchor:r,onAnchorChange:i,children:n})};T1.displayName=_0;var L1="PopperAnchor",P1=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=S1(L1,n),o=v.useRef(null),l=Qr(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(nn.div,{...i,ref:l})});P1.displayName=L1;var w0="PopperContent",[OV,DV]=E1(w0),I1=v.forwardRef((t,e)=>{var fe,_e,De,ve,ye,pe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:x,...b}=t,T=S1(w0,n),[E,C]=v.useState(null),I=Qr(e,Ie=>C(Ie)),[N,j]=v.useState(null),z=MV(N),A=(z==null?void 0:z.width)??0,R=(z==null?void 0:z.height)??0,M=r+(s!=="center"?"-"+s:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(d)?d:[d],U=V.length>0,B={padding:D,boundary:V.filter(VV),altBoundary:U},{refs:Q,floatingStyles:le,placement:ne,isPositioned:he,middlewareData:H}=bV({strategy:"fixed",placement:M,whileElementsMounted:(...Ie)=>pV(...Ie,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[CV({mainAxis:i+R,alignmentAxis:o}),u&&SV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?TV():void 0,...B}),u&&LV({...B}),PV({...B,apply:({elements:Ie,rects:Ze,availableWidth:Te,availableHeight:Ct})=>{const{width:St,height:It}=Ze.reference,_t=Ie.floating.style;_t.setProperty("--radix-popper-available-width",`${Te}px`),_t.setProperty("--radix-popper-available-height",`${Ct}px`),_t.setProperty("--radix-popper-anchor-width",`${St}px`),_t.setProperty("--radix-popper-anchor-height",`${It}px`)}}),N&&kV({element:N,padding:l}),FV({arrowWidth:A,arrowHeight:R}),y&&IV({strategy:"referenceHidden",...B})]}),[K,Z]=R1(ne),oe=xi(x);Ao(()=>{he&&(oe==null||oe())},[he,oe]);const re=(fe=H.arrow)==null?void 0:fe.x,ee=(_e=H.arrow)==null?void 0:_e.y,ue=((De=H.arrow)==null?void 0:De.centerOffset)!==0,[W,me]=v.useState();return Ao(()=>{E&&me(window.getComputedStyle(E).zIndex)},[E]),g.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:he?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ve=H.transformOrigin)==null?void 0:ve.x,(ye=H.transformOrigin)==null?void 0:ye.y].join(" "),...((pe=H.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(OV,{scope:n,placedSide:K,onArrowChange:j,arrowX:re,arrowY:ee,shouldHideArrow:ue,children:g.jsx(nn.div,{"data-side":K,"data-align":Z,...b,ref:I,style:{...b.style,animation:he?void 0:"none"}})})})});I1.displayName=w0;var k1="PopperArrow",jV={top:"bottom",right:"left",bottom:"top",left:"right"},A1=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=DV(k1,r),o=jV[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(RV,{...i,ref:n,style:{...i.style,display:"block"}})})});A1.displayName=k1;function VV(t){return t!==null}var FV=t=>({name:"transformOrigin",options:t,fn(e){var T,E,C;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,f]=R1(n),m={start:"0%",center:"50%",end:"100%"}[f],y=(((E=i.arrow)==null?void 0:E.x)??0)+l/2,_=(((C=i.arrow)==null?void 0:C.y)??0)+u/2;let x="",b="";return d==="bottom"?(x=o?m:`${y}px`,b=`${-u}px`):d==="top"?(x=o?m:`${y}px`,b=`${r.floating.height+u}px`):d==="right"?(x=`${-u}px`,b=o?m:`${_}px`):d==="left"&&(x=`${r.floating.width+u}px`,b=o?m:`${_}px`),{data:{x,y:b}}}});function R1(t){const[e,n="center"]=t.split("-");return[e,n]}var zV=T1,BV=P1,UV=I1,$V=A1,[Cm,IW]=xu("Tooltip",[C1]),Sm=C1(),M1="TooltipProvider",HV=700,vy="tooltip.open",[WV,x0]=Cm(M1),N1=t=>{const{__scopeTooltip:e,delayDuration:n=HV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=v.useRef(!0),l=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),g.jsx(WV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};N1.displayName=M1;var Tm="Tooltip",[GV,Lm]=Cm(Tm),O1=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,u=x0(Tm,t.__scopeTooltip),d=Sm(e),[f,m]=v.useState(null),y=d0(),_=v.useRef(0),x=o??u.disableHoverableContent,b=l??u.delayDuration,T=v.useRef(!1),[E=!1,C]=mm({prop:r,defaultProp:i,onChange:A=>{A?(u.onOpen(),document.dispatchEvent(new CustomEvent(vy))):u.onClose(),s==null||s(A)}}),I=v.useMemo(()=>E?T.current?"delayed-open":"instant-open":"closed",[E]),N=v.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,C(!0)},[C]),j=v.useCallback(()=>{window.clearTimeout(_.current),_.current=0,C(!1)},[C]),z=v.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,C(!0),_.current=0},b)},[b,C]);return v.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),g.jsx(zV,{...d,children:g.jsx(GV,{scope:e,contentId:y,open:E,stateAttribute:I,trigger:f,onTriggerChange:m,onTriggerEnter:v.useCallback(()=>{u.isOpenDelayedRef.current?z():N()},[u.isOpenDelayedRef,z,N]),onTriggerLeave:v.useCallback(()=>{x?j():(window.clearTimeout(_.current),_.current=0)},[j,x]),onOpen:N,onClose:j,disableHoverableContent:x,children:n})})};O1.displayName=Tm;var yy="TooltipTrigger",D1=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Lm(yy,n),s=x0(yy,n),o=Sm(n),l=v.useRef(null),u=Qr(e,l,i.onTriggerChange),d=v.useRef(!1),f=v.useRef(!1),m=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),g.jsx(BV,{asChild:!0,...o,children:g.jsx(nn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:gt(t.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:gt(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:gt(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:gt(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:gt(t.onBlur,i.onClose),onClick:gt(t.onClick,i.onClose)})})});D1.displayName=yy;var qV="TooltipPortal",[kW,ZV]=Cm(qV,{forceMount:void 0}),lu="TooltipContent",j1=v.forwardRef((t,e)=>{const n=ZV(lu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Lm(lu,t.__scopeTooltip);return g.jsx(pm,{present:r||o.open,children:o.disableHoverableContent?g.jsx(V1,{side:i,...s,ref:e}):g.jsx(KV,{side:i,...s,ref:e})})}),KV=v.forwardRef((t,e)=>{const n=Lm(lu,t.__scopeTooltip),r=x0(lu,t.__scopeTooltip),i=v.useRef(null),s=Qr(e,i),[o,l]=v.useState(null),{trigger:u,onClose:d}=n,f=i.current,{onPointerInTransitChange:m}=r,y=v.useCallback(()=>{l(null),m(!1)},[m]),_=v.useCallback((x,b)=>{const T=x.currentTarget,E={x:x.clientX,y:x.clientY},C=e4(E,T.getBoundingClientRect()),I=t4(E,C),N=n4(b.getBoundingClientRect()),j=i4([...I,...N]);l(j),m(!0)},[m]);return v.useEffect(()=>()=>y(),[y]),v.useEffect(()=>{if(u&&f){const x=T=>_(T,f),b=T=>_(T,u);return u.addEventListener("pointerleave",x),f.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",b)}}},[u,f,_,y]),v.useEffect(()=>{if(o){const x=b=>{const T=b.target,E={x:b.clientX,y:b.clientY},C=(u==null?void 0:u.contains(T))||(f==null?void 0:f.contains(T)),I=!r4(E,o);C?y():I&&(y(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,f,o,d,y]),g.jsx(V1,{...t,ref:s})}),[QV,YV]=Cm(Tm,{isInside:!1}),JV=h2("TooltipContent"),V1=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,u=Lm(lu,n),d=Sm(n),{onClose:f}=u;return v.useEffect(()=>(document.addEventListener(vy,f),()=>document.removeEventListener(vy,f)),[f]),v.useEffect(()=>{if(u.trigger){const m=y=>{const _=y.target;_!=null&&_.contains(u.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,f]),g.jsx(r0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:g.jsxs(UV,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(JV,{children:r}),g.jsx(QV,{scope:n,isInside:!0,children:g.jsx(R2,{id:u.contentId,role:"tooltip",children:i||r})})]})})});j1.displayName=lu;var F1="TooltipArrow",XV=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Sm(n);return YV(F1,n).isInside?null:g.jsx($V,{...i,...r,ref:e})});XV.displayName=F1;function e4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function n4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function r4(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,u=e[s].y,d=e[o].x,f=e[o].y;u>r!=f>r&&n<(d-l)*(r-u)/(f-u)+l&&(i=!i)}return i}function i4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),s4(e)}function s4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o4=N1,a4=O1,l4=D1,z1=j1;const B1=o4,u4=a4,c4=l4,U1=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(z1,{ref:r,sideOffset:e,className:nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));U1.displayName=z1.displayName;var Pm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Im=typeof window>"u"||"Deno"in globalThis;function ai(){}function d4(t,e){return typeof t=="function"?t(e):t}function h4(t){return typeof t=="number"&&t>=0&&t!==1/0}function f4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fb(t,e){return typeof t=="function"?t(e):t}function p4(t,e){return typeof t=="function"?t(e):t}function zb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==b0(o,e.options))return!1}else if(!_d(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function Bb(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(yd(e.options.mutationKey)!==yd(s))return!1}else if(!_d(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function b0(t,e){return((e==null?void 0:e.queryKeyHashFn)||yd)(t)}function yd(t){return JSON.stringify(t,(e,n)=>_y(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _d(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>_d(t[n],e[n])):!1}function $1(t,e){if(t===e)return t;const n=Ub(t)&&Ub(e);if(n||_y(t)&&_y(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let u=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=$1(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function Ub(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _y(t){if(!$b(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$b(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $b(t){return Object.prototype.toString.call(t)==="[object Object]"}function m4(t){return new Promise(e=>{setTimeout(e,t)})}function g4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$1(t,e):e}function v4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function y4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var E0=Symbol();function H1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===E0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ha,no,Wl,XS,_4=(XS=class extends Pm{constructor(){super();ut(this,ha);ut(this,no);ut(this,Wl);Fe(this,Wl,e=>{if(!Im&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,no)||this.setEventListener(te(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,no))==null||e.call(this),Fe(this,no,void 0))}setEventListener(e){var n;Fe(this,Wl,e),(n=te(this,no))==null||n.call(this),Fe(this,no,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,ha)!==e&&(Fe(this,ha,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof te(this,ha)=="boolean"?te(this,ha):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ha=new WeakMap,no=new WeakMap,Wl=new WeakMap,XS),W1=new _4,Gl,ro,ql,eT,w4=(eT=class extends Pm{constructor(){super();ut(this,Gl,!0);ut(this,ro);ut(this,ql);Fe(this,ql,e=>{if(!Im&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,ro)||this.setEventListener(te(this,ql))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,ro))==null||e.call(this),Fe(this,ro,void 0))}setEventListener(e){var n;Fe(this,ql,e),(n=te(this,ro))==null||n.call(this),Fe(this,ro,e(this.setOnline.bind(this)))}setOnline(e){te(this,Gl)!==e&&(Fe(this,Gl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,Gl)}},Gl=new WeakMap,ro=new WeakMap,ql=new WeakMap,eT),gp=new w4;function x4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function b4(t){return Math.min(1e3*2**t,3e4)}function G1(t){return(t??"online")==="online"?gp.isOnline():!0}var q1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kg(t){return t instanceof q1}function Z1(t){let e=!1,n=0,r=!1,i;const s=x4(),o=b=>{var T;r||(y(new q1(b)),(T=t.abort)==null||T.call(t))},l=()=>{e=!0},u=()=>{e=!1},d=()=>W1.isFocused()&&(t.networkMode==="always"||gp.isOnline())&&t.canRun(),f=()=>G1(t.networkMode)&&t.canRun(),m=b=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,b),i==null||i(),s.resolve(b))},y=b=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,b),i==null||i(),s.reject(b))},_=()=>new Promise(b=>{var T;i=E=>{(r||d())&&b(E)},(T=t.onPause)==null||T.call(t)}).then(()=>{var b;i=void 0,r||(b=t.onContinue)==null||b.call(t)}),x=()=>{if(r)return;let b;const T=n===0?t.initialPromise:void 0;try{b=T??t.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(m).catch(E=>{var z;if(r)return;const C=t.retry??(Im?0:3),I=t.retryDelay??b4,N=typeof I=="function"?I(n,E):I,j=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,E);if(e||!j){y(E);return}n++,(z=t.onFail)==null||z.call(t,n,E),m4(N).then(()=>d()?void 0:_()).then(()=>{e?y(E):x()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?x():_().then(x),s)}}var E4=t=>setTimeout(t,0);function C4(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=E4;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Xn=C4(),fa,tT,K1=(tT=class{constructor(){ut(this,fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),h4(this.gcTime)&&Fe(this,fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Im?1/0:5*60*1e3))}clearGcTimeout(){te(this,fa)&&(clearTimeout(te(this,fa)),Fe(this,fa,void 0))}},fa=new WeakMap,tT),Zl,Kl,Ur,pa,Dn,Vd,ma,li,ss,nT,S4=(nT=class extends K1{constructor(n){super();ut(this,li);ut(this,Zl);ut(this,Kl);ut(this,Ur);ut(this,pa);ut(this,Dn);ut(this,Vd);ut(this,ma);Fe(this,ma,!1),Fe(this,Vd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Fe(this,pa,n.client),Fe(this,Ur,te(this,pa).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Fe(this,Zl,L4(this.options)),this.state=n.state??te(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=te(this,Dn))==null?void 0:n.promise}setOptions(n){this.options={...te(this,Vd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Ur).remove(this)}setData(n,r){const i=g4(this.state.data,n,this.options);return Rn(this,li,ss).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Rn(this,li,ss).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=te(this,Dn))==null?void 0:i.promise;return(s=te(this,Dn))==null||s.cancel(n),r?r.then(ai).catch(ai):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Zl))}isActive(){return this.observers.some(n=>p4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===E0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!f4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=te(this,Dn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=te(this,Dn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),te(this,Ur).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(te(this,Dn)&&(te(this,ma)?te(this,Dn).cancel({revert:!0}):te(this,Dn).cancelRetry()),this.scheduleGc()),te(this,Ur).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rn(this,li,ss).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Dn))return te(this,Dn).continueRetry(),te(this,Dn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(_=>_.options.queryFn);y&&this.setOptions(y.options)}const i=new AbortController,s=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Fe(this,ma,!0),i.signal)})},o=()=>{const y=H1(this.options,r),_={client:te(this,pa),queryKey:this.queryKey,meta:this.meta};return s(_),Fe(this,ma,!1),this.options.persister?this.options.persister(y,_,this):y(_)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,pa),state:this.state,fetchFn:o};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),Fe(this,Kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Rn(this,li,ss).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=y=>{var _,x,b,T;Kg(y)&&y.silent||Rn(this,li,ss).call(this,{type:"error",error:y}),Kg(y)||((x=(_=te(this,Ur).config).onError)==null||x.call(_,y,this),(T=(b=te(this,Ur).config).onSettled)==null||T.call(b,this.state.data,y,this)),this.scheduleGc()};return Fe(this,Dn,Z1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:y=>{var _,x,b,T;if(y===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(E){u(E);return}(x=(_=te(this,Ur).config).onSuccess)==null||x.call(_,y,this),(T=(b=te(this,Ur).config).onSettled)==null||T.call(b,y,this.state.error,this),this.scheduleGc()},onError:u,onFail:(y,_)=>{Rn(this,li,ss).call(this,{type:"failed",failureCount:y,error:_})},onPause:()=>{Rn(this,li,ss).call(this,{type:"pause"})},onContinue:()=>{Rn(this,li,ss).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,Dn).start()}},Zl=new WeakMap,Kl=new WeakMap,Ur=new WeakMap,pa=new WeakMap,Dn=new WeakMap,Vd=new WeakMap,ma=new WeakMap,li=new WeakSet,ss=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...T4(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Kg(s)&&s.revert&&te(this,Kl)?{...te(this,Kl),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Xn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),te(this,Ur).notify({query:this,type:"updated",action:n})})},nT);function T4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function L4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ri,rT,P4=(rT=class extends Pm{constructor(e={}){super();ut(this,Ri);this.config=e,Fe(this,Ri,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??b0(i,n);let o=this.get(s);return o||(o=new S4({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){te(this,Ri).has(e.queryHash)||(te(this,Ri).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=te(this,Ri).get(e.queryHash);n&&(e.destroy(),n===e&&te(this,Ri).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Ri).get(e)}getAll(){return[...te(this,Ri).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>zb(e,r)):n}notify(e){Xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ri=new WeakMap,rT),Mi,Yn,ga,Ni,Ws,iT,I4=(iT=class extends K1{constructor(n){super();ut(this,Ni);ut(this,Mi);ut(this,Yn);ut(this,ga);this.mutationId=n.mutationId,Fe(this,Yn,n.mutationCache),Fe(this,Mi,[]),this.state=n.state||k4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){te(this,Mi).includes(n)||(te(this,Mi).push(n),this.clearGcTimeout(),te(this,Yn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Fe(this,Mi,te(this,Mi).filter(r=>r!==n)),this.scheduleGc(),te(this,Yn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){te(this,Mi).length||(this.state.status==="pending"?this.scheduleGc():te(this,Yn).remove(this))}continue(){var n;return((n=te(this,ga))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,u,d,f,m,y,_,x,b,T,E,C,I,N,j,z,A,R,M;const r=()=>{Rn(this,Ni,Ws).call(this,{type:"continue"})};Fe(this,ga,Z1({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(D,V)=>{Rn(this,Ni,Ws).call(this,{type:"failed",failureCount:D,error:V})},onPause:()=>{Rn(this,Ni,Ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Yn).canRun(this)}));const i=this.state.status==="pending",s=!te(this,ga).canStart();try{if(i)r();else{Rn(this,Ni,Ws).call(this,{type:"pending",variables:n,isPaused:s}),await((l=(o=te(this,Yn).config).onMutate)==null?void 0:l.call(o,n,this));const V=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n));V!==this.state.context&&Rn(this,Ni,Ws).call(this,{type:"pending",context:V,variables:n,isPaused:s})}const D=await te(this,ga).start();return await((m=(f=te(this,Yn).config).onSuccess)==null?void 0:m.call(f,D,n,this.state.context,this)),await((_=(y=this.options).onSuccess)==null?void 0:_.call(y,D,n,this.state.context)),await((b=(x=te(this,Yn).config).onSettled)==null?void 0:b.call(x,D,null,this.state.variables,this.state.context,this)),await((E=(T=this.options).onSettled)==null?void 0:E.call(T,D,null,n,this.state.context)),Rn(this,Ni,Ws).call(this,{type:"success",data:D}),D}catch(D){try{throw await((I=(C=te(this,Yn).config).onError)==null?void 0:I.call(C,D,n,this.state.context,this)),await((j=(N=this.options).onError)==null?void 0:j.call(N,D,n,this.state.context)),await((A=(z=te(this,Yn).config).onSettled)==null?void 0:A.call(z,void 0,D,this.state.variables,this.state.context,this)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,D,n,this.state.context)),D}finally{Rn(this,Ni,Ws).call(this,{type:"error",error:D})}}finally{te(this,Yn).runNext(this)}}},Mi=new WeakMap,Yn=new WeakMap,ga=new WeakMap,Ni=new WeakSet,Ws=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xn.batch(()=>{te(this,Mi).forEach(i=>{i.onMutationUpdate(n)}),te(this,Yn).notify({mutation:this,type:"updated",action:n})})},iT);function k4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,ui,Fd,sT,A4=(sT=class extends Pm{constructor(e={}){super();ut(this,ls);ut(this,ui);ut(this,Fd);this.config=e,Fe(this,ls,new Set),Fe(this,ui,new Map),Fe(this,Fd,0)}build(e,n,r){const i=new I4({mutationCache:this,mutationId:++Rh(this,Fd)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){te(this,ls).add(e);const n=ef(e);if(typeof n=="string"){const r=te(this,ui).get(n);r?r.push(e):te(this,ui).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(te(this,ls).delete(e)){const n=ef(e);if(typeof n=="string"){const r=te(this,ui).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&te(this,ui).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ef(e);if(typeof n=="string"){const r=te(this,ui).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=ef(e);if(typeof n=="string"){const i=(r=te(this,ui).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xn.batch(()=>{te(this,ls).forEach(e=>{this.notify({type:"removed",mutation:e})}),te(this,ls).clear(),te(this,ui).clear()})}getAll(){return Array.from(te(this,ls))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bb(n,r))}findAll(e={}){return this.getAll().filter(n=>Bb(e,n))}notify(e){Xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Xn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ai))))}},ls=new WeakMap,ui=new WeakMap,Fd=new WeakMap,sT);function ef(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Hb(t){return{onFetch:(e,n)=>{var f,m,y,_,x;const r=e.options,i=(y=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,s=((_=e.state.data)==null?void 0:_.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let b=!1;const T=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},E=H1(e.options,e.fetchOptions),C=async(I,N,j)=>{if(b)return Promise.reject();if(N==null&&I.pages.length)return Promise.resolve(I);const z={client:e.client,queryKey:e.queryKey,pageParam:N,direction:j?"backward":"forward",meta:e.options.meta};T(z);const A=await E(z),{maxPages:R}=e.options,M=j?y4:v4;return{pages:M(I.pages,A,R),pageParams:M(I.pageParams,N,R)}};if(i&&s.length){const I=i==="backward",N=I?R4:Wb,j={pages:s,pageParams:o},z=N(r,j);l=await C(j,z,I)}else{const I=t??s.length;do{const N=u===0?o[0]??r.initialPageParam:Wb(r,l);if(u>0&&N==null)break;l=await C(l,N),u++}while(u<I)}return l};e.options.persister?e.fetchFn=()=>{var b,T;return(T=(b=e.options).persister)==null?void 0:T.call(b,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function Wb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function R4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ut,io,so,Ql,Yl,oo,Jl,Xl,oT,M4=(oT=class{constructor(t={}){ut(this,Ut);ut(this,io);ut(this,so);ut(this,Ql);ut(this,Yl);ut(this,oo);ut(this,Jl);ut(this,Xl);Fe(this,Ut,t.queryCache||new P4),Fe(this,io,t.mutationCache||new A4),Fe(this,so,t.defaultOptions||{}),Fe(this,Ql,new Map),Fe(this,Yl,new Map),Fe(this,oo,0)}mount(){Rh(this,oo)._++,te(this,oo)===1&&(Fe(this,Jl,W1.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Ut).onFocus())})),Fe(this,Xl,gp.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Ut).onOnline())})))}unmount(){var t,e;Rh(this,oo)._--,te(this,oo)===0&&((t=te(this,Jl))==null||t.call(this),Fe(this,Jl,void 0),(e=te(this,Xl))==null||e.call(this),Fe(this,Xl,void 0))}isFetching(t){return te(this,Ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,io).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,Ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=te(this,Ut).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return te(this,Ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=te(this,Ut).get(r.queryHash),s=i==null?void 0:i.state.data,o=d4(e,s);if(o!==void 0)return te(this,Ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Xn.batch(()=>te(this,Ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,Ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=te(this,Ut);Xn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=te(this,Ut);return Xn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Xn.batch(()=>te(this,Ut).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ai).catch(ai)}invalidateQueries(t,e={}){return Xn.batch(()=>(te(this,Ut).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Xn.batch(()=>te(this,Ut).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ai)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ai)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=te(this,Ut).build(this,e);return n.isStaleByTime(Fb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ai).catch(ai)}fetchInfiniteQuery(t){return t.behavior=Hb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ai).catch(ai)}ensureInfiniteQueryData(t){return t.behavior=Hb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gp.isOnline()?te(this,io).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Ut)}getMutationCache(){return te(this,io)}getDefaultOptions(){return te(this,so)}setDefaultOptions(t){Fe(this,so,t)}setQueryDefaults(t,e){te(this,Ql).set(yd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,Ql).values()],n={};return e.forEach(r=>{_d(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){te(this,Yl).set(yd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,Yl).values()],n={};return e.forEach(r=>{_d(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,so).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=b0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===E0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,so).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,Ut).clear(),te(this,io).clear()}},Ut=new WeakMap,io=new WeakMap,so=new WeakMap,Ql=new WeakMap,Yl=new WeakMap,oo=new WeakMap,Jl=new WeakMap,Xl=new WeakMap,oT),N4=v.createContext(void 0),O4=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(N4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const Gb="popstate";function D4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return wy("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vp(i)}return V4(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j4(){return Math.random().toString(36).substr(2,8)}function qb(t,e){return{usr:t.state,key:t.key,idx:e}}function wy(t,e,n,r){return n===void 0&&(n=null),wd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Su(e):e,{state:n,key:e&&e.key||r||j4()})}function vp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Su(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=uo.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(wd({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=uo.Pop;let T=f(),E=T==null?null:T-d;d=T,u&&u({action:l,location:b.location,delta:E})}function y(T,E){l=uo.Push;let C=wy(b.location,T,E);d=f()+1;let I=qb(C,d),N=b.createHref(C);try{o.pushState(I,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(N)}s&&u&&u({action:l,location:b.location,delta:1})}function _(T,E){l=uo.Replace;let C=wy(b.location,T,E);d=f();let I=qb(C,d),N=b.createHref(C);o.replaceState(I,"",N),s&&u&&u({action:l,location:b.location,delta:0})}function x(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof T=="string"?T:vp(T);return C=C.replace(/ $/,"%20"),Ht(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let b={get action(){return l},get location(){return t(i,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gb,m),u=T,()=>{i.removeEventListener(Gb,m),u=null}},createHref(T){return e(i,T)},createURL:x,encodeLocation(T){let E=x(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:_,go(T){return o.go(T)}};return b}var Zb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zb||(Zb={}));function F4(t,e,n){return n===void 0&&(n="/"),z4(t,e,n)}function z4(t,e,n,r){let i=typeof e=="string"?Su(e):e,s=uu(i.pathname||"/",n);if(s==null)return null;let o=Y1(t);B4(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=J4(s);l=Q4(o[u],d)}return l}function Y1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ht(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=bo([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Y1(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:Z4(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of J1(s.path))i(s,o,u)}),e}function J1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=J1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function B4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U4=/^:[\w-]+$/,$4=3,H4=2,W4=1,G4=10,q4=-2,Kb=t=>t==="*";function Z4(t,e){let n=t.split("/"),r=n.length;return n.some(Kb)&&(r+=q4),e&&(r+=H4),n.filter(i=>!Kb(i)).reduce((i,s)=>i+(U4.test(s)?$4:s===""?W4:G4),r)}function K4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Q4(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=xy({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:bo([s,m.pathname]),pathnameBase:n5(bo([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=bo([s,m.pathnameBase]))}return o}function xy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,m)=>{let{paramName:y,isOptional:_}=f;if(y==="*"){let b=l[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[m];return _&&!x?d[y]=void 0:d[y]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function Y4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function X4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Su(t):t;return{pathname:n?n.startsWith("/")?n:e5(n,e):e,search:r5(r),hash:i5(i)}}function e5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X1(t,e){let n=t5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Su(t):(i=wd({},t),Ht(!i.pathname||!i.pathname.includes("?"),Qg("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Qg("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Qg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let u=X4(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),n5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tI=["post","put","patch","delete"];new Set(tI);const o5=["get",...tI];new Set(o5);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}const km=v.createContext(null),nI=v.createContext(null),Ho=v.createContext(null),Am=v.createContext(null),Da=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rI=v.createContext(null);function a5(t,e){let{relative:n}=e===void 0?{}:e;qd()||Ht(!1);let{basename:r,navigator:i}=v.useContext(Ho),{hash:s,pathname:o,search:l}=Rm(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:bo([r,o])),i.createHref({pathname:u,search:l,hash:s})}function qd(){return v.useContext(Am)!=null}function Tu(){return qd()||Ht(!1),v.useContext(Am).location}function iI(t){v.useContext(Ho).static||v.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=v.useContext(Da);return t?w5():l5()}function l5(){qd()||Ht(!1);let t=v.useContext(km),{basename:e,future:n,navigator:r}=v.useContext(Ho),{matches:i}=v.useContext(Da),{pathname:s}=Tu(),o=JSON.stringify(X1(i,n.v7_relativeSplatPath)),l=v.useRef(!1);return iI(()=>{l.current=!0}),v.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=eI(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:bo([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}function Rm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ho),{matches:i}=v.useContext(Da),{pathname:s}=Tu(),o=JSON.stringify(X1(i,r.v7_relativeSplatPath));return v.useMemo(()=>eI(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function u5(t,e){return c5(t,e)}function c5(t,e,n,r){qd()||Ht(!1);let{navigator:i,static:s}=v.useContext(Ho),{matches:o}=v.useContext(Da),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Tu(),m;if(e){var y;let E=typeof e=="string"?Su(e):e;d==="/"||(y=E.pathname)!=null&&y.startsWith(d)||Ht(!1),m=E}else m=f;let _=m.pathname||"/",x=_;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=F4(t,{pathname:x}),T=m5(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:bo([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:bo([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&T?v.createElement(Am.Provider,{value:{location:xd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:uo.Pop}},T):T}function d5(){let t=_5(),e=s5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const h5=v.createElement(d5,null);class f5 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Da.Provider,{value:this.props.routeContext},v.createElement(rI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p5(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(km);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Da.Provider,{value:e},r)}function m5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Ht(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:_}=n,x=m.route.loader&&y[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,y)=>{let _,x=!1,b=null,T=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||h5,u&&(d<0&&y===0?(x5("route-fallback"),x=!0,T=null):d===y&&(x=!0,T=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,y+1)),C=()=>{let I;return _?I=b:x?I=T:m.route.Component?I=v.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=f,v.createElement(p5,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?v.createElement(f5,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var sI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sI||{}),oI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oI||{});function g5(t){let e=v.useContext(km);return e||Ht(!1),e}function v5(t){let e=v.useContext(nI);return e||Ht(!1),e}function y5(t){let e=v.useContext(Da);return e||Ht(!1),e}function aI(t){let e=y5(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function _5(){var t;let e=v.useContext(rI),n=v5(),r=aI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w5(){let{router:t}=g5(sI.UseNavigateStable),e=aI(oI.UseNavigateStable),n=v.useRef(!1);return iI(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xd({fromRouteId:e},s)))},[t,e])}const Qb={};function x5(t,e,n){Qb[t]||(Qb[t]=!0)}function b5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qn(t){Ht(!1)}function E5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=uo.Pop,navigator:s,static:o=!1,future:l}=t;qd()&&Ht(!1);let u=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:u,navigator:s,static:o,future:xd({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Su(r));let{pathname:f="/",search:m="",hash:y="",state:_=null,key:x="default"}=r,b=v.useMemo(()=>{let T=uu(f,u);return T==null?null:{location:{pathname:T,search:m,hash:y,state:_,key:x},navigationType:i}},[u,f,m,y,_,x,i]);return b==null?null:v.createElement(Ho.Provider,{value:d},v.createElement(Am.Provider,{children:n,value:b}))}function C5(t){let{children:e,location:n}=t;return u5(by(e),n)}new Promise(()=>{});function by(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,by(r.props.children,s));return}r.type!==Qn&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=by(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function lI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T5(t,e){return t.button===0&&(!e||e==="_self")&&!S5(t)}const L5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],I5="6";try{window.__reactRouterVersion=I5}catch{}const k5=v.createContext({isTransitioning:!1}),A5="startTransition",Yb=vT[A5];function R5(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=D4({window:i,v5Compat:!0}));let o=s.current,[l,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=v.useCallback(m=>{d&&Yb?Yb(()=>u(m)):u(m)},[u,d]);return v.useLayoutEffect(()=>o.listen(f),[o,f]),v.useEffect(()=>b5(r),[r]),v.createElement(E5,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const M5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,co=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:m}=e,y=lI(e,L5),{basename:_}=v.useContext(Ho),x,b=!1;if(typeof d=="string"&&N5.test(d)&&(x=d,M5))try{let I=new URL(window.location.href),N=d.startsWith("//")?new URL(I.protocol+d):new URL(d),j=uu(N.pathname,_);N.origin===I.origin&&j!=null?d=j+N.search+N.hash:b=!0}catch{}let T=a5(d,{relative:i}),E=D5(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:m});function C(I){r&&r(I),I.defaultPrevented||E(I)}return v.createElement("a",yp({},y,{href:x||T,onClick:b||s?r:C,ref:n,target:u}))}),Xo=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:d,children:f}=e,m=lI(e,P5),y=Rm(u,{relative:m.relative}),_=Tu(),x=v.useContext(nI),{navigator:b,basename:T}=v.useContext(Ho),E=x!=null&&j5(y)&&d===!0,C=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,I=_.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(I=I.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&T&&(N=uu(N,T)||N);const j=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=I===C||!o&&I.startsWith(C)&&I.charAt(j)==="/",A=N!=null&&(N===C||!o&&N.startsWith(C)&&N.charAt(C.length)==="/"),R={isActive:z,isPending:A,isTransitioning:E},M=z?r:void 0,D;typeof s=="function"?D=s(R):D=[s,z?"active":null,A?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(R):l;return v.createElement(co,yp({},m,{"aria-current":M,className:D,ref:n,style:V,to:u,viewTransition:d}),typeof f=="function"?f(R):f)});var Ey;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ey||(Ey={}));var Jb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jb||(Jb={}));function O5(t){let e=v.useContext(km);return e||Ht(!1),e}function D5(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=Gi(),d=Tu(),f=Rm(t,{relative:o});return v.useCallback(m=>{if(T5(m,n)){m.preventDefault();let y=r!==void 0?r:vp(d)===vp(f);u(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,f,r,i,n,t,s,o,l])}function j5(t,e){e===void 0&&(e={});let n=v.useContext(k5);n==null&&Ht(!1);let{basename:r}=O5(Ey.useViewTransitionState),i=Rm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=uu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=uu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xy(i.pathname,o)!=null||xy(i.pathname,s)!=null}const V5=()=>{};var Xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,_=d&63;u||(_=64,o||(y=64)),r.push(n[f],n[m],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new z5;const y=s<<2|l>>4;if(r.push(y),d!==64){const _=l<<4&240|d>>2;if(r.push(_),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B5=function(t){const e=uI(t);return cI.encodeByteArray(e,!0)},_p=function(t){return B5(t).replace(/\./g,"")},dI=function(t){try{return cI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=()=>U5().__FIREBASE_DEFAULTS__,H5=()=>{if(typeof process>"u"||typeof Xb>"u")return;const t=Xb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return V5()||$5()||H5()||W5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=Mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G5=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fI=()=>{var t;return(t=Mm())===null||t===void 0?void 0:t.config},pI=t=>{var e;return(e=Mm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_p(JSON.stringify(n)),_p(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function Q5(){var t;const e=(t=Mm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eF(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tF(){return!Q5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nF(){try{return typeof indexedDB=="object"}catch{return!1}}function rF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iF,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sF(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Is(i,l,r)}}function sF(t,e){return t.replace(oF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oF=/\{\$([^}]+)}/g;function aF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(eE(s)&&eE(o)){if(!Ta(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lF(t,e){const n=new uF(t,e);return n.subscribe.bind(n)}class uF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yg),i.error===void 0&&(i.error=Yg),i.complete===void 0&&(i.complete=Yg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){return t&&t._delegate?t._delegate:t}class La{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fF(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hF(t){return t===ra?void 0:t}function fF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const mF={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},gF=et.INFO,vF={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},yF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C0{constructor(e){this.name=e,this._logLevel=gF,this._logHandler=yF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const _F=(t,e)=>e.some(n=>t instanceof n);let tE,nE;function wF(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xF(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mI=new WeakMap,Cy=new WeakMap,gI=new WeakMap,Jg=new WeakMap,S0=new WeakMap;function bF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Eo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mI.set(n,t)}).catch(()=>{}),S0.set(e,t),e}function EF(t){if(Cy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cy.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CF(t){Sy=t(Sy)}function SF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xg(this),e,...n);return gI.set(r,e.sort?e.sort():[e]),Eo(r)}:xF().includes(t)?function(...e){return t.apply(Xg(this),e),Eo(mI.get(this))}:function(...e){return Eo(t.apply(Xg(this),e))}}function TF(t){return typeof t=="function"?SF(t):(t instanceof IDBTransaction&&EF(t),_F(t,wF())?new Proxy(t,Sy):t)}function Eo(t){if(t instanceof IDBRequest)return bF(t);if(Jg.has(t))return Jg.get(t);const e=TF(t);return e!==t&&(Jg.set(t,e),S0.set(e,t)),e}const Xg=t=>S0.get(t);function LF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Eo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Eo(o.result),u.oldVersion,u.newVersion,Eo(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const PF=["get","getKey","getAll","getAllKeys","count"],IF=["put","add","delete","clear"],ev=new Map;function rE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ev.get(e))return ev.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PF.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return ev.set(e,s),s}CF(t=>({...t,get:(e,n,r)=>rE(e,n)||t.get(e,n,r),has:(e,n)=>!!rE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ty="@firebase/app",iE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new C0("@firebase/app"),RF="@firebase/app-compat",MF="@firebase/analytics-compat",NF="@firebase/analytics",OF="@firebase/app-check-compat",DF="@firebase/app-check",jF="@firebase/auth",VF="@firebase/auth-compat",FF="@firebase/database",zF="@firebase/data-connect",BF="@firebase/database-compat",UF="@firebase/functions",$F="@firebase/functions-compat",HF="@firebase/installations",WF="@firebase/installations-compat",GF="@firebase/messaging",qF="@firebase/messaging-compat",ZF="@firebase/performance",KF="@firebase/performance-compat",QF="@firebase/remote-config",YF="@firebase/remote-config-compat",JF="@firebase/storage",XF="@firebase/storage-compat",ez="@firebase/firestore",tz="@firebase/vertexai",nz="@firebase/firestore-compat",rz="firebase",iz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="[DEFAULT]",sz={[Ty]:"fire-core",[RF]:"fire-core-compat",[NF]:"fire-analytics",[MF]:"fire-analytics-compat",[DF]:"fire-app-check",[OF]:"fire-app-check-compat",[jF]:"fire-auth",[VF]:"fire-auth-compat",[FF]:"fire-rtdb",[zF]:"fire-data-connect",[BF]:"fire-rtdb-compat",[UF]:"fire-fn",[$F]:"fire-fn-compat",[HF]:"fire-iid",[WF]:"fire-iid-compat",[GF]:"fire-fcm",[qF]:"fire-fcm-compat",[ZF]:"fire-perf",[KF]:"fire-perf-compat",[QF]:"fire-rc",[YF]:"fire-rc-compat",[JF]:"fire-gcs",[XF]:"fire-gcs-compat",[ez]:"fire-fst",[nz]:"fire-fst-compat",[tz]:"fire-vertex","fire-js":"fire-js",[rz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=new Map,oz=new Map,Py=new Map;function sE(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cu(t){const e=t.name;if(Py.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Py.set(e,t);for(const n of wp.values())sE(n,t);for(const n of oz.values())sE(n,t);return!0}function T0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Zd("app","Firebase",az);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=iz;function vI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ly,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(n||(n=fI()),!n)throw Co.create("no-options");const s=wp.get(i);if(s){if(Ta(n,s.options)&&Ta(r,s.config))return s;throw Co.create("duplicate-app",{appName:i})}const o=new pF(i);for(const u of Py.values())o.addComponent(u);const l=new lz(n,r,o);return wp.set(i,l),l}function yI(t=Ly){const e=wp.get(t);if(!e&&t===Ly&&fI())return vI();if(!e)throw Co.create("no-app",{appName:t});return e}function So(t,e,n){var r;let i=(r=sz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(l.join(" "));return}cu(new La(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="firebase-heartbeat-database",cz=1,bd="firebase-heartbeat-store";let tv=null;function _I(){return tv||(tv=LF(uz,cz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),tv}async function dz(t){try{const n=(await _I()).transaction(bd),r=await n.objectStore(bd).get(wI(t));return await n.done,r}catch(e){if(e instanceof Is)Cs.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function oE(t,e){try{const r=(await _I()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,wI(t)),await r.done}catch(n){if(n instanceof Is)Cs.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(r.message)}}}function wI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=1024,fz=30;class pz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>fz){const o=vz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aE(),{heartbeatsToSend:r,unsentEntries:i}=mz(this._heartbeatsCache.heartbeats),s=_p(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cs.warn(n),""}}}function aE(){return new Date().toISOString().substring(0,10)}function mz(t,e=hz){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nF()?rF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lE(t){return _p(JSON.stringify({version:2,heartbeats:t})).length}function vz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){cu(new La("platform-logger",e=>new kF(e),"PRIVATE")),cu(new La("heartbeat",e=>new pz(e),"PRIVATE")),So(Ty,iE,t),So(Ty,iE,"esm2017"),So("fire-js","")}yz("");function L0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _z=xI,bI=new Zd("auth","Firebase",xI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new C0("@firebase/auth");function wz(t,...e){xp.logLevel<=et.WARN&&xp.warn(`Auth (${Lu}): ${t}`,...e)}function Pf(t,...e){xp.logLevel<=et.ERROR&&xp.error(`Auth (${Lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,...e){throw I0(t,...e)}function yi(t,...e){return I0(t,...e)}function P0(t,e,n){const r=Object.assign(Object.assign({},_z()),{[e]:n});return new Zd("auth","Firebase",r).create(e,{appName:t.name})}function ms(t){return P0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yr(t,"argument-error"),P0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bI.create(t,...e)}function Re(t,e,...n){if(!t)throw I0(e,...n)}function hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Ss(t,e){t||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bz(){return uE()==="http:"||uE()==="https:"}function uE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bz()||J5()||"connection"in navigator)?navigator.onLine:!0}function Cz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=K5()||X5()}get(){return Ez()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){Ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lz=new Qd(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function As(t,e,n,r,i={}){return CI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Kd(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},s);return Y5()||(d.referrerPolicy="no-referrer"),EI.fetch()(await SI(t,t.config.apiHost,n,l),d)})}async function CI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sz),e);try{const i=new Iz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw tf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw tf(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw tf(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw P0(t,f,d);Yr(t,f)}}catch(i){if(i instanceof Is)throw i;Yr(t,"network-request-failed",{message:String(i)})}}async function Yd(t,e,n,r,i={}){const s=await As(t,e,n,r,i);return"mfaPendingCredential"in s&&Yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function SI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?k0(t.config,i):`${t.config.apiScheme}://${i}`;return Tz.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Pz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),Lz.get())})}}function tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(t,e,r);return i.customData._tokenResponse=n,i}function cE(t){return t!==void 0&&t.enterprise!==void 0}class kz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Az(t,e){return As(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function bp(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mz(t,e=!1){const n=tr(t),r=await n.getIdToken(e),i=A0(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gc(nv(i.auth_time)),issuedAtTime:Gc(nv(i.iat)),expirationTime:Gc(nv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nv(t){return Number(t)*1e3}function A0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=dI(n);return i?JSON.parse(i):(Pf("Failed to decode base64 JWT payload"),null)}catch(i){return Pf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dE(t){const e=A0(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&Nz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ed(t,bp(n,{idToken:r}));Re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TI(s.providerUserInfo):[],l=jz(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ky(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function Dz(t){const e=tr(t);await Ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TI(t){return t.map(e=>{var{providerId:n}=e,r=L0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(t,e){const n=await CI(t,{},async()=>{const r=Kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await SI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",EI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fz(t,e){return As(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Vz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ky(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ed(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mz(this,e)}reload(){return Dz(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Ed(this,Rz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,d,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(d=n.createdAt)!==null&&d!==void 0?d:void 0,C=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:N,isAnonymous:j,providerData:z,stsTokenManager:A}=n;Re(I&&A,e,"internal-error");const R=zl.fromJSON(this.name,A);Re(typeof I=="string",e,"internal-error"),Hs(m,e.name),Hs(y,e.name),Re(typeof N=="boolean",e,"internal-error"),Re(typeof j=="boolean",e,"internal-error"),Hs(_,e.name),Hs(x,e.name),Hs(b,e.name),Hs(T,e.name),Hs(E,e.name),Hs(C,e.name);const M=new hi({uid:I,auth:e,email:y,emailVerified:N,displayName:m,isAnonymous:j,photoURL:x,phoneNumber:_,tenantId:b,stsTokenManager:R,createdAt:E,lastLoginAt:C});return z&&Array.isArray(z)&&(M.providerData=z.map(D=>Object.assign({},D))),T&&(M._redirectEventId=T),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new zl;i.updateFromServerResponse(n);const s=new hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ep(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?TI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new zl;l.updateFromIdToken(r);const u=new hi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ky(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function fs(t){Ss(t instanceof Function,"Expected a class definition");let e=hE.get(t);return e?(Ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LI.type="NONE";const fE=LI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=If(this.userKey,i.apiKey,s),this.fullPersistenceKey=If("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bp(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bl(fs(fE),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||fs(fE);const o=If(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const y=await bp(e,{idToken:f}).catch(()=>{});if(!y)break;m=await hi._fromGetAccountInfoResponse(e,y,f)}else m=hi._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bl(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Bl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MI(e))return"Blackberry";if(NI(e))return"Webos";if(II(e))return"Safari";if((e.includes("chrome/")||kI(e))&&!e.includes("edge/"))return"Chrome";if(RI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PI(t=$n()){return/firefox\//i.test(t)}function II(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kI(t=$n()){return/crios\//i.test(t)}function AI(t=$n()){return/iemobile/i.test(t)}function RI(t=$n()){return/android/i.test(t)}function MI(t=$n()){return/blackberry/i.test(t)}function NI(t=$n()){return/webos/i.test(t)}function R0(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zz(t=$n()){var e;return R0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bz(){return eF()&&document.documentMode===10}function OI(t=$n()){return R0(t)||RI(t)||NI(t)||MI(t)||/windows phone/i.test(t)||AI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e=[]){let n;switch(t){case"Browser":n=pE($n());break;case"Worker":n=`${pE($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e={}){return As(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=6;class Wz{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new Uz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bp(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ep(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(ms(this));const n=e?tr(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $z(this),n=new Wz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rs(t){return tr(t)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lF(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qz(t){Nm=t}function jI(t){return Nm.loadJS(t)}function Zz(){return Nm.recaptchaEnterpriseScript}function Kz(){return Nm.gapiScript}function Qz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Yz{constructor(){this.enterprise=new Jz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Jz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xz="recaptcha-enterprise",VI="NO_RECAPTCHA";class eB{constructor(e){this.type=Xz,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Az(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new kz(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;cE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(VI)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yz().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&cE(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Zz();u.length!==0&&(u+=l),jI(u).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function gE(t,e,n,r=!1,i=!1){const s=new eB(t);let o;if(i)o=VI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Cp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await gE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){const n=T0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ta(s,e??{}))return i;Yr(i,"already-initialized")}return n.initialize({options:e})}function nB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rB(t,e,n){const r=Rs(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FI(e),{host:o,port:l}=iB(e),u=l===null?"":`:${l}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Ta(d,r.config.emulator)&&Ta(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,sB()}function FI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iB(t){const e=FI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:vE(o)}}}function vE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function oB(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aB(t,e){return Yd(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}async function lB(t,e){return As(t,"POST","/v1/accounts:sendOobCode",ks(t,e))}async function uB(t,e){return lB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function dB(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends M0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,n,"signInWithPassword",aB);case"emailLink":return cB(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,r,"signUpPassword",oB);case"emailLink":return dB(e,{idToken:n,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e){return Yd(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="http://localhost";class Pa extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Pa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:hB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pB(t){const e=Ic(kc(t)).link,n=e?Ic(kc(e)).deep_link_id:null,r=Ic(kc(t)).deep_link_id;return(r?Ic(kc(r)).link:null)||r||n||e||t}class N0{constructor(e){var n,r,i,s,o,l;const u=Ic(kc(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,m=fB((i=u.mode)!==null&&i!==void 0?i:null);Re(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=pB(e);try{return new N0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.providerId=Pu.PROVIDER_ID}static credential(e,n){return Cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N0.parseLink(n);return Re(r,"argument-error"),Cd._fromEmailAndCode(e,r.code,r.tenantId)}}Pu.PROVIDER_ID="password";Pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Jd{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return us.credential(n,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Jd{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Jd{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return Yd(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hi._fromIdTokenResponse(e,r,i),o=yE(r);return new Ia({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yE(r);return new Ia({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends Is{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sp(e,n,r,i)}}function zI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sp._fromErrorAndOperation(t,s,e,r):s})}async function gB(t,e,n=!1){const r=await Ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(ms(r));const i="reauthenticate";try{const s=await Ed(t,zI(r,i,e,t),n);Re(s.idToken,r,"internal-error");const o=A0(s.idToken);Re(o,r,"internal-error");const{sub:l}=o;return Re(t.uid===l,r,"user-mismatch"),Ia._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(t,e,n=!1){if(Cr(t.app))return Promise.reject(ms(t));const r="signIn",i=await zI(t,r,e),s=await Ia._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yB(t,e){return BI(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _B(t,e,n){const r=Rs(t);await Cp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",uB)}async function wB(t,e,n){if(Cr(t.app))return Promise.reject(ms(t));const r=Rs(t),o=await Cp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&UI(t),u}),l=await Ia._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function xB(t,e,n){return Cr(t.app)?Promise.reject(ms(t)):yB(tr(t),Pu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UI(t),r})}function bB(t,e,n,r){return tr(t).onIdTokenChanged(e,n,r)}function EB(t,e,n){return tr(t).beforeAuthStateChanged(e,n)}function $I(t,e,n,r){return tr(t).onAuthStateChanged(e,n,r)}function CB(t){return tr(t).signOut()}const Tp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tp,"1"),this.storage.removeItem(Tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=1e3,TB=10;class WI extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Bz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WI.type="LOCAL";const LB=WI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GI.type="SESSION";const qI=GI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await PB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=D0("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function kB(t){Fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function AB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MB(){return ZI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="firebaseLocalStorageDb",NB=1,Lp="firebaseLocalStorage",QI="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dm(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function OB(){const t=indexedDB.deleteDatabase(KI);return new Xd(t).toPromise()}function Ay(){const t=indexedDB.open(KI,NB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lp,{keyPath:QI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),await OB(),e(await Ay()))})})}async function _E(t,e,n){const r=Dm(t,!0).put({[QI]:e,value:n});return new Xd(r).toPromise()}async function DB(t,e){const n=Dm(t,!1).get(e),r=await new Xd(n).toPromise();return r===void 0?null:r.value}function wE(t,e){const n=Dm(t,!0).delete(e);return new Xd(n).toPromise()}const jB=800,VB=3;class YI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(MB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AB(),!this.activeServiceWorker)return;this.sender=new IB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await _E(e,Tp,"1"),await wE(e,Tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>DB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Dm(i,!1).getAll();return new Xd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YI.type="LOCAL";const FB=YI;new Qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){return e?fs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends M0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zB(t){return BI(t.auth,new j0(t),t.bypassAuthState)}function BB(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),vB(n,new j0(t),t.bypassAuthState)}async function UB(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),gB(n,new j0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zB;case"linkViaPopup":case"linkViaRedirect":return UB;case"reauthViaPopup":case"reauthViaRedirect":return BB;default:Yr(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=new Qd(2e3,1e4);async function HB(t,e,n){if(Cr(t.app))return Promise.reject(yi(t,"operation-not-supported-in-this-environment"));const r=Rs(t);xz(t,e,O0);const i=JI(r,n);return new ca(r,"signInViaPopup",e,i).executeNotNull()}class ca extends XI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$B.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="pendingRedirect",kf=new Map;class GB extends XI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const r=await qB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qB(t,e){const n=QB(e),r=KB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZB(t,e){kf.set(t._key(),e)}function KB(t){return fs(t._redirectPersistence)}function QB(t){return If(WB,t.config.apiKey,t.name)}async function YB(t,e,n=!1){if(Cr(t.app))return Promise.reject(ms(t));const r=Rs(t),i=JI(r,e),o=await new GB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=10*60*1e3;class XB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ek(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JB&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ek({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ek(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rU=/^https?/;async function iU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tU(t);for(const n of e)try{if(sU(n))return}catch{}Yr(t,"unauthorized-domain")}function sU(t){const e=Iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rU.test(n))return!1;if(nU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Qd(3e4,6e4);function bE(){const t=Fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aU(t){return new Promise((e,n)=>{var r,i,s;function o(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(yi(t,"network-request-failed"))},timeout:oU.get()})}if(!((i=(r=Fi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fi().gapi)===null||s===void 0)&&s.load)o();else{const l=Qz("iframefcb");return Fi()[l]=()=>{gapi.load?o():n(yi(t,"network-request-failed"))},jI(`${Kz()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Af=null,e})}let Af=null;function lU(t){return Af=Af||aU(t),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new Qd(5e3,15e3),cU="__/auth/iframe",dU="emulator/auth/iframe",hU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pU(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k0(e,dU):`https://${t.config.authDomain}/${cU}`,r={apiKey:e.apiKey,appName:t.name,v:Lu},i=fU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Kd(r).slice(1)}`}async function mU(t){const e=await lU(t),n=Fi().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:pU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=yi(t,"network-request-failed"),l=Fi().setTimeout(()=>{s(o)},uU.get());function u(){Fi().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vU=500,yU=600,_U="_blank",wU="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xU(t,e,n,r=vU,i=yU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},gU),{width:r.toString(),height:i.toString(),top:s,left:o}),d=$n().toLowerCase();n&&(l=kI(d)?_U:n),PI(d)&&(e=e||wU,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[_,x])=>`${y}${_}=${x},`,"");if(zz(d)&&l!=="_self")return bU(e||"",l),new EE(null);const m=window.open(e||"",l,f);Re(m,t,"popup-blocked");try{m.focus()}catch{}return new EE(m)}function bU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="__/auth/handler",CU="emulator/auth/handler",SU=encodeURIComponent("fac");async function CE(t,e,n,r,i,s){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lu,eventId:i};if(e instanceof O0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Jd){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${SU}=${encodeURIComponent(u)}`:"";return`${TU(t)}?${Kd(l).slice(1)}${d}`}function TU({config:t}){return t.emulator?k0(t,CU):`https://${t.authDomain}/${EU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="webStorageSupport";class LU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qI,this._completeRedirectFn=YB,this._overrideRedirectResult=ZB}async _openPopup(e,n,r,i){var s;Ss((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await CE(e,n,r,Iy(),i);return xU(e,o,D0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await CE(e,n,r,Iy(),i);return kB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ss(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mU(e),r=new XB(e);return n.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rv,{type:rv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rv];o!==void 0&&n(!!o),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OI()||II()||R0()}}const PU=LU;var SE="@firebase/auth",TE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AU(t){cu(new La("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DI(t)},d=new Gz(r,i,s,u);return nB(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cu(new La("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new IU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(SE,TE,kU(t)),So(SE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=5*60,MU=pI("authIdTokenMaxAge")||RU;let LE=null;const NU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MU)return;const i=n==null?void 0:n.token;LE!==i&&(LE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OU(t=yI()){const e=T0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tB(t,{popupRedirectResolver:PU,persistence:[FB,LB,qI]}),r=pI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=NU(s.toString());EB(n,o,()=>o(n.currentUser)),bB(n,l=>o(l))}}const i=hI("auth");return i&&rB(n,`http://${i}`),n}function DU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AU("Browser");var jU="firebase",VU="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(jU,VU,"app");const FU={apiKey:"AIzaSyDkAsPEUStfRrqdvRf6GUTGlmWYJ5QhmSM",authDomain:"ecocart-c8712.firebaseapp.com",projectId:"ecocart-c8712",storageBucket:"ecocart-c8712.firebasestorage.app",messagingSenderId:"168058150520",appId:"1:168058150520:web:88ad891342bb3bec24178d"},tk=vI(FU),_a=OU(tk),nk=v.createContext(void 0),zU=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!0);v.useEffect(()=>$I(_a,u=>{n(u),i(!1)}),[]);const s=async()=>{i(!0);const l=new us;await HB(_a,l),i(!1)},o=async()=>{i(!0),await CB(_a),i(!1)};return g.jsx(nk.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:o},children:t})},Wo=()=>{const t=v.useContext(nk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},xn=v.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:nt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xn.displayName="Card";const zn=v.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:nt("flex flex-col space-y-1.5 p-6",t),...e}));zn.displayName="CardHeader";const Bn=v.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:nt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Bn.displayName="CardTitle";const ja=v.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:nt("text-sm text-muted-foreground",t),...e}));ja.displayName="CardDescription";const bn=v.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:nt("p-6 pt-0",t),...e}));bn.displayName="CardContent";const zi=v.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:nt("flex items-center p-6 pt-0",t),...e}));zi.displayName="CardFooter";const BU=_m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?c2:"button";return g.jsx(o,{className:nt(BU({variant:e,size:n,className:t})),ref:s,...i})});$e.displayName="Button";const rk=v.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));rk.displayName="Input";var UU=v.createContext(void 0);function ik(t){const e=v.useContext(UU);return t||e||"ltr"}var iv="rovingFocusGroup.onEntryFocus",$U={bubbles:!1,cancelable:!0},jm="RovingFocusGroup",[Ry,sk,HU]=CP(jm),[WU,ok]=xu(jm,[HU]),[GU,qU]=WU(jm),ak=v.forwardRef((t,e)=>g.jsx(Ry.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Ry.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(ZU,{...t,ref:e})})}));ak.displayName=jm;var ZU=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,y=v.useRef(null),_=Qr(e,y),x=ik(s),[b=null,T]=mm({prop:o,defaultProp:l,onChange:u}),[E,C]=v.useState(!1),I=xi(d),N=sk(n),j=v.useRef(!1),[z,A]=v.useState(0);return v.useEffect(()=>{const R=y.current;if(R)return R.addEventListener(iv,I),()=>R.removeEventListener(iv,I)},[I]),g.jsx(GU,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:b,onItemFocus:v.useCallback(R=>T(R),[T]),onItemShiftTab:v.useCallback(()=>C(!0),[]),onFocusableItemAdd:v.useCallback(()=>A(R=>R+1),[]),onFocusableItemRemove:v.useCallback(()=>A(R=>R-1),[]),children:g.jsx(nn.div,{tabIndex:E||z===0?-1:0,"data-orientation":r,...m,ref:_,style:{outline:"none",...t.style},onMouseDown:gt(t.onMouseDown,()=>{j.current=!0}),onFocus:gt(t.onFocus,R=>{const M=!j.current;if(R.target===R.currentTarget&&M&&!E){const D=new CustomEvent(iv,$U);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=N().filter(ne=>ne.focusable),U=V.find(ne=>ne.active),B=V.find(ne=>ne.id===b),le=[U,B,...V].filter(Boolean).map(ne=>ne.ref.current);ck(le,f)}}j.current=!1}),onBlur:gt(t.onBlur,()=>C(!1))})})}),lk="RovingFocusGroupItem",uk=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,l=d0(),u=s||l,d=qU(lk,n),f=d.currentTabStopId===u,m=sk(n),{onFocusableItemAdd:y,onFocusableItemRemove:_}=d;return v.useEffect(()=>{if(r)return y(),()=>_()},[r,y,_]),g.jsx(Ry.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:g.jsx(nn.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:gt(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:gt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:gt(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=YU(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=m().filter(C=>C.focusable).map(C=>C.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const C=E.indexOf(x.currentTarget);E=d.loop?JU(E,C+1):E.slice(C+1)}setTimeout(()=>ck(E))}})})})});uk.displayName=lk;var KU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YU(t,e,n){const r=QU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KU[r]}function ck(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function JU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XU=ak,e3=uk,V0="Tabs",[t3,MW]=xu(V0,[ok]),dk=ok(),[n3,F0]=t3(V0),hk=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,f=ik(l),[m,y]=mm({prop:r,onChange:i,defaultProp:s});return g.jsx(n3,{scope:n,baseId:d0(),value:m,onValueChange:y,orientation:o,dir:f,activationMode:u,children:g.jsx(nn.div,{dir:f,"data-orientation":o,...d,ref:e})})});hk.displayName=V0;var fk="TabsList",pk=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=F0(fk,n),o=dk(n);return g.jsx(XU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(nn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});pk.displayName=fk;var mk="TabsTrigger",gk=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=F0(mk,n),l=dk(n),u=_k(o.baseId,r),d=wk(o.baseId,r),f=r===o.value;return g.jsx(e3,{asChild:!0,...l,focusable:!i,active:f,children:g.jsx(nn.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:gt(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:gt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:gt(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(r)})})})});gk.displayName=mk;var vk="TabsContent",yk=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=F0(vk,n),u=_k(l.baseId,r),d=wk(l.baseId,r),f=r===l.value,m=v.useRef(f);return v.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),g.jsx(pm,{present:i||f,children:({present:y})=>g.jsx(nn.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:y&&s})})});yk.displayName=vk;function _k(t,e){return`${t}-trigger-${e}`}function wk(t,e){return`${t}-content-${e}`}var r3=hk,xk=pk,bk=gk,Ek=yk;const z0=r3,Vm=v.forwardRef(({className:t,...e},n)=>g.jsx(xk,{ref:n,className:nt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Vm.displayName=xk.displayName;const fi=v.forwardRef(({className:t,...e},n)=>g.jsx(bk,{ref:n,className:nt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));fi.displayName=bk.displayName;const pi=v.forwardRef(({className:t,...e},n)=>g.jsx(Ek,{ref:n,className:nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));pi.displayName=Ek.displayName;const i3="modulepreload",s3=function(t){return"/TechnoCrat1/"+t},PE={},Ck=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=s3(u),u in PE)return;PE[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":i3,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((y,_)=>{m.addEventListener("load",y),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},o3=_m("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Sd=ce.forwardRef(({className:t,variant:e,...n},r)=>g.jsx("div",{ref:r,className:nt(o3({variant:e}),t),...n}));Sd.displayName="Badge";const Il=({type:t})=>{let e,n,r;switch(t){case"Recycled":e=g.jsx(uD,{className:"h-3 w-3 mr-1"}),n="bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800",r="Made from at least 50% recycled materials";break;case"Organic":e=g.jsx(Js,{className:"h-3 w-3 mr-1"}),n="bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800",r="Produced without synthetic fertilizers or pesticides";break;case"Fair Trade":e=g.jsx(eD,{className:"h-3 w-3 mr-1"}),n="bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800",r="Producers received fair compensation and working conditions";break;case"Carbon Neutral":e=g.jsx(iD,{className:"h-3 w-3 mr-1"}),n="bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800",r="Carbon emissions from production have been offset";break;default:e=g.jsx(fD,{className:"h-3 w-3 mr-1"}),n="bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",r="Eco-friendly product"}return g.jsx(B1,{children:g.jsxs(u4,{children:[g.jsx(c4,{asChild:!0,children:g.jsxs(Sd,{variant:"outline",className:`flex items-center text-xs px-2 py-1 ${n}`,children:[e,t]})}),g.jsx(U1,{children:g.jsx("p",{className:"text-sm",children:r})})]})})},Fm=({product:t,onSave:e,onShowAlternative:n})=>{const{user:r}=Wo(),i=Gi();if(!t||!t.name||!t.image)return null;try{return g.jsxs(xn,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[g.jsxs("div",{className:"relative h-60 bg-gray-100 dark:bg-gray-800 overflow-hidden",children:[g.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform hover:scale-105"}),g.jsx("div",{className:"absolute top-2 right-2",children:g.jsx($e,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full bg-white dark:bg-gray-800 shadow-sm hover:bg-white dark:hover:bg-gray-700",onClick:async()=>{if(!r){Sf({title:"Login required",description:"Please login to add items to your wishlist.",variant:"destructive"}),setTimeout(()=>i("/auth/login"),0);return}const{setUserWishlist:s,getUserWishlist:o}=await Ck(async()=>{const{setUserWishlist:d,getUserWishlist:f}=await Promise.resolve().then(()=>v$);return{setUserWishlist:d,getUserWishlist:f}},void 0),l=await o(r.uid);l.find(d=>d.id===t.id||d.name===t.name)?Sf({title:"Already in Wishlist",description:`${t.name} is already in your wishlist!`}):(await s(r.uid,[...l,t]),Sf({title:"Saved to Wishlist",description:`${t.name} added to your wishlist!`}))},children:g.jsx(sD,{className:"h-4 w-4"})})}),g.jsx("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1",children:g.jsxs("span",{className:t.ecoScore>=80?"bg-green-500 text-white px-2 py-1 rounded text-xs":t.ecoScore>=50?"bg-yellow-400 text-white px-2 py-1 rounded text-xs":"bg-red-500 text-white px-2 py-1 rounded text-xs",title:`Eco Score: ${t.ecoScore}/100`,children:["Eco Score: ",t.ecoScore]})})]}),g.jsxs(zn,{children:[g.jsx(Bn,{children:t.name}),g.jsx(ja,{children:t.brand||"Unknown Brand"})]}),g.jsxs("div",{className:"flex gap-2 flex-wrap px-4 pb-2",children:[t.materials&&t.materials.length>0?t.materials.map((s,o)=>g.jsx(Il,{type:s},"mat-"+o)):g.jsx("span",{className:"text-xs text-gray-400",children:"No materials"}),t.certifications&&t.certifications.length>0?t.certifications.map((s,o)=>g.jsx(Il,{type:s},"cert-"+o)):g.jsx("span",{className:"text-xs text-gray-400",children:"No certifications"}),t.badges&&t.badges.length>0?t.badges.map((s,o)=>g.jsx(Il,{type:s},"badge-"+o)):g.jsx("span",{className:"text-xs text-gray-400",children:"No badges"}),t.sustainabilityTags&&t.sustainabilityTags.length>0?t.sustainabilityTags.map((s,o)=>g.jsx(Il,{type:s},"tag-"+o)):g.jsx("span",{className:"text-xs text-gray-400",children:"No tags"})]}),g.jsx(bn,{className:"pb-3",children:g.jsxs("div",{className:"text-lg font-bold mb-2",children:["₹",typeof t.price=="number"?t.price:"N/A"]})}),g.jsx(zi,{className:"flex flex-col gap-2 items-start",children:g.jsxs("div",{className:"flex w-full justify-between items-center",children:[g.jsxs("span",{className:"text-lg font-bold",children:["₹",t.price]}),g.jsxs($e,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),children:[g.jsx(JP,{className:"h-4 w-4 mr-1"})," Greener Alternative"]})]})})]})}catch(s){return console.error("Error rendering ProductCard:",s,t),g.jsx("div",{style:{color:"red",padding:16,border:"1px solid red",margin:8},children:"Error rendering product card. Check console for details."})}},sv=({icon:t,title:e,description:n})=>g.jsxs(xn,{className:"text-center hover:shadow-md transition-shadow",children:[g.jsxs(zn,{children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:t})}),g.jsx(Bn,{children:e})]}),g.jsx(bn,{children:g.jsx("p",{className:"text-muted-foreground",children:n})})]}),Sk=v.forwardRef(({className:t,...e},n)=>g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",{ref:n,className:nt("w-full caption-bottom text-sm",t),...e})}));Sk.displayName="Table";const Tk=v.forwardRef(({className:t,...e},n)=>g.jsx("thead",{ref:n,className:nt("[&_tr]:border-b",t),...e}));Tk.displayName="TableHeader";const Lk=v.forwardRef(({className:t,...e},n)=>g.jsx("tbody",{ref:n,className:nt("[&_tr:last-child]:border-0",t),...e}));Lk.displayName="TableBody";const a3=v.forwardRef(({className:t,...e},n)=>g.jsx("tfoot",{ref:n,className:nt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));a3.displayName="TableFooter";const Rf=v.forwardRef(({className:t,...e},n)=>g.jsx("tr",{ref:n,className:nt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Rf.displayName="TableRow";const Mf=v.forwardRef(({className:t,...e},n)=>g.jsx("th",{ref:n,className:nt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Mf.displayName="TableHead";const ia=v.forwardRef(({className:t,...e},n)=>g.jsx("td",{ref:n,className:nt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ia.displayName="TableCell";const l3=v.forwardRef(({className:t,...e},n)=>g.jsx("caption",{ref:n,className:nt("mt-4 text-sm text-muted-foreground",t),...e}));l3.displayName="TableCaption";const u3=({originalProduct:t,alternatives:e})=>t?g.jsxs(xn,{children:[g.jsxs(zn,{className:"pb-2",children:[g.jsx(Bn,{children:"Product Comparison"}),g.jsxs("p",{className:"text-muted-foreground",children:["Compare ",t.name," with greener alternatives"]})]}),g.jsxs(bn,{children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded-md overflow-hidden",children:g.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium line-clamp-1",children:t.name}),g.jsx("p",{className:"text-muted-foreground text-sm",children:t.brand}),g.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[g.jsx("span",{className:"font-bold",children:t.price}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"mr-1 text-sm",children:"Eco-Score:"}),g.jsxs("span",{className:"font-bold",children:[t.ecoScore,"/10"]})]})]})]})]}),e.slice(0,2).map(n=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded-md overflow-hidden relative",children:[g.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-green-500/10 border-2 border-green-500 rounded-md"}),g.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full px-2 py-1 text-xs font-bold",children:"Recommended"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium line-clamp-1",children:n.name}),g.jsx("p",{className:"text-muted-foreground text-sm",children:n.brand}),g.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[g.jsx("span",{className:"font-bold",children:n.price}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"mr-1 text-sm",children:"Eco-Score:"}),g.jsxs("span",{className:"font-bold text-green-500",children:[n.ecoScore,"/10"]})]})]})]})]},n.id))]}),g.jsx("div",{className:"overflow-auto",children:g.jsxs(Sk,{children:[g.jsx(Tk,{children:g.jsxs(Rf,{children:[g.jsx(Mf,{className:"w-[200px]",children:"Features"}),g.jsx(Mf,{children:t.name}),e.slice(0,2).map(n=>g.jsx(Mf,{children:n.name},n.id))]})}),g.jsxs(Lk,{children:[g.jsxs(Rf,{children:[g.jsx(ia,{className:"font-medium",children:"Price"}),g.jsx(ia,{children:t.price}),e.slice(0,2).map(n=>g.jsx(ia,{children:n.price},`price-${n.id}`))]}),g.jsxs(Rf,{children:[g.jsx(ia,{className:"font-medium",children:"Materials"}),g.jsx(ia,{children:t.materials}),e.slice(0,2).map(n=>g.jsx(ia,{children:n.materials},`materials-${n.id}`))]})]})]})}),g.jsx("div",{className:"mt-6 flex justify-end",children:g.jsxs($e,{children:["View All Alternatives ",g.jsx(l0,{className:"ml-2 h-4 w-4"})]})})]})]}):null,ov=768;function c3(){const[t,e]=v.useState(void 0);return v.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ov-1}px)`),r=()=>{e(window.innerWidth<ov)};return n.addEventListener("change",r),e(window.innerWidth<ov),()=>n.removeEventListener("change",r)},[]),!!t}const sa=[{id:"1",name:"Organic Cotton T-Shirt",brand:"EcoWear",price:2499,ecoScore:90,image:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=500&q=80",materials:["100% organic cotton","water-based dyes"],certifications:["Fair Trade"]},{id:"2",name:"Reusable Glass Water Bottle",brand:"GreenHydro",price:2850,ecoScore:80,image:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=500&q=80",materials:["Sustainable glass","silicone grip"],certifications:["Carbon Neutral"]},{id:"3",name:"Bamboo Kitchen Utensil Set",brand:"NatureCook",price:3295,ecoScore:90,image:"https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=500&q=80",materials:["100% sustainable bamboo","natural oils"],certifications:["Sustainable"]},{id:"4",name:"Merino Wool Sweater",brand:"PureComfort",price:8900,ecoScore:70,image:"https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?w=500&q=80",materials:["100% Merino wool","free-range sheep"],certifications:["Ethical Wool"]},{id:"5",name:"Reusable Produce Bags Set",brand:"ZeroWaste",price:1699,ecoScore:80,image:"https://images.unsplash.com/photo-1610720685091-777eba31b47d?w=500&q=80",materials:["Organic cotton mesh"],certifications:["Zero Waste"]},{id:"6",name:"Biodegradable Phone Case",brand:"EcoTech",price:2750,ecoScore:90,image:"https://images.unsplash.com/photo-1609252924198-30b8cb324d2f?w=500&q=80",materials:["Biodegradable bioplastic","plant fibers"],certifications:["Plastic Free"]}],My=[{id:"7",name:"Hemp Blend T-Shirt",brand:"GreenThreads",price:29.99,ecoScore:10,image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500&q=80",materials:["55% hemp","45% organic cotton"],certifications:[]},{id:"8",name:"Stainless Steel Water Bottle",brand:"EverGreen",price:24.95,ecoScore:10,image:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=500&q=80",materials:["100% recycled stainless steel"],certifications:[]},{id:"9",name:"Reclaimed Wood Cutting Board",brand:"OliveEco",price:42,ecoScore:9,image:"https://images.unsplash.com/photo-1606760227091-3dd870d97f1d?w=500&q=80",materials:["Reclaimed olivewood"],certifications:[]}],d3={carbon_saved:"27.4 kg CO2",plastic_avoided:"2.3 kg",water_conserved:"1,240 liters",trees_planted:"5",sustainable_purchases:"14"};async function h3(){const t=await fetch("https://example.com/api/products");if(!t.ok)throw new Error("Failed to fetch eco products");return t.json()}const Pp=[{id:"1",name:"Organic Cotton T-Shirt",image:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f",price:799,materials:["organic cotton"],brand:"GreenWear",certifications:["GOTS","Fair Trade"],ecoScore:92},{id:"2",name:"Recycled Plastic Water Bottle",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb",price:299,materials:["recycled plastic"],brand:"EcoSip",certifications:["BPA-Free"],ecoScore:85},{id:"3",name:"Bamboo Toothbrush",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b",price:99,materials:["bamboo"],brand:"NatureSmile",certifications:["FSC Certified"],ecoScore:78},{id:"4",name:"Conventional Plastic Bag",image:"https://images.unsplash.com/photo-1503602642458-232111445657",price:10,materials:["plastic"],brand:"Generic",certifications:[],ecoScore:15},{id:"5",name:"Fair Trade Coffee Beans",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836",price:499,materials:["arabica beans"],brand:"Ethical Beans",certifications:["Fair Trade","Rainforest Alliance"],ecoScore:88}],Pk="ecocart_orders",Ik="ecocart_user_cart";function B0(){return JSON.parse(localStorage.getItem(Pk)||"[]")}function f3(){localStorage.removeItem(Pk)}function p3(){return JSON.parse(localStorage.getItem(Ik)||"[]")}function m3(t){localStorage.setItem(Ik,JSON.stringify(t))}const Iu=v.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Iu.displayName="Textarea";const U0=()=>{const[t,e]=v.useState([{role:"assistant",content:"Hi! I'm EcoGuide, your sustainable shopping assistant. Ask me anything about eco-friendly products, finding shops, your orders, or return policies!"}]),[n,r]=v.useState(""),[i,s]=v.useState(!1),[o,l]=v.useState(!1),u=v.useRef(null),{toast:d}=Wd(),f=B0();v.useEffect(()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})},[t]);function m(E){const C=E.toLowerCase();return C.includes("order status")||C.includes("where's my order")||C.includes("track order")?{type:"order_status"}:C.includes("return")||C.includes("refund")?{type:"return_policy"}:/\b(find|show|search|buy|get|list)\b/.test(C)&&/(eco|green|organic|bamboo|recycled|shoes|t-shirt|bottle|bag|coffee|toothbrush|product|item|shop|store)/.test(C)?{type:"product_search",payload:C}:{type:"general"}}function y(E){const C=Pp.filter(N=>E.includes(N.name.toLowerCase())||E.split(" ").some(j=>N.name.toLowerCase().includes(j)));if(C.length>0)return`Here are some products matching your search:
${C.map(N=>`• ${N.name} (₹${N.price})`).join(`
`)}`;const I=Pp.filter(N=>E.split(" ").some(j=>{var z;return(z=N.materials)==null?void 0:z.join(" ").toLowerCase().includes(j)}));return I.length>0?`Eco-friendly options:
${I.map(N=>`• ${N.name} (₹${N.price})`).join(`
`)}`:"Sorry, I couldn't find any products matching your search."}function _(){if(!f.length)return"I couldn't find any recent orders for you. Please make sure you're logged in.";const E=f[f.length-1];return`Your last order (${E.id}) for ₹${E.total} was placed on ${E.date}. Items: ${E.items.map(C=>C.product.name+" x"+C.quantity).join(", ")}.`}function x(){return"Our return policy: You can return any unused product within 30 days for a full refund. For more details or to start a return, visit your order history page."}const b=async()=>{if(!n.trim())return;const E={role:"user",content:n};e(C=>[...C,E]),r(""),l(!0);try{const C=m(n);let I="";C.type==="product_search"?I=y(n):C.type==="order_status"?I=_():C.type==="return_policy"?I=x():I=await Ck(()=>Promise.resolve().then(()=>_$),void 0).then(j=>j.askGemini(n));const N={role:"assistant",content:I};e(j=>[...j,N]),l(!1)}catch{d({title:"Couldn't get a response",description:"Please try again later.",variant:"destructive"}),l(!1)}},T=()=>{s(!i)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed bottom-5 right-5 z-50",children:!i&&g.jsx($e,{onClick:T,size:"lg",className:"rounded-full p-4 shadow-lg bg-green-500 hover:bg-green-600",children:g.jsx(Hg,{className:"h-6 w-6"})})}),i&&g.jsxs(xn,{className:"fixed bottom-5 right-5 w-80 md:w-96 shadow-xl z-50 border-green-200 dark:border-green-800",children:[g.jsxs(zn,{className:"bg-green-500 text-white py-3 flex flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Hg,{className:"h-5 w-5 mr-2 animate-bounce"}),g.jsx(Bn,{className:"text-base font-medium",children:"EcoGuide Assistant"})]}),g.jsx($e,{variant:"ghost",size:"icon","aria-label":"Close Chat",onClick:T,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,className:"h-5 w-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs(bn,{className:"h-80 overflow-y-auto space-y-4 bg-gradient-to-br from-green-50 to-blue-50 py-3 px-2 rounded",children:[t.map((E,C)=>g.jsx("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[80%] px-4 py-2 rounded-2xl shadow-md whitespace-pre-line text-base font-medium transition-all duration-200 border-2 ${E.role==="assistant"?"bg-green-100 text-green-900 border-green-300":"bg-white text-gray-900 border-gray-200"} flex items-start gap-2`,children:[E.role==="assistant"?g.jsx(Hg,{className:"w-5 h-5 mt-0.5 text-green-600 shrink-0"}):g.jsx(u0,{className:"w-5 h-5 mt-0.5 text-gray-400 shrink-0"}),g.jsx("span",{className:"leading-relaxed",children:E.role==="assistant"?g.jsxs("span",{children:[g.jsx("span",{className:"font-bold text-green-800",children:"EcoGuide:"}),g.jsx("br",{}),E.content]}):E.content})]})},C)),g.jsx("div",{ref:u})]}),g.jsxs(zi,{className:"flex gap-2 pt-2",children:[g.jsx(Iu,{value:n,onChange:E=>r(E.target.value),onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),b())},placeholder:"Ask about eco products, orders, shops...",className:"flex-1 resize-none bg-gray-100 text-gray-900 placeholder-gray-600 focus:bg-white focus:border-green-500 border-green-200 rounded shadow-sm font-medium",style:{color:"#222",background:"#f8f9fa",fontWeight:500},rows:2,disabled:o}),g.jsx($e,{onClick:b,disabled:!n.trim()||o,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow flex items-center gap-1",children:g.jsx(XP,{className:"w-4 h-4"})})]})]})]})};function g3(t){return Object.prototype.toString.call(t)==="[object Object]"}function IE(t){return g3(t)||Array.isArray(t)}function v3(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function $0(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const l=t[o],u=e[o];return typeof l=="function"?`${l}`==`${u}`:!IE(l)||!IE(u)?l===u:$0(l,u)})}function kE(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function y3(t,e){if(t.length!==e.length)return!1;const n=kE(t),r=kE(e);return n.every((i,s)=>{const o=r[s];return $0(i,o)})}function H0(t){return typeof t=="number"}function Ny(t){return typeof t=="string"}function zm(t){return typeof t=="boolean"}function AE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ot(t){return Math.abs(t)}function W0(t){return Math.sign(t)}function qc(t,e){return Ot(t-e)}function _3(t,e){if(t===0||e===0||Ot(t)<=Ot(e))return 0;const n=qc(Ot(t),Ot(e));return Ot(n/t)}function w3(t){return Math.round(t*100)/100}function Td(t){return Ld(t).map(Number)}function _i(t){return t[eh(t)]}function eh(t){return Math.max(0,t.length-1)}function G0(t,e){return e===eh(t)}function RE(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Ld(t){return Object.keys(t)}function kk(t,e){return[t,e].reduce((n,r)=>(Ld(r).forEach(i=>{const s=n[i],o=r[i],l=AE(s)&&AE(o);n[i]=l?kk(s,o):o}),n),{})}function Oy(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function x3(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(u){return s(u)/2}function s(u){return e-u}function o(u,d){return Ny(t)?n[t](u):t(e,u,d)}return{measure:o}}function Pd(){let t=[];function e(i,s,o,l={passive:!0}){let u;if("addEventListener"in i)i.addEventListener(s,o,l),u=()=>i.removeEventListener(s,o,l);else{const d=i;d.addListener(o),u=()=>d.removeListener(o)}return t.push(u),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function b3(t,e,n,r){const i=Pd(),s=1e3/60;let o=null,l=0,u=0;function d(){i.add(t,"visibilitychange",()=>{t.hidden&&x()})}function f(){_(),i.clear()}function m(T){if(!u)return;o||(o=T,n(),n());const E=T-o;for(o=T,l+=E;l>=s;)n(),l-=s;const C=l/s;r(C),u&&(u=e.requestAnimationFrame(m))}function y(){u||(u=e.requestAnimationFrame(m))}function _(){e.cancelAnimationFrame(u),o=null,l=0,u=0}function x(){o=null,l=0}return{init:d,destroy:f,start:y,stop:_,update:n,render:r}}function E3(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,l=f(),u=m();function d(x){const{height:b,width:T}=x;return r?b:T}function f(){return r?"top":n?"right":"left"}function m(){return r?"bottom":n?"left":"right"}function y(x){return x*o}return{scroll:i,cross:s,startEdge:l,endEdge:u,measureSize:d,direction:y}}function ka(t=0,e=0){const n=Ot(t-e);function r(d){return d<t}function i(d){return d>e}function s(d){return r(d)||i(d)}function o(d){return s(d)?r(d)?t:e:d}function l(d){return n?d-n*Math.ceil((d-e)/n):d}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:l}}function Ak(t,e,n){const{constrain:r}=ka(0,t),i=t+1;let s=o(e);function o(y){return n?Ot((i+y)%i):r(y)}function l(){return s}function u(y){return s=o(y),m}function d(y){return f().set(l()+y)}function f(){return Ak(t,l(),n)}const m={get:l,set:u,add:d,clone:f};return m}function C3(t,e,n,r,i,s,o,l,u,d,f,m,y,_,x,b,T,E,C){const{cross:I,direction:N}=t,j=["INPUT","SELECT","TEXTAREA"],z={passive:!1},A=Pd(),R=Pd(),M=ka(50,225).constrain(_.measure(20)),D={mouse:300,touch:400},V={mouse:500,touch:600},U=x?43:25;let B=!1,Q=0,le=0,ne=!1,he=!1,H=!1,K=!1;function Z(pe){if(!C)return;function Ie(Te){(zm(C)||C(pe,Te))&&me(Te)}const Ze=e;A.add(Ze,"dragstart",Te=>Te.preventDefault(),z).add(Ze,"touchmove",()=>{},z).add(Ze,"touchend",()=>{}).add(Ze,"touchstart",Ie).add(Ze,"mousedown",Ie).add(Ze,"touchcancel",_e).add(Ze,"contextmenu",_e).add(Ze,"click",De,!0)}function oe(){A.clear(),R.clear()}function re(){const pe=K?n:e;R.add(pe,"touchmove",fe,z).add(pe,"touchend",_e).add(pe,"mousemove",fe,z).add(pe,"mouseup",_e)}function ee(pe){const Ie=pe.nodeName||"";return j.includes(Ie)}function ue(){return(x?V:D)[K?"mouse":"touch"]}function W(pe,Ie){const Ze=m.add(W0(pe)*-1),Te=f.byDistance(pe,!x).distance;return x||Ot(pe)<M?Te:T&&Ie?Te*.5:f.byIndex(Ze.get(),0).distance}function me(pe){const Ie=Oy(pe,r);K=Ie,H=x&&Ie&&!pe.buttons&&B,B=qc(i.get(),o.get())>=2,!(Ie&&pe.button!==0)&&(ee(pe.target)||(ne=!0,s.pointerDown(pe),d.useFriction(0).useDuration(0),i.set(o),re(),Q=s.readPoint(pe),le=s.readPoint(pe,I),y.emit("pointerDown")))}function fe(pe){if(!Oy(pe,r)&&pe.touches.length>=2)return _e(pe);const Ze=s.readPoint(pe),Te=s.readPoint(pe,I),Ct=qc(Ze,Q),St=qc(Te,le);if(!he&&!K&&(!pe.cancelable||(he=Ct>St,!he)))return _e(pe);const It=s.pointerMove(pe);Ct>b&&(H=!0),d.useFriction(.3).useDuration(.75),l.start(),i.add(N(It)),pe.preventDefault()}function _e(pe){const Ze=f.byDistance(0,!1).index!==m.get(),Te=s.pointerUp(pe)*ue(),Ct=W(N(Te),Ze),St=_3(Te,Ct),It=U-10*St,_t=E+St/50;he=!1,ne=!1,R.clear(),d.useDuration(It).useFriction(_t),u.distance(Ct,!x),K=!1,y.emit("pointerUp")}function De(pe){H&&(pe.stopPropagation(),pe.preventDefault(),H=!1)}function ve(){return ne}return{init:Z,destroy:oe,pointerDown:ve}}function S3(t,e){let r,i;function s(m){return m.timeStamp}function o(m,y){const x=`client${(y||t.scroll)==="x"?"X":"Y"}`;return(Oy(m,e)?m:m.touches[0])[x]}function l(m){return r=m,i=m,o(m)}function u(m){const y=o(m)-o(i),_=s(m)-s(r)>170;return i=m,_&&(r=m),y}function d(m){if(!r||!i)return 0;const y=o(i)-o(r),_=s(m)-s(r),x=s(m)-s(i)>170,b=y/_;return _&&!x&&Ot(b)>.1?b:0}return{pointerDown:l,pointerMove:u,pointerUp:d,readPoint:o}}function T3(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function L3(t){function e(r){return t*(r/100)}return{measure:e}}function P3(t,e,n,r,i,s,o){const l=[t].concat(r);let u,d,f=[],m=!1;function y(T){return i.measureSize(o.measure(T))}function _(T){if(!s)return;d=y(t),f=r.map(y);function E(C){for(const I of C){if(m)return;const N=I.target===t,j=r.indexOf(I.target),z=N?d:f[j],A=y(N?t:r[j]);if(Ot(A-z)>=.5){T.reInit(),e.emit("resize");break}}}u=new ResizeObserver(C=>{(zm(s)||s(T,C))&&E(C)}),n.requestAnimationFrame(()=>{l.forEach(C=>u.observe(C))})}function x(){m=!0,u&&u.disconnect()}return{init:_,destroy:x}}function I3(t,e,n,r,i,s){let o=0,l=0,u=i,d=s,f=t.get(),m=0;function y(){const z=r.get()-t.get(),A=!u;let R=0;return A?(o=0,n.set(r),t.set(r),R=z):(n.set(t),o+=z/u,o*=d,f+=o,t.add(o),R=f-m),l=W0(R),m=f,j}function _(){const z=r.get()-e.get();return Ot(z)<.001}function x(){return u}function b(){return l}function T(){return o}function E(){return I(i)}function C(){return N(s)}function I(z){return u=z,j}function N(z){return d=z,j}const j={direction:b,duration:x,velocity:T,seek:y,settled:_,useBaseFriction:C,useBaseDuration:E,useFriction:N,useDuration:I};return j}function k3(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),l=ka(.1,.99);let u=!1;function d(){return!(u||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function f(_){if(!d())return;const x=t.reachedMin(e.get())?"min":"max",b=Ot(t[x]-e.get()),T=n.get()-e.get(),E=l.constrain(b/o);n.subtract(T*E),!_&&Ot(T)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function m(_){u=!_}return{shouldConstrain:d,constrain:f,toggleActive:m}}function A3(t,e,n,r,i){const s=ka(-e+t,0),o=m(),l=f(),u=y();function d(x,b){return qc(x,b)<=1}function f(){const x=o[0],b=_i(o),T=o.lastIndexOf(x),E=o.indexOf(b)+1;return ka(T,E)}function m(){return n.map((x,b)=>{const{min:T,max:E}=s,C=s.constrain(x),I=!b,N=G0(n,b);return I?E:N||d(T,C)?T:d(E,C)?E:C}).map(x=>parseFloat(x.toFixed(3)))}function y(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:x,max:b}=l;return o.slice(x,b)}return{snapsContained:u,scrollContainLimit:l}}function R3(t,e,n){const r=e[0],i=n?r-t:_i(e);return{limit:ka(i,r)}}function M3(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:u}=ka(s,o);function d(y){return y===1?u(n.get()):y===-1?l(n.get()):!1}function f(y){if(!d(y))return;const _=t*(y*-1);r.forEach(x=>x.add(_))}return{loop:f}}function N3(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function O3(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:l}=i,u=m().map(e.measure),d=y(),f=_();function m(){return l(r).map(b=>_i(b)[o]-b[0][s]).map(Ot)}function y(){return r.map(b=>n[s]-b[s]).map(b=>-Ot(b))}function _(){return l(d).map(b=>b[0]).map((b,T)=>b+u[T])}return{snaps:d,snapsAligned:f}}function D3(t,e,n,r,i,s){const{groupSlides:o}=i,{min:l,max:u}=r,d=f();function f(){const y=o(s),_=!t||e==="keepSnaps";return n.length===1?[s]:_?y:y.slice(l,u).map((x,b,T)=>{const E=!b,C=G0(T,b);if(E){const I=_i(T[0])+1;return RE(I)}if(C){const I=eh(s)-_i(T)[0]+1;return RE(I,_i(T)[0])}return x})}return{slideRegistry:d}}function j3(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:l}=r;function u(x){return x.concat().sort((b,T)=>Ot(b)-Ot(T))[0]}function d(x){const b=t?o(x):l(x),T=e.map((C,I)=>({diff:f(C-b,0),index:I})).sort((C,I)=>Ot(C.diff)-Ot(I.diff)),{index:E}=T[0];return{index:E,distance:b}}function f(x,b){const T=[x,x+n,x-n];if(!t)return x;if(!b)return u(T);const E=T.filter(C=>W0(C)===b);return E.length?u(E):_i(T)-n}function m(x,b){const T=e[x]-i.get(),E=f(T,b);return{index:x,distance:E}}function y(x,b){const T=i.get()+x,{index:E,distance:C}=d(T),I=!t&&s(T);if(!b||I)return{index:E,distance:x};const N=e[E]-C,j=x+f(N,0);return{index:E,distance:j}}return{byDistance:y,byIndex:m,shortcut:f}}function V3(t,e,n,r,i,s,o){function l(m){const y=m.distance,_=m.index!==e.get();s.add(y),y&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),_&&(n.set(e.get()),e.set(m.index),o.emit("select"))}function u(m,y){const _=i.byDistance(m,y);l(_)}function d(m,y){const _=e.clone().set(m),x=i.byIndex(_.get(),y);l(x)}return{distance:u,index:d}}function F3(t,e,n,r,i,s,o,l){const u={passive:!0,capture:!0};let d=0;function f(_){if(!l)return;function x(b){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const C=n.findIndex(I=>I.includes(b));H0(C)&&(i.useDuration(0),r.index(C,0),o.emit("slideFocus"))}s.add(document,"keydown",m,!1),e.forEach((b,T)=>{s.add(b,"focus",E=>{(zm(l)||l(_,E))&&x(T)},u)})}function m(_){_.code==="Tab"&&(d=new Date().getTime())}return{init:f}}function Ac(t){let e=t;function n(){return e}function r(u){e=o(u)}function i(u){e+=o(u)}function s(u){e-=o(u)}function o(u){return H0(u)?u:u.get()}return{get:n,set:r,add:i,subtract:s}}function Rk(t,e){const n=t.scroll==="x"?o:l,r=e.style;let i=null,s=!1;function o(y){return`translate3d(${y}px,0px,0px)`}function l(y){return`translate3d(0px,${y}px,0px)`}function u(y){if(s)return;const _=w3(t.direction(y));_!==i&&(r.transform=n(_),i=_)}function d(y){s=!y}function f(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:f,to:u,toggleActive:d}}function z3(t,e,n,r,i,s,o,l,u){const f=Td(i),m=Td(i).reverse(),y=E().concat(C());function _(A,R){return A.reduce((M,D)=>M-i[D],R)}function x(A,R){return A.reduce((M,D)=>_(M,R)>0?M.concat([D]):M,[])}function b(A){return s.map((R,M)=>({start:R-r[M]+.5+A,end:R+e-.5+A}))}function T(A,R,M){const D=b(R);return A.map(V=>{const U=M?0:-n,B=M?n:0,Q=M?"end":"start",le=D[V][Q];return{index:V,loopPoint:le,slideLocation:Ac(-1),translate:Rk(t,u[V]),target:()=>l.get()>le?U:B}})}function E(){const A=o[0],R=x(m,A);return T(R,n,!1)}function C(){const A=e-o[0]-1,R=x(f,A);return T(R,-n,!0)}function I(){return y.every(({index:A})=>{const R=f.filter(M=>M!==A);return _(R,e)<=.1})}function N(){y.forEach(A=>{const{target:R,translate:M,slideLocation:D}=A,V=R();V!==D.get()&&(M.to(V),D.set(V))})}function j(){y.forEach(A=>A.translate.clear())}return{canLoop:I,clear:j,loop:N,loopPoints:y}}function B3(t,e,n){let r,i=!1;function s(u){if(!n)return;function d(f){for(const m of f)if(m.type==="childList"){u.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(f=>{i||(zm(n)||n(u,f))&&d(f)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function U3(t,e,n,r){const i={};let s=null,o=null,l,u=!1;function d(){l=new IntersectionObserver(x=>{u||(x.forEach(b=>{const T=e.indexOf(b.target);i[T]=b}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(x=>l.observe(x))}function f(){l&&l.disconnect(),u=!0}function m(x){return Ld(i).reduce((b,T)=>{const E=parseInt(T),{isIntersecting:C}=i[E];return(x&&C||!x&&!C)&&b.push(E),b},[])}function y(x=!0){if(x&&s)return s;if(!x&&o)return o;const b=m(x);return x&&(s=b),x||(o=b),b}return{init:d,destroy:f,get:y}}function $3(t,e,n,r,i,s){const{measureSize:o,startEdge:l,endEdge:u}=t,d=n[0]&&i,f=x(),m=b(),y=n.map(o),_=T();function x(){if(!d)return 0;const C=n[0];return Ot(e[l]-C[l])}function b(){if(!d)return 0;const C=s.getComputedStyle(_i(r));return parseFloat(C.getPropertyValue(`margin-${u}`))}function T(){return n.map((C,I,N)=>{const j=!I,z=G0(N,I);return j?y[I]+f:z?y[I]+m:N[I+1][l]-C[l]}).map(Ot)}return{slideSizes:y,slideSizesWithGaps:_,startGap:f,endGap:m}}function H3(t,e,n,r,i,s,o,l,u){const{startEdge:d,endEdge:f,direction:m}=t,y=H0(n);function _(E,C){return Td(E).filter(I=>I%C===0).map(I=>E.slice(I,I+C))}function x(E){return E.length?Td(E).reduce((C,I,N)=>{const j=_i(C)||0,z=j===0,A=I===eh(E),R=i[d]-s[j][d],M=i[d]-s[I][f],D=!r&&z?m(o):0,V=!r&&A?m(l):0,U=Ot(M-V-(R+D));return N&&U>e+u&&C.push(I),A&&C.push(E.length),C},[]).map((C,I,N)=>{const j=Math.max(N[I-1]||0);return E.slice(j,C)}):[]}function b(E){return y?_(E,n):x(E)}return{groupSlides:b}}function W3(t,e,n,r,i,s,o){const{align:l,axis:u,direction:d,startIndex:f,loop:m,duration:y,dragFree:_,dragThreshold:x,inViewThreshold:b,slidesToScroll:T,skipSnaps:E,containScroll:C,watchResize:I,watchSlides:N,watchDrag:j,watchFocus:z}=s,A=2,R=T3(),M=R.measure(e),D=n.map(R.measure),V=E3(u,d),U=V.measureSize(M),B=L3(U),Q=x3(l,U),le=!m&&!!C,ne=m||!!C,{slideSizes:he,slideSizesWithGaps:H,startGap:K,endGap:Z}=$3(V,M,D,n,ne,i),oe=H3(V,U,T,m,M,D,K,Z,A),{snaps:re,snapsAligned:ee}=O3(V,Q,M,D,oe),ue=-_i(re)+_i(H),{snapsContained:W,scrollContainLimit:me}=A3(U,ue,ee,C,A),fe=le?W:ee,{limit:_e}=R3(ue,fe,m),De=Ak(eh(fe),f,m),ve=De.clone(),ye=Td(n),pe=({dragHandler:Kt,scrollBody:Wn,scrollBounds:vn,options:{loop:rn}})=>{rn||vn.constrain(Kt.pointerDown()),Wn.seek()},Ie=({scrollBody:Kt,translate:Wn,location:vn,offsetLocation:rn,previousLocation:dn,scrollLooper:Tn,slideLooper:Gn,dragHandler:Ln,animation:Rr,eventHandler:qn,scrollBounds:vr,options:{loop:Pn}},In)=>{const Ft=Kt.settled(),kn=!vr.shouldConstrain(),Se=Pn?Ft:Ft&&kn,ze=Se&&!Ln.pointerDown();ze&&Rr.stop();const Je=vn.get()*In+dn.get()*(1-In);rn.set(Je),Pn&&(Tn.loop(Kt.direction()),Gn.loop()),Wn.to(rn.get()),ze&&qn.emit("settle"),Se||qn.emit("scroll")},Ze=b3(r,i,()=>pe(Hn),Kt=>Ie(Hn,Kt)),Te=.68,Ct=fe[De.get()],St=Ac(Ct),It=Ac(Ct),_t=Ac(Ct),Zt=Ac(Ct),kt=I3(St,_t,It,Zt,y,Te),ir=j3(m,fe,ue,_e,Zt),At=V3(Ze,De,ve,kt,ir,Zt,o),gr=N3(_e),Ar=Pd(),We=U3(e,n,o,b),{slideRegistry:st}=D3(le,C,fe,me,oe,ye),sr=F3(t,n,st,At,kt,Ar,o,z),Hn={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:M,slideRects:D,animation:Ze,axis:V,dragHandler:C3(V,t,r,i,Zt,S3(V,i),St,Ze,At,kt,ir,De,o,B,_,x,E,Te,j),eventStore:Ar,percentOfView:B,index:De,indexPrevious:ve,limit:_e,location:St,offsetLocation:_t,previousLocation:It,options:s,resizeHandler:P3(e,o,i,n,V,I,R),scrollBody:kt,scrollBounds:k3(_e,_t,Zt,kt,B),scrollLooper:M3(ue,_e,_t,[St,_t,It,Zt]),scrollProgress:gr,scrollSnapList:fe.map(gr.get),scrollSnaps:fe,scrollTarget:ir,scrollTo:At,slideLooper:z3(V,U,ue,he,H,re,fe,_t,n),slideFocus:sr,slidesHandler:B3(e,o,N),slidesInView:We,slideIndexes:ye,slideRegistry:st,slidesToScroll:oe,target:Zt,translate:Rk(V,e)};return Hn}function G3(){let t={},e;function n(d){e=d}function r(d){return t[d]||[]}function i(d){return r(d).forEach(f=>f(e,d)),u}function s(d,f){return t[d]=r(d).concat([f]),u}function o(d,f){return t[d]=r(d).filter(m=>m!==f),u}function l(){t={}}const u={init:n,emit:i,off:o,on:s,clear:l};return u}const q3={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Z3(t){function e(s,o){return kk(s,o||{})}function n(s){const o=s.breakpoints||{},l=Ld(o).filter(u=>t.matchMedia(u).matches).map(u=>o[u]).reduce((u,d)=>e(u,d),{});return e(s,l)}function r(s){return s.map(o=>Ld(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function K3(t){let e=[];function n(s,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(s,t)),o.reduce((l,u)=>Object.assign(l,{[u.name]:u}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function Ip(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=Z3(i),o=K3(s),l=Pd(),u=G3(),{mergeOptions:d,optionsAtMedia:f,optionsMediaQueries:m}=s,{on:y,off:_,emit:x}=u,b=V;let T=!1,E,C=d(q3,Ip.globalOptions),I=d(C),N=[],j,z,A;function R(){const{container:ye,slides:pe}=I;z=(Ny(ye)?t.querySelector(ye):ye)||t.children[0];const Ze=Ny(pe)?z.querySelectorAll(pe):pe;A=[].slice.call(Ze||z.children)}function M(ye){const pe=W3(t,z,A,r,i,ye,u);if(ye.loop&&!pe.slideLooper.canLoop()){const Ie=Object.assign({},ye,{loop:!1});return M(Ie)}return pe}function D(ye,pe){T||(C=d(C,ye),I=f(C),N=pe||N,R(),E=M(I),m([C,...N.map(({options:Ie})=>Ie)]).forEach(Ie=>l.add(Ie,"change",V)),I.active&&(E.translate.to(E.location.get()),E.animation.init(),E.slidesInView.init(),E.slideFocus.init(ve),E.eventHandler.init(ve),E.resizeHandler.init(ve),E.slidesHandler.init(ve),E.options.loop&&E.slideLooper.loop(),z.offsetParent&&A.length&&E.dragHandler.init(ve),j=o.init(ve,N)))}function V(ye,pe){const Ie=oe();U(),D(d({startIndex:Ie},ye),pe),u.emit("reInit")}function U(){E.dragHandler.destroy(),E.eventStore.clear(),E.translate.clear(),E.slideLooper.clear(),E.resizeHandler.destroy(),E.slidesHandler.destroy(),E.slidesInView.destroy(),E.animation.destroy(),o.destroy(),l.clear()}function B(){T||(T=!0,l.clear(),U(),u.emit("destroy"),u.clear())}function Q(ye,pe,Ie){!I.active||T||(E.scrollBody.useBaseFriction().useDuration(pe===!0?0:I.duration),E.scrollTo.index(ye,Ie||0))}function le(ye){const pe=E.index.add(1).get();Q(pe,ye,-1)}function ne(ye){const pe=E.index.add(-1).get();Q(pe,ye,1)}function he(){return E.index.add(1).get()!==oe()}function H(){return E.index.add(-1).get()!==oe()}function K(){return E.scrollSnapList}function Z(){return E.scrollProgress.get(E.offsetLocation.get())}function oe(){return E.index.get()}function re(){return E.indexPrevious.get()}function ee(){return E.slidesInView.get()}function ue(){return E.slidesInView.get(!1)}function W(){return j}function me(){return E}function fe(){return t}function _e(){return z}function De(){return A}const ve={canScrollNext:he,canScrollPrev:H,containerNode:_e,internalEngine:me,destroy:B,off:_,on:y,emit:x,plugins:W,previousScrollSnap:re,reInit:b,rootNode:fe,scrollNext:le,scrollPrev:ne,scrollProgress:Z,scrollSnapList:K,scrollTo:Q,selectedScrollSnap:oe,slideNodes:De,slidesInView:ee,slidesNotInView:ue};return D(e,n),setTimeout(()=>u.emit("init"),0),ve}Ip.globalOptions=void 0;function q0(t={},e=[]){const n=v.useRef(t),r=v.useRef(e),[i,s]=v.useState(),[o,l]=v.useState(),u=v.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return v.useEffect(()=>{$0(n.current,t)||(n.current=t,u())},[t,u]),v.useEffect(()=>{y3(r.current,e)||(r.current=e,u())},[e,u]),v.useEffect(()=>{if(v3()&&o){Ip.globalOptions=q0.globalOptions;const d=Ip(o,n.current,r.current);return s(d),()=>d.destroy()}else s(void 0)},[o,s]),[l,i]}q0.globalOptions=void 0;const Mk=v.createContext(null);function Bm(){const t=v.useContext(Mk);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Nk=v.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},l)=>{const[u,d]=q0({...e,axis:t==="horizontal"?"x":"y"},r),[f,m]=v.useState(!1),[y,_]=v.useState(!1),x=v.useCallback(C=>{C&&(m(C.canScrollPrev()),_(C.canScrollNext()))},[]),b=v.useCallback(()=>{d==null||d.scrollPrev()},[d]),T=v.useCallback(()=>{d==null||d.scrollNext()},[d]),E=v.useCallback(C=>{C.key==="ArrowLeft"?(C.preventDefault(),b()):C.key==="ArrowRight"&&(C.preventDefault(),T())},[b,T]);return v.useEffect(()=>{!d||!n||n(d)},[d,n]),v.useEffect(()=>{if(d)return x(d),d.on("reInit",x),d.on("select",x),()=>{d==null||d.off("select",x)}},[d,x]),g.jsx(Mk.Provider,{value:{carouselRef:u,api:d,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:b,scrollNext:T,canScrollPrev:f,canScrollNext:y},children:g.jsx("div",{ref:l,onKeyDownCapture:E,className:nt("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});Nk.displayName="Carousel";const Ok=v.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=Bm();return g.jsx("div",{ref:r,className:"overflow-hidden",children:g.jsx("div",{ref:n,className:nt("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Ok.displayName="CarouselContent";const Dk=v.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Bm();return g.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:nt("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Dk.displayName="CarouselItem";const jk=v.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:l}=Bm();return g.jsxs($e,{ref:i,variant:e,size:n,className:nt("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[g.jsx(a0,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Previous slide"})]})});jk.displayName="CarouselPrevious";const Vk=v.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:l}=Bm();return g.jsxs($e,{ref:i,variant:e,size:n,className:nt("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[g.jsx(l0,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Next slide"})]})});Vk.displayName="CarouselNext";const Dy=({userPreferences:t=["sustainable","organic"],previousPurchases:e=[],products:n,title:r="AI-Powered Recommendations",description:i="Based on your preferences and shopping history"})=>{const s=()=>!Array.isArray(n)||n.length===0?[]:n.map((u,d)=>({...u,id:u.id||u.name||`product-${d}`})).filter(u=>u&&u.id&&u.name&&u.image&&typeof u.price=="number").sort(()=>Math.random()-.5),o=ce.useMemo(()=>s(),[n,t,e]),l=()=>{};return g.jsxs(xn,{className:"shadow-md",children:[g.jsxs(zn,{className:"border-b pb-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(wm,{className:"h-5 w-5 text-green-500 mr-2"}),g.jsx(Bn,{className:"text-xl",children:r})]}),g.jsxs(Sd,{variant:"outline",className:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:[g.jsx(e1,{className:"h-3 w-3 mr-1"}),"AI-Powered"]})]}),g.jsx("p",{className:"text-muted-foreground text-sm",children:i}),t&&t.length>0&&g.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Based on preferences: "}),t.map((u,d)=>g.jsx(Sd,{variant:"secondary",className:"text-xs",children:u},d))]})]}),g.jsx(bn,{className:"pt-4",children:g.jsxs(Nk,{className:"w-full",children:[g.jsx(Ok,{children:o.length>0?o.map(u=>g.jsx(Dk,{className:"md:basis-1/2 lg:basis-1/3",children:g.jsx("div",{className:"p-1",children:u&&u.name&&u.image?g.jsx(Fm,{product:u,onSave:l}):g.jsxs("div",{className:"p-2 bg-yellow-100 text-xs text-gray-800 rounded border border-yellow-300",children:[g.jsx("pre",{children:JSON.stringify(u,null,2)}),g.jsx("div",{className:"text-red-500",children:"Missing required fields for ProductCard"})]})})},u.id)):g.jsx("div",{className:"text-center text-gray-500 py-8 w-full",children:"No recommendations available. Try searching for products or updating your preferences."})}),g.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[g.jsx(jk,{className:"static transform-none mx-0"}),g.jsx(Vk,{className:"static transform-none mx-0"})]})]})})]})};function Fk(){const[t,e]=ce.useState(null),[n,r]=ce.useState(!0);return ce.useEffect(()=>{const i=$I(_a,s=>{e(s),r(!1)});return()=>i()},[]),{user:t,loading:n}}function zk(){const[t,e]=v.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("darkMode");return r?r==="true":!1}return!1});return[t,()=>{e(r=>(localStorage.setItem("darkMode",String(!r)),document.documentElement.classList.toggle("dark",!r),!r))}]}const Q3=()=>{const[t,e]=v.useState(""),[n,r]=v.useState([]),[i,s]=v.useState([]);v.useEffect(()=>{h3().then(_=>{let x=[];Array.isArray(_)&&_.length>0?x=_.map((b,T)=>({id:b.id||b.name||`product-${T}`,name:typeof b.title=="string"&&b.title.trim()&&b.title.toLowerCase().indexOf("untitled product")===-1?b.title:typeof b.name=="string"&&b.name.trim()&&b.name.toLowerCase().indexOf("untitled product")===-1?b.name:`Eco Product ${T+1}`,image:typeof b.image=="string"&&b.image.trim()!==""?b.image:"https://via.placeholder.com/300x300?text=No+Image",price:typeof b.price=="number"?b.price:Number(b.price)||0,materials:Array.isArray(b.materials)?b.materials:[],brand:b.brand||"",certifications:Array.isArray(b.certifications)?b.certifications:[],ecoScore:typeof b.ecoScore=="number"?b.ecoScore:0,badges:Array.isArray(b.badges)?b.badges:[],sustainabilityTags:Array.isArray(b.sustainabilityTags)?b.sustainabilityTags:[]})):x=sa,r(x),s(x)}).catch(_=>{console.error("Failed to fetch live products, falling back to sampleProducts",_),r(sa),s(sa)})},[]);const[o,l]=v.useState(My),[u,d]=v.useState("search");zk();const{toast:f}=Wd();c3(),Fk();const m=_=>{if(_.preventDefault(),!t.trim()){f({title:"Empty Search",description:"Please enter a product to search for.",variant:"destructive"});return}f({title:"Searching Products",description:`Finding sustainable options for "${t}"...`});const x=n.filter(b=>b.name.toLowerCase().includes(t.toLowerCase())||b.brand.toLowerCase().includes(t.toLowerCase()));s(x),l(My),x.length===0&&f({title:"No exact matches found",description:"No products found for your search."})},y=_=>{f({title:"Product Saved",description:`${_.name} has been added to your favorites.`})};return g.jsxs("div",{className:"min-h-screen transition-colors bg-background relative",children:[g.jsx("section",{className:"relative overflow-hidden bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900 dark:to-blue-900 pt-20 pb-12 px-4 md:pt-24 md:pb-20",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsxs("div",{className:"flex items-center justify-center mb-4",children:[g.jsx(Js,{className:"h-10 w-10 text-green-500 mr-2 animate-pulse"}),g.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight",children:["Eco",g.jsx("span",{className:"text-green-500",children:"Cart"})]})]}),g.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mt-4 max-w-2xl mx-auto",children:"Shop sustainably. Discover eco-friendly products and make ethical purchasing decisions."}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx($e,{asChild:!0,className:"bg-green-500 hover:bg-green-600",children:g.jsxs(co,{to:"/ai-features",className:"flex items-center",children:[g.jsx(wm,{className:"mr-2 h-4 w-4"})," Explore AI Features"]})})})]}),g.jsx("form",{onSubmit:m,className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"flex w-full items-center space-x-2 mb-12",children:[g.jsx(rk,{type:"text",placeholder:"Search for sustainable products...",value:t,onChange:_=>e(_.target.value),className:"h-12 text-lg"}),g.jsxs($e,{type:"submit",className:"h-12",children:[g.jsx(cD,{className:"mr-2 h-5 w-5"})," Search"]})]})})]})}),g.jsxs("section",{className:"w-full bg-gradient-to-r from-green-600 to-green-400 text-white py-16 px-4 rounded-2xl shadow-lg mb-8 flex flex-col items-center justify-center",children:[g.jsxs("div",{className:"flex flex-col items-center mb-4",children:[g.jsx(Js,{size:56,className:"mb-2 text-white drop-shadow-lg"}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-2",children:"EcoCart"}),g.jsx("p",{className:"text-lg md:text-xl font-medium mb-4",children:"Shop Greener. Live Better."})]}),g.jsx(co,{to:"/shop-locator",className:"mt-2 inline-block bg-white text-green-700 font-bold px-8 py-3 rounded-full shadow hover:bg-green-100 transition-all text-lg",children:"Find Eco Shops Near You"})]}),g.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:g.jsxs(z0,{defaultValue:"search",value:u,onValueChange:d,children:[g.jsxs(Vm,{className:"mb-6 w-full justify-start",children:[g.jsx(fi,{value:"search",children:"Search Results"}),g.jsx(fi,{value:"alternatives",children:"Greener Alternatives"}),g.jsx(fi,{value:"impact",children:"My Eco-Impact"}),g.jsx(fi,{value:"learn",children:"Learn"})]}),g.jsxs(pi,{value:"search",className:"space-y-8",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-2xl font-bold",children:"Sustainable Products"}),g.jsx($e,{variant:"outline",asChild:!0,children:g.jsxs(co,{to:"/ai-features",className:"flex items-center",children:[g.jsx(dp,{className:"mr-2 h-4 w-4"})," AI Tools"]})})]}),g.jsx(Dy,{products:i&&i.length>0?i:sa}),i.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(_=>_.name&&_.name.trim()&&_.name.toLowerCase().indexOf("untitled product")===-1&&_.image&&_.image!=="https://via.placeholder.com/300x300?text=No+Image"&&typeof _.price=="number"&&_.price>0).map((_,x)=>{const b=_.id||_.name||`product-${x}`;return g.jsx(Fm,{product:_,onSave:()=>y(_)},b)})}):g.jsx(xn,{children:g.jsx(bn,{className:"pt-6",children:g.jsx("p",{className:"text-center text-lg",children:"No products found. Try another search term."})})})]}),g.jsxs(pi,{value:"alternatives",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Greener Alternatives"}),g.jsx(u3,{originalProduct:i[0],alternatives:o})]}),g.jsxs(pi,{value:"impact",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Eco-Impact"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs(xn,{children:[g.jsx(zn,{children:g.jsxs(Bn,{className:"flex items-center",children:[g.jsx(e1,{className:"mr-2 text-green-500"})," Your Environmental Impact"]})}),g.jsx(bn,{children:g.jsx("div",{className:"space-y-4",children:Object.entries(d3).map(([_,x])=>g.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[g.jsx("span",{className:"font-medium capitalize",children:_.replace("_"," ")}),g.jsx("span",{className:"text-green-500 font-bold",children:x})]},_))})}),g.jsx(zi,{children:g.jsx("p",{className:"text-sm text-muted-foreground",children:"You're in the top 15% of eco-conscious shoppers!"})})]}),g.jsxs(xn,{children:[g.jsx(zn,{children:g.jsxs(Bn,{className:"flex items-center",children:[g.jsx(u0,{className:"mr-2 text-green-500"})," Saved Products"]})}),g.jsx(bn,{children:g.jsx("div",{className:"space-y-4",children:sa.slice(0,3).map((_,x)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-md mr-3 flex-shrink-0 overflow-hidden",children:g.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:_.name}),g.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[g.jsx(mD,{className:"h-3 w-3 mr-1 text-green-500"}),_.ecoScore,"/10"]})]})]}),g.jsx($e,{variant:"outline",size:"sm",children:"View"})]},_.id?String(_.id):`${_.name}-${x}`))})}),g.jsx(zi,{children:g.jsx($e,{variant:"outline",className:"w-full",children:"View All Saved Products"})})]})]})]}),g.jsxs(pi,{value:"learn",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Learn About Sustainable Shopping"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:["Fast Fashion vs Sustainable Brands","Understanding Eco Labels","Reducing Your Carbon Footprint"].map((_,x)=>g.jsxs(xn,{className:"hover:shadow-md transition-all",children:[g.jsxs(zn,{children:[g.jsx("div",{className:"h-40 bg-gray-100 dark:bg-gray-800 rounded-md mb-4 flex items-center justify-center",children:g.jsx(tD,{className:"h-12 w-12 text-muted-foreground"})}),g.jsx(Bn,{children:_})]}),g.jsx(bn,{children:g.jsx("p",{className:"text-muted-foreground",children:"Learn how making small changes to your shopping habits can have a significant positive impact on the environment."})}),g.jsx(zi,{children:g.jsx($e,{variant:"outline",className:"w-full",children:"Read More"})})]},_+"-"+x))}),g.jsxs("div",{className:"mt-10",children:[g.jsx("h3",{className:"text-xl font-bold mb-4",children:"Common Eco-Friendly Certifications"}),g.jsx("div",{className:"flex flex-wrap gap-3",children:["Fair Trade Certified","USDA Organic","Energy Star","Forest Stewardship Council","Rainforest Alliance","GOTS Certified"].map((_,x)=>g.jsxs("div",{className:"flex items-center bg-green-50 dark:bg-green-900/30 px-3 py-2 rounded-full",children:[g.jsx(Js,{className:"h-4 w-4 mr-2 text-green-500"}),g.jsx("span",{className:"text-sm",children:_})]},_+"-"+x))})]})]})]})}),g.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 py-12 px-4 mt-12",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"How EcoCart Helps You Shop Sustainably"}),g.jsx("p",{className:"text-center text-muted-foreground mb-8",children:"Using AI and data-driven insights to power your sustainable shopping journey"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsx(sv,{icon:g.jsx(Js,{className:"h-8 w-8 text-green-500"}),title:"Eco-Friendly Ratings",description:"Each product is rated based on materials, brand ethics, and supply chain transparency."}),g.jsx(sv,{icon:g.jsx(l0,{className:"h-8 w-8 text-green-500"}),title:"Find Alternatives",description:"Discover greener alternatives to your favorite products with detailed comparisons."}),g.jsx(sv,{icon:g.jsx(dp,{className:"h-8 w-8 text-green-500"}),title:"AI-Powered Tools",description:"Use our machine learning tools to detect greenwashing and calculate carbon footprints."})]})]})}),g.jsx("footer",{className:"bg-gray-100 dark:bg-gray-900 py-8 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[g.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[g.jsx(Js,{className:"h-6 w-6 text-green-500 mr-2"}),g.jsx("span",{className:"text-lg font-bold",children:"EcoCart"})]}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsx($e,{variant:"ghost",asChild:!0,children:g.jsx(co,{to:"/ai-features",children:"AI Features"})}),g.jsx($e,{variant:"ghost",children:"About"}),g.jsx($e,{variant:"ghost",children:"Blog"}),g.jsx($e,{variant:"ghost",children:"Contact"})]})]}),g.jsxs("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:[g.jsx("p",{children:" 2023 EcoCart. All rights reserved."}),g.jsx("p",{className:"mt-2",children:"Helping you make sustainable shopping choices."})]})]})}),g.jsx(U0,{})]})},Y3=()=>g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900 dark:to-blue-900 p-4",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-7xl font-bold text-green-500 mb-4",children:"404"}),g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page Not Found"}),g.jsx("p",{className:"text-muted-foreground mb-8",children:"Oops! The sustainable product you're looking for doesn't exist."}),g.jsx($e,{asChild:!0,className:"mr-4",children:g.jsxs(co,{to:"/",children:[g.jsx(oD,{className:"mr-2 h-4 w-4"})," Go Home"]})}),g.jsxs($e,{variant:"outline",onClick:()=>window.history.back(),children:[g.jsx(a0,{className:"mr-2 h-4 w-4"})," Go Back"]})]})}),J3=_m("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jy=v.forwardRef(({className:t,variant:e,...n},r)=>g.jsx("div",{ref:r,role:"alert",className:nt(J3({variant:e}),t),...n}));jy.displayName="Alert";const Vy=v.forwardRef(({className:t,...e},n)=>g.jsx("h5",{ref:n,className:nt("mb-1 font-medium leading-none tracking-tight",t),...e}));Vy.displayName="AlertTitle";const Fy=v.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:nt("text-sm [&_p]:leading-relaxed",t),...e}));Fy.displayName="AlertDescription";const ME=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(!1),[i,s]=v.useState(null),{toast:o}=Wd(),l=()=>{if(!t.trim()){o({title:"Empty text",description:"Please enter a product description to analyze.",variant:"destructive"});return}r(!0),setTimeout(()=>{const m=["eco-friendly","green","natural","sustainable","environmentally friendly","biodegradable","recyclable","non-toxic"],y=/(certified|verified|tested|proven|guaranteed|measured|reduced by \d+%|third-party)/gi,_=t.toLowerCase();let x=0,b=[],T=[];m.forEach(C=>{_.includes(C.toLowerCase())&&!y.test(t)&&(x+=15,b.push(`Uses vague term "${C}" without specific certifications or evidence`),T.push(`Provide specific certifications or measurable details for "${C}" claim`))}),!/certification|certified by|verified by|tested by/i.test(t)&&/eco-friendly|sustainable|green|environmentally friendly/i.test(t)&&(x+=25,b.push("Makes environmental claims without mentioning certifications"),T.push("Add relevant eco-certifications (e.g., GOTS, Fair Trade, Energy Star)")),!/\d+%|carbon|footprint|emissions|water usage|energy consumption/i.test(t)&&/reduces|reduces impact|less waste|eco-friendly|sustainable/i.test(t)&&(x+=20,b.push("Claims reductions without specific metrics"),T.push('Add specific metrics (e.g., "reduces water usage by 40%")')),x=Math.min(100,x),b.length===0&&b.push("No obvious greenwashing detected"),T.length===0&&T.push("Continue providing specific, verifiable claims");let E;x<30?E="Likely Genuine":x<70?E="Potentially Misleading":E="Highly Suspicious",s({score:x,verdict:E,issues:b,improvements:T}),r(!1)},1500)},u=()=>{s(null),e("")},d=()=>i?i.score<30?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":i.score<70?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"",f=()=>i?i.score<30?g.jsx(hD,{className:"h-5 w-5 text-green-500"}):i.score<70?g.jsx(t1,{className:"h-5 w-5 text-yellow-500"}):g.jsx(dD,{className:"h-5 w-5 text-red-500"}):null;return g.jsxs(xn,{className:"shadow-md",children:[g.jsxs(zn,{children:[g.jsxs(Bn,{className:"flex items-center",children:[g.jsx(rD,{className:"h-5 w-5 mr-2 text-blue-500"}),"Greenwashing Detector"]}),g.jsx(ja,{children:"Analyze product descriptions for misleading environmental claims"})]}),g.jsx(bn,{children:i?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:`p-4 rounded-md ${d()}`,children:[g.jsxs("div",{className:"flex items-center",children:[f(),g.jsx("h3",{className:"ml-2 font-medium text-lg",children:i.verdict})]}),g.jsxs("div",{className:"mt-2",children:[g.jsxs("p",{className:"text-sm",children:["Greenwashing Score: ",i.score,"/100"]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2 dark:bg-gray-700",children:g.jsx("div",{className:`h-2.5 rounded-full ${i.score<30?"bg-green-500":i.score<70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${i.score}%`}})})]})]}),g.jsxs(jy,{children:[g.jsx(JP,{className:"h-4 w-4"}),g.jsx(Vy,{children:"Potential Issues"}),g.jsx(Fy,{children:g.jsx("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:i.issues.map((m,y)=>g.jsx("li",{className:"text-sm",children:m},y))})})]}),g.jsxs(jy,{variant:"default",children:[g.jsx(Pc,{className:"h-4 w-4"}),g.jsx(Vy,{children:"Suggested Improvements"}),g.jsx(Fy,{children:g.jsx("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:i.improvements.map((m,y)=>g.jsx("li",{className:"text-sm",children:m},y))})})]})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a product description or environmental claim to check for potential greenwashing language."}),g.jsx(Iu,{placeholder:"This 100% eco-friendly product is made from natural materials that are good for the environment...",value:t,onChange:m=>e(m.target.value),className:"min-h-[150px]"})]})}),g.jsx(zi,{className:"flex justify-end space-x-2 pt-2",children:i?g.jsx($e,{onClick:u,variant:"outline",children:"Analyze Another"}):g.jsx($e,{onClick:l,disabled:n||!t.trim(),className:"bg-blue-500 hover:bg-blue-600",children:n?g.jsxs(g.Fragment,{children:[g.jsx(aD,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):"Analyze Text"})})]})},NE=()=>{const[t,e]=v.useState("conversation"),[n,r]=v.useState(""),[i,s]=v.useState(!1),[o,l]=v.useState(!1),[u,d]=v.useState(!1),{toast:f}=Wd(),[m,y]=v.useState([{type:"bot",content:"Hello! I'm your EcoGuide on WhatsApp. You can ask me about sustainable products or send a photo/link to any product to get its eco-score and alternatives!"}]),_=()=>{n.trim()&&(y(b=>[...b,{type:"user",content:n}]),s(!0),setTimeout(()=>{let b;n.toLowerCase().includes("h&m")||n.toLowerCase().includes("dress")?b={type:"bot",content:g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{children:"Based on my analysis, this H&M dress has an eco-score of 4/10. It's made with conventional cotton which uses high amounts of water and pesticides."}),g.jsxs("div",{className:"flex items-center space-x-1 my-2",children:[g.jsx(t1,{className:"h-4 w-4 text-amber-500"}),g.jsx("p",{className:"text-amber-500 font-medium",children:"Potential greenwashing detected in product description."})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:'Terms like "conscious collection" are used without specific certifications.'}),g.jsxs("div",{className:"mt-3",children:[g.jsx("p",{className:"font-medium",children:"Here are 3 more sustainable alternatives:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[g.jsx("li",{children:"Reformation Cecil Dress (Eco-Score: 8/10)"}),g.jsx("li",{children:"Kotn Cotton Maxi Dress (Eco-Score: 7/10)"}),g.jsx("li",{children:"Patagonia Hemp Wrap Dress (Eco-Score: 9/10)"})]})]})]})}:n.toLowerCase().includes("vegan")&&n.toLowerCase().includes("leather")&&n.toLowerCase().includes("bag")?b={type:"bot",content:g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{children:"Here are some vegan leather bags under $50 with good eco-scores:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[g.jsx("li",{children:"Matt & Nat Vegan Crossbody - $49 (Eco-Score: 7/10)"}),g.jsx("li",{children:"Pixie Mood Recycled Shoulder Bag - $45 (Eco-Score: 8/10)"}),g.jsx("li",{children:"Corkor Cork Mini-Tote - $39 (Eco-Score: 9/10)"})]}),g.jsxs("div",{className:"flex items-center space-x-1 mt-3",children:[g.jsx(Js,{className:"h-4 w-4 text-green-500"}),g.jsx("p",{className:"text-sm text-green-600",children:"Note that some vegan leather alternatives use plastic (PVC/PU). Cork, apple leather, and cactus leather are more sustainable options."})]})]})}:b={type:"bot",content:"I'd be happy to help you with sustainable shopping information! You can ask me about specific products, materials, or brands - or send a photo of a product for instant analysis."},y(T=>[...T,b]),s(!1),r("")},1500))},x=()=>{l(!0),y(b=>[...b,{type:"user",content:g.jsx("span",{className:"italic text-muted-foreground",children:"[Sent a photo of a product]"})}]),setTimeout(()=>{l(!1),d(!0),y(b=>[...b,{type:"bot",content:g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{children:"I've analyzed the product image you sent:"}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-md",children:[g.jsx("h4",{className:"font-medium",children:"Product Detection:"}),g.jsx("p",{children:"Cotton T-Shirt by Fast Fashion Brand"}),g.jsxs("div",{className:"flex items-center mt-2 mb-1",children:[g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 dark:bg-gray-700",children:g.jsx("div",{className:"bg-amber-500 h-1.5 rounded-full",style:{width:"40%"}})}),g.jsx("span",{className:"ml-2 font-bold",children:"4/10"})]}),g.jsxs("div",{className:"text-sm mt-2",children:[g.jsx("span",{className:"font-medium",children:"Issues detected:"}),g.jsxs("ul",{className:"list-disc list-inside mt-1",children:[g.jsx("li",{children:"Conventional cotton (high water usage)"}),g.jsx("li",{children:"Fast fashion supply chain"}),g.jsx("li",{children:"No certifications found"})]})]})]}),g.jsx("p",{children:"Here are 3 eco-friendly alternatives I found:"})]})}])},3e3)};return g.jsxs(xn,{className:"shadow-md",children:[g.jsxs(zn,{children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Sb,{className:"h-5 w-5 text-green-500 mr-2"}),g.jsx(Bn,{children:"WhatsApp Integration"})]}),g.jsxs(Sd,{variant:"outline",className:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:[g.jsx(wm,{className:"h-3 w-3 mr-1"}),"Beta Feature"]})]}),g.jsx(ja,{children:"Get sustainable shopping insights directly on WhatsApp. Scan products, chat with our AI, and find eco-friendly alternatives on-the-go."})]}),g.jsx(bn,{children:g.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[g.jsx(Tf,{className:"h-4 w-4 mr-2"}),"How It Works"]}),g.jsxs("ul",{className:"space-y-3",children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx(Pc,{className:"h-4 w-4 text-green-500 mt-1 mr-2 flex-shrink-0"}),g.jsxs("span",{children:["Send a ",g.jsx("strong",{children:"photo"})," or ",g.jsx("strong",{children:"link"})," of any product to our WhatsApp number"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(Pc,{className:"h-4 w-4 text-green-500 mt-1 mr-2 flex-shrink-0"}),g.jsxs("span",{children:["Our ",g.jsx("strong",{children:"AI analyzes"})," the product's environmental impact and detects greenwashing"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(Pc,{className:"h-4 w-4 text-green-500 mt-1 mr-2 flex-shrink-0"}),g.jsxs("span",{children:["Get an ",g.jsx("strong",{children:"eco-score"})," and ",g.jsx("strong",{children:"sustainable alternatives"})," in seconds"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(Pc,{className:"h-4 w-4 text-green-500 mt-1 mr-2 flex-shrink-0"}),g.jsxs("span",{children:["Ask questions about ",g.jsx("strong",{children:"sustainability practices"})," and get expert answers"]})]})]})]}),u&&g.jsxs("div",{className:"mt-6 space-y-4",children:[g.jsx("h3",{className:"font-semibold",children:"Suggested Alternatives:"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:My.slice(0,3).map(b=>g.jsx(Fm,{product:b,onSave:()=>{f({title:"Product Saved",description:`${b.name} has been added to your favorites.`})}},b.id))})]})]}),g.jsxs("div",{className:"md:w-80 bg-gray-50 dark:bg-gray-800/50 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col",children:[g.jsxs("div",{className:"bg-green-500 text-white p-3 flex items-center",children:[g.jsx(Sb,{className:"h-5 w-5 mr-2"}),g.jsx("span",{className:"font-semibold",children:"EcoCart on WhatsApp"})]}),g.jsxs(z0,{value:t,onValueChange:e,className:"flex-1 flex flex-col",children:[g.jsx("div",{className:"px-3 pt-3",children:g.jsxs(Vm,{className:"w-full",children:[g.jsx(fi,{value:"conversation",className:"flex-1",children:"Chat Demo"}),g.jsx(fi,{value:"scan",className:"flex-1",children:"Scan Demo"})]})}),g.jsxs(pi,{value:"conversation",className:"flex-1 flex flex-col p-0 m-0",children:[g.jsxs("div",{className:"flex-1 p-3 overflow-y-auto max-h-[350px]",children:[m.map((b,T)=>g.jsx("div",{className:`flex mb-3 ${b.type==="user"?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`rounded-lg py-2 px-3 max-w-[85%] ${b.type==="user"?"bg-green-500 text-white rounded-br-none":"bg-white dark:bg-gray-700 rounded-bl-none border border-gray-200 dark:border-gray-600"}`,children:typeof b.content=="string"?g.jsx("p",{className:"text-sm",children:b.content}):b.content})},T)),i&&g.jsx("div",{className:"flex mb-3 justify-start",children:g.jsx("div",{className:"rounded-lg py-2 px-3 bg-white dark:bg-gray-700 rounded-bl-none border border-gray-200 dark:border-gray-600",children:g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-300"})]})})})]}),g.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 mt-auto",children:[g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Iu,{placeholder:"Ask about sustainable products...",value:n,onChange:b=>r(b.target.value),className:"resize-none",onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),_())}}),g.jsx($e,{size:"icon",onClick:_,disabled:i||!n.trim(),className:"bg-green-500 hover:bg-green-600 flex-shrink-0",children:g.jsx(XP,{className:"h-4 w-4"})})]}),g.jsx("div",{className:"text-xs text-center mt-2 text-gray-500 dark:text-gray-400",children:'Try: "Is this H&M dress eco-friendly?" or "Show me vegan leather bags under $50"'})]})]}),g.jsx(pi,{value:"scan",className:"flex-1 flex flex-col p-0 m-0",children:g.jsx("div",{className:"flex-1 p-4 flex flex-col items-center justify-center space-y-4",children:o?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-48 h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-md flex items-center justify-center relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"w-full h-2 bg-green-500/20 animate-pulse"})}),g.jsx(Wg,{className:"h-16 w-16 text-gray-400"})]}),g.jsx("p",{className:"text-center animate-pulse",children:"Scanning product image..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-48 h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors",onClick:x,children:g.jsxs("div",{className:"text-center",children:[g.jsx(Wg,{className:"h-16 w-16 mx-auto text-gray-400"}),g.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Click to simulate sending a product photo"})]})}),g.jsxs($e,{onClick:x,className:"bg-green-500 hover:bg-green-600",children:[g.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Scan Product Image"]})]})})})]})]})]})}),g.jsx(zi,{children:g.jsxs("div",{className:"w-full flex flex-col sm:flex-row items-center justify-between space-y-3 sm:space-y-0",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Preview of our WhatsApp integration powered by Twilio and OpenAI GPT-4."}),g.jsxs($e,{variant:"outline",className:"sm:ml-auto",children:[g.jsx(pD,{className:"h-4 w-4 mr-2"}),"Try the WhatsApp Demo"]})]})})]})},X3=()=>g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("header",{className:"bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900 dark:to-blue-900 py-12 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex items-center mb-6",children:[g.jsx($e,{variant:"ghost",size:"sm",asChild:!0,className:"mr-4",children:g.jsxs(co,{to:"/",children:[g.jsx(a0,{className:"mr-2 h-4 w-4"})," Back"]})}),g.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[g.jsx(dp,{className:"h-6 w-6 mr-2 text-green-500"}),"AI-Powered Features"]})]}),g.jsx("p",{className:"text-xl max-w-3xl",children:"Discover our cutting-edge AI tools designed to make sustainable shopping easier, more transparent, and accessible for everyone."})]})}),g.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:g.jsxs(z0,{defaultValue:"all",children:[g.jsxs(Vm,{className:"mb-8 w-full justify-start",children:[g.jsx(fi,{value:"all",children:"All Features"}),g.jsx(fi,{value:"recommendations",children:"Recommendations"}),g.jsx(fi,{value:"greenwashing",children:"Greenwashing Detector"}),g.jsx(fi,{value:"whatsapp",children:"WhatsApp"})]}),g.jsxs(pi,{value:"all",className:"space-y-8",children:[g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[g.jsx(wm,{className:"h-5 w-5 mr-2 text-green-500"}),"WhatsApp Integration"]}),g.jsx(NE,{})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[g.jsx(dp,{className:"h-5 w-5 mr-2 text-green-500"}),"AI-Powered Recommendations"]}),g.jsx(Dy,{products:sa})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[g.jsx(Js,{className:"h-5 w-5 mr-2 text-green-500"}),"Greenwashing Detector"]}),g.jsx(ME,{})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[g.jsx(Tf,{className:"h-5 w-5 mr-2 text-green-500"}),"EcoGuide AI Assistant"]}),g.jsxs(xn,{className:"shadow-md",children:[g.jsxs(zn,{children:[g.jsx(Bn,{children:"EcoGuide AI Chat"}),g.jsx(ja,{children:"Chat with our AI assistant for personalized sustainable shopping guidance. Ask questions about materials, certifications, or specific products."})]}),g.jsx(bn,{children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"mb-4",children:"EcoGuide uses advanced Natural Language Processing to understand your questions and provide evidence-based answers about sustainability. The assistant can help with:"}),g.jsxs("ul",{className:"space-y-2 list-disc list-inside mb-4",children:[g.jsx("li",{children:"Comparing eco-friendliness of different materials"}),g.jsx("li",{children:"Explaining sustainability certifications"}),g.jsx("li",{children:"Finding alternatives to non-sustainable products"}),g.jsx("li",{children:"Providing tips for reducing your carbon footprint"})]}),g.jsx("p",{children:"To chat with EcoGuide, simply click the chat icon in the bottom-right corner of any page."})]}),g.jsx("div",{className:"md:w-1/3 flex items-center justify-center",children:g.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 p-6 rounded-full",children:g.jsx(Tf,{className:"h-20 w-20 text-green-500"})})})]})}),g.jsx(zi,{children:g.jsxs($e,{variant:"outline",onClick:()=>{const t=document.querySelector(".fixed.bottom-5.right-5.z-50 button");t&&t.click()},className:"w-full sm:w-auto",children:[g.jsx(Tf,{className:"mr-2 h-4 w-4"}),"Open EcoGuide Chat"]})})]})]})]}),g.jsx(pi,{value:"recommendations",children:g.jsx(Dy,{products:sa})}),g.jsx(pi,{value:"greenwashing",children:g.jsx(ME,{})}),g.jsx(pi,{value:"whatsapp",children:g.jsx(NE,{})})]})}),g.jsx("footer",{className:"bg-gray-100 dark:bg-gray-900 py-8 px-4 mt-12",children:g.jsx("div",{className:"max-w-6xl mx-auto text-center",children:g.jsx("p",{className:"text-muted-foreground",children:"Our AI features are powered by machine learning models trained on sustainable fashion and product data."})})}),g.jsx(U0,{})]});function e9({redirectTo:t="/"}){const[e,n]=v.useState(!1),[r,i]=v.useState(""),[s,o]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(""),[m,y]=v.useState(!1),[_,x]=v.useState(""),[b,T]=v.useState(!1),E=Gi(),C=async I=>{I.preventDefault(),u("");try{await xB(_a,r,s),E(t)}catch(N){N instanceof Error?u(N.message):u("Login failed")}};return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[g.jsxs("button",{type:"button",onClick:()=>E("/"),className:"mb-4 flex items-center gap-2 text-green-700 border border-green-200 px-3 py-1 rounded hover:bg-green-50 transition self-start",style:{marginLeft:0},children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back"]}),g.jsxs("form",{onSubmit:C,className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Login"}),g.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:I=>i(I.target.value),className:"mb-3 w-full p-2 border rounded text-gray-900 placeholder-gray-600 bg-gray-100 focus:bg-white focus:border-green-500",required:!0,style:{color:"#222",background:"#f8f9fa",fontWeight:500}}),g.jsxs("div",{className:"relative mb-1 w-full",children:[g.jsx("input",{type:e?"text":"password",placeholder:"Password",value:s,onChange:I=>o(I.target.value),className:"w-full p-2 border rounded text-gray-900 placeholder-gray-600 bg-gray-100 focus:bg-white focus:border-green-500",required:!0,style:{color:"#222",background:"#f8f9fa",fontWeight:500}}),g.jsx("button",{type:"button",tabIndex:-1,onClick:()=>n(I=>!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-green-700 focus:outline-none","aria-label":e?"Hide password":"Show password",children:e?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12.001c1.64 4.19 5.82 7.25 10.066 7.25 1.807 0 3.525-.427 5.02-1.18M7.5 12a4.5 4.5 0 118.998 0A4.5 4.5 0 017.5 12zm0 0a4.5 4.5 0 008.998 0A4.5 4.5 0 007.5 12zm0 0a4.5 4.5 0 008.998 0A4.5 4.5 0 007.5 12z"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9.75l-7.5 7.5m0 0l7.5-7.5m-7.5 7.5A10.477 10.477 0 011.934 12.001c1.64-4.19 5.82-7.25 10.066-7.25 1.807 0 3.525.427 5.02 1.18"})})})]}),g.jsx("div",{className:"mb-3 w-full text-right",children:g.jsx("button",{type:"button",className:"text-green-700 text-sm underline hover:text-green-900",onClick:()=>T(!0),children:"Forgot password?"})}),b&&g.jsxs("div",{className:"mb-3 w-full bg-green-50 border border-green-200 rounded p-3",children:[g.jsx("div",{className:"mb-1 text-sm text-gray-700",children:"Enter your email to reset password:"}),g.jsx("input",{type:"email",className:"w-full p-2 border rounded text-gray-900 placeholder-gray-600 bg-white mb-2",placeholder:"Email",value:d,onChange:I=>f(I.target.value),required:!0}),g.jsx("button",{type:"button",className:"w-full bg-green-600 text-white py-1.5 rounded hover:bg-green-700 text-sm font-semibold",onClick:async()=>{x(""),y(!1);try{await _B(_a,d),y(!0)}catch(I){x(I.message||"Could not send reset email.")}},children:"Send Reset Link"}),m&&g.jsx("div",{className:"text-green-700 mt-2 text-xs",children:"Reset link sent! Check your email."}),_&&g.jsx("div",{className:"text-red-600 mt-2 text-xs",children:_}),g.jsx("button",{type:"button",className:"text-xs text-gray-500 underline mt-2",onClick:()=>T(!1),children:"Cancel"})]}),l&&g.jsx("div",{className:"text-red-500 mb-3",children:l}),g.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:"Login"}),g.jsxs("div",{className:"mt-4 text-center",children:["New user? ",g.jsx("a",{href:"/auth/signup",className:"text-green-700 underline",children:"Sign up"})]})]})]})}var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,Bk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function M(){}M.prototype=R.prototype,A.D=R.prototype,A.prototype=new M,A.prototype.constructor=A,A.C=function(D,V,U){for(var B=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)B[Q-2]=arguments[Q];return R.prototype[V].apply(D,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,R,M){M||(M=0);var D=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)D[V]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(V=0;16>V;++V)D[V]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=A.g[0],M=A.g[1],V=A.g[2];var U=A.g[3],B=R+(U^M&(V^U))+D[0]+3614090360&4294967295;R=M+(B<<7&4294967295|B>>>25),B=U+(V^R&(M^V))+D[1]+3905402710&4294967295,U=R+(B<<12&4294967295|B>>>20),B=V+(M^U&(R^M))+D[2]+606105819&4294967295,V=U+(B<<17&4294967295|B>>>15),B=M+(R^V&(U^R))+D[3]+3250441966&4294967295,M=V+(B<<22&4294967295|B>>>10),B=R+(U^M&(V^U))+D[4]+4118548399&4294967295,R=M+(B<<7&4294967295|B>>>25),B=U+(V^R&(M^V))+D[5]+1200080426&4294967295,U=R+(B<<12&4294967295|B>>>20),B=V+(M^U&(R^M))+D[6]+2821735955&4294967295,V=U+(B<<17&4294967295|B>>>15),B=M+(R^V&(U^R))+D[7]+4249261313&4294967295,M=V+(B<<22&4294967295|B>>>10),B=R+(U^M&(V^U))+D[8]+1770035416&4294967295,R=M+(B<<7&4294967295|B>>>25),B=U+(V^R&(M^V))+D[9]+2336552879&4294967295,U=R+(B<<12&4294967295|B>>>20),B=V+(M^U&(R^M))+D[10]+4294925233&4294967295,V=U+(B<<17&4294967295|B>>>15),B=M+(R^V&(U^R))+D[11]+2304563134&4294967295,M=V+(B<<22&4294967295|B>>>10),B=R+(U^M&(V^U))+D[12]+1804603682&4294967295,R=M+(B<<7&4294967295|B>>>25),B=U+(V^R&(M^V))+D[13]+4254626195&4294967295,U=R+(B<<12&4294967295|B>>>20),B=V+(M^U&(R^M))+D[14]+2792965006&4294967295,V=U+(B<<17&4294967295|B>>>15),B=M+(R^V&(U^R))+D[15]+1236535329&4294967295,M=V+(B<<22&4294967295|B>>>10),B=R+(V^U&(M^V))+D[1]+4129170786&4294967295,R=M+(B<<5&4294967295|B>>>27),B=U+(M^V&(R^M))+D[6]+3225465664&4294967295,U=R+(B<<9&4294967295|B>>>23),B=V+(R^M&(U^R))+D[11]+643717713&4294967295,V=U+(B<<14&4294967295|B>>>18),B=M+(U^R&(V^U))+D[0]+3921069994&4294967295,M=V+(B<<20&4294967295|B>>>12),B=R+(V^U&(M^V))+D[5]+3593408605&4294967295,R=M+(B<<5&4294967295|B>>>27),B=U+(M^V&(R^M))+D[10]+38016083&4294967295,U=R+(B<<9&4294967295|B>>>23),B=V+(R^M&(U^R))+D[15]+3634488961&4294967295,V=U+(B<<14&4294967295|B>>>18),B=M+(U^R&(V^U))+D[4]+3889429448&4294967295,M=V+(B<<20&4294967295|B>>>12),B=R+(V^U&(M^V))+D[9]+568446438&4294967295,R=M+(B<<5&4294967295|B>>>27),B=U+(M^V&(R^M))+D[14]+3275163606&4294967295,U=R+(B<<9&4294967295|B>>>23),B=V+(R^M&(U^R))+D[3]+4107603335&4294967295,V=U+(B<<14&4294967295|B>>>18),B=M+(U^R&(V^U))+D[8]+1163531501&4294967295,M=V+(B<<20&4294967295|B>>>12),B=R+(V^U&(M^V))+D[13]+2850285829&4294967295,R=M+(B<<5&4294967295|B>>>27),B=U+(M^V&(R^M))+D[2]+4243563512&4294967295,U=R+(B<<9&4294967295|B>>>23),B=V+(R^M&(U^R))+D[7]+1735328473&4294967295,V=U+(B<<14&4294967295|B>>>18),B=M+(U^R&(V^U))+D[12]+2368359562&4294967295,M=V+(B<<20&4294967295|B>>>12),B=R+(M^V^U)+D[5]+4294588738&4294967295,R=M+(B<<4&4294967295|B>>>28),B=U+(R^M^V)+D[8]+2272392833&4294967295,U=R+(B<<11&4294967295|B>>>21),B=V+(U^R^M)+D[11]+1839030562&4294967295,V=U+(B<<16&4294967295|B>>>16),B=M+(V^U^R)+D[14]+4259657740&4294967295,M=V+(B<<23&4294967295|B>>>9),B=R+(M^V^U)+D[1]+2763975236&4294967295,R=M+(B<<4&4294967295|B>>>28),B=U+(R^M^V)+D[4]+1272893353&4294967295,U=R+(B<<11&4294967295|B>>>21),B=V+(U^R^M)+D[7]+4139469664&4294967295,V=U+(B<<16&4294967295|B>>>16),B=M+(V^U^R)+D[10]+3200236656&4294967295,M=V+(B<<23&4294967295|B>>>9),B=R+(M^V^U)+D[13]+681279174&4294967295,R=M+(B<<4&4294967295|B>>>28),B=U+(R^M^V)+D[0]+3936430074&4294967295,U=R+(B<<11&4294967295|B>>>21),B=V+(U^R^M)+D[3]+3572445317&4294967295,V=U+(B<<16&4294967295|B>>>16),B=M+(V^U^R)+D[6]+76029189&4294967295,M=V+(B<<23&4294967295|B>>>9),B=R+(M^V^U)+D[9]+3654602809&4294967295,R=M+(B<<4&4294967295|B>>>28),B=U+(R^M^V)+D[12]+3873151461&4294967295,U=R+(B<<11&4294967295|B>>>21),B=V+(U^R^M)+D[15]+530742520&4294967295,V=U+(B<<16&4294967295|B>>>16),B=M+(V^U^R)+D[2]+3299628645&4294967295,M=V+(B<<23&4294967295|B>>>9),B=R+(V^(M|~U))+D[0]+4096336452&4294967295,R=M+(B<<6&4294967295|B>>>26),B=U+(M^(R|~V))+D[7]+1126891415&4294967295,U=R+(B<<10&4294967295|B>>>22),B=V+(R^(U|~M))+D[14]+2878612391&4294967295,V=U+(B<<15&4294967295|B>>>17),B=M+(U^(V|~R))+D[5]+4237533241&4294967295,M=V+(B<<21&4294967295|B>>>11),B=R+(V^(M|~U))+D[12]+1700485571&4294967295,R=M+(B<<6&4294967295|B>>>26),B=U+(M^(R|~V))+D[3]+2399980690&4294967295,U=R+(B<<10&4294967295|B>>>22),B=V+(R^(U|~M))+D[10]+4293915773&4294967295,V=U+(B<<15&4294967295|B>>>17),B=M+(U^(V|~R))+D[1]+2240044497&4294967295,M=V+(B<<21&4294967295|B>>>11),B=R+(V^(M|~U))+D[8]+1873313359&4294967295,R=M+(B<<6&4294967295|B>>>26),B=U+(M^(R|~V))+D[15]+4264355552&4294967295,U=R+(B<<10&4294967295|B>>>22),B=V+(R^(U|~M))+D[6]+2734768916&4294967295,V=U+(B<<15&4294967295|B>>>17),B=M+(U^(V|~R))+D[13]+1309151649&4294967295,M=V+(B<<21&4294967295|B>>>11),B=R+(V^(M|~U))+D[4]+4149444226&4294967295,R=M+(B<<6&4294967295|B>>>26),B=U+(M^(R|~V))+D[11]+3174756917&4294967295,U=R+(B<<10&4294967295|B>>>22),B=V+(R^(U|~M))+D[2]+718787259&4294967295,V=U+(B<<15&4294967295|B>>>17),B=M+(U^(V|~R))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+U&4294967295}r.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var M=R-this.blockSize,D=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=M;)i(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<R;)if(D[V++]=A.charCodeAt(U++),V==this.blockSize){i(this,D),V=0;break}}else for(;U<R;)if(D[V++]=A[U++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var M=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=M&255,M/=256;for(this.u(A),A=Array(16),R=M=0;4>R;++R)for(var D=0;32>D;D+=8)A[M++]=this.g[R]>>>D&255;return A};function s(A,R){var M=l;return Object.prototype.hasOwnProperty.call(M,A)?M[A]:M[A]=R(A)}function o(A,R){this.h=R;for(var M=[],D=!0,V=A.length-1;0<=V;V--){var U=A[V]|0;D&&U==R||(M[V]=U,D=!1)}this.g=M}var l={};function u(A){return-128<=A&&128>A?s(A,function(R){return new o([R|0],0>R?-1:0)}):new o([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return T(d(-A));for(var R=[],M=1,D=0;A>=M;D++)R[D]=A/M|0,M*=4294967296;return new o(R,0)}function f(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return T(f(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(R,8)),D=m,V=0;V<A.length;V+=8){var U=Math.min(8,A.length-V),B=parseInt(A.substring(V,V+U),R);8>U?(U=d(Math.pow(R,U)),D=D.j(U).add(d(B))):(D=D.j(M),D=D.add(d(B)))}return D}var m=u(0),y=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-T(this).m();for(var A=0,R=1,M=0;M<this.g.length;M++){var D=this.i(M);A+=(0<=D?D:4294967296+D)*R,R*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(b(this))return"-"+T(this).toString(A);for(var R=d(Math.pow(A,6)),M=this,D="";;){var V=N(M,R).g;M=E(M,V.j(R));var U=((0<M.g.length?M.g[0]:M.h)>>>0).toString(A);if(M=V,x(M))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function b(A){return A.h==-1}t.l=function(A){return A=E(this,A),b(A)?-1:x(A)?0:1};function T(A){for(var R=A.g.length,M=[],D=0;D<R;D++)M[D]=~A.g[D];return new o(M,~A.h).add(y)}t.abs=function(){return b(this)?T(this):this},t.add=function(A){for(var R=Math.max(this.g.length,A.g.length),M=[],D=0,V=0;V<=R;V++){var U=D+(this.i(V)&65535)+(A.i(V)&65535),B=(U>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);D=B>>>16,U&=65535,B&=65535,M[V]=B<<16|U}return new o(M,M[M.length-1]&-2147483648?-1:0)};function E(A,R){return A.add(T(R))}t.j=function(A){if(x(this)||x(A))return m;if(b(this))return b(A)?T(this).j(T(A)):T(T(this).j(A));if(b(A))return T(this.j(T(A)));if(0>this.l(_)&&0>A.l(_))return d(this.m()*A.m());for(var R=this.g.length+A.g.length,M=[],D=0;D<2*R;D++)M[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<A.g.length;V++){var U=this.i(D)>>>16,B=this.i(D)&65535,Q=A.i(V)>>>16,le=A.i(V)&65535;M[2*D+2*V]+=B*le,C(M,2*D+2*V),M[2*D+2*V+1]+=U*le,C(M,2*D+2*V+1),M[2*D+2*V+1]+=B*Q,C(M,2*D+2*V+1),M[2*D+2*V+2]+=U*Q,C(M,2*D+2*V+2)}for(D=0;D<R;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=R;D<2*R;D++)M[D]=0;return new o(M,0)};function C(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function I(A,R){this.g=A,this.h=R}function N(A,R){if(x(R))throw Error("division by zero");if(x(A))return new I(m,m);if(b(A))return R=N(T(A),R),new I(T(R.g),T(R.h));if(b(R))return R=N(A,T(R)),new I(T(R.g),R.h);if(30<A.g.length){if(b(A)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var M=y,D=R;0>=D.l(A);)M=j(M),D=j(D);var V=z(M,1),U=z(D,1);for(D=z(D,2),M=z(M,2);!x(D);){var B=U.add(D);0>=B.l(A)&&(V=V.add(M),U=B),D=z(D,1),M=z(M,1)}return R=E(A,V.j(R)),new I(V,R)}for(V=m;0<=A.l(R);){for(M=Math.max(1,Math.floor(A.m()/R.m())),D=Math.ceil(Math.log(M)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=d(M),B=U.j(R);b(B)||0<B.l(A);)M-=D,U=d(M),B=U.j(R);x(U)&&(U=y),V=V.add(U),A=E(A,B)}return new I(V,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var R=Math.max(this.g.length,A.g.length),M=[],D=0;D<R;D++)M[D]=this.i(D)&A.i(D);return new o(M,this.h&A.h)},t.or=function(A){for(var R=Math.max(this.g.length,A.g.length),M=[],D=0;D<R;D++)M[D]=this.i(D)|A.i(D);return new o(M,this.h|A.h)},t.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),M=[],D=0;D<R;D++)M[D]=this.i(D)^A.i(D);return new o(M,this.h^A.h)};function j(A){for(var R=A.g.length+1,M=[],D=0;D<R;D++)M[D]=A.i(D)<<1|A.i(D-1)>>>31;return new o(M,A.h)}function z(A,R){var M=R>>5;R%=32;for(var D=A.g.length-M,V=[],U=0;U<D;U++)V[U]=0<R?A.i(U+M)>>>R|A.i(U+M+1)<<32-R:A.i(U+M);return new o(V,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,To=o}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uk,Rc,$k,Nf,zy,Hk,Wk,Gk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,S,k){return h==Array.prototype||h==Object.prototype||(h[S]=k.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var S=0;S<h.length;++S){var k=h[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(h,S){if(S)e:{var k=r;h=h.split(".");for(var F=0;F<h.length-1;F++){var G=h[F];if(!(G in k))break e;k=k[G]}h=h[h.length-1],F=k[h],S=S(F),S!=F&&S!=null&&e(k,h,{configurable:!0,writable:!0,value:S})}}function s(h,S){h instanceof String&&(h+="");var k=0,F=!1,G={next:function(){if(!F&&k<h.length){var J=k++;return{value:S(J,h[J]),done:!1}}return F=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(h){return h||function(){return s(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(h){var S=typeof h;return S=S!="object"?S:h?Array.isArray(h)?"array":S:"null",S=="array"||S=="object"&&typeof h.length=="number"}function d(h){var S=typeof h;return S=="object"&&h!=null||S=="function"}function f(h,S,k){return h.call.apply(h.bind,arguments)}function m(h,S,k){if(!h)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,F),h.apply(S,G)}}return function(){return h.apply(S,arguments)}}function y(h,S,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,y.apply(null,arguments)}function _(h,S){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),h.apply(this,F)}}function x(h,S){function k(){}k.prototype=S.prototype,h.aa=S.prototype,h.prototype=new k,h.prototype.constructor=h,h.Qb=function(F,G,J){for(var ge=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ge[ht-2]=arguments[ht];return S.prototype[G].apply(F,ge)}}function b(h){const S=h.length;if(0<S){const k=Array(S);for(let F=0;F<S;F++)k[F]=h[F];return k}return[]}function T(h,S){for(let k=1;k<arguments.length;k++){const F=arguments[k];if(u(F)){const G=h.length||0,J=F.length||0;h.length=G+J;for(let ge=0;ge<J;ge++)h[G+ge]=F[ge]}else h.push(F)}}class E{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function C(h){return/^[\s\xa0]*$/.test(h)}function I(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function N(h){return N[" "](h),h}N[" "]=function(){};var j=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function z(h,S,k){for(const F in h)S.call(k,h[F],F,h)}function A(h,S){for(const k in h)S.call(void 0,h[k],k,h)}function R(h){const S={};for(const k in h)S[k]=h[k];return S}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,S){let k,F;for(let G=1;G<arguments.length;G++){F=arguments[G];for(k in F)h[k]=F[k];for(let J=0;J<M.length;J++)k=M[J],Object.prototype.hasOwnProperty.call(F,k)&&(h[k]=F[k])}}function V(h){var S=1;h=h.split(":");const k=[];for(;0<S&&h.length;)k.push(h.shift()),S--;return h.length&&k.push(h.join(":")),k}function U(h){l.setTimeout(()=>{throw h},0)}function B(){var h=K;let S=null;return h.g&&(S=h.g,h.g=h.g.next,h.g||(h.h=null),S.next=null),S}class Q{constructor(){this.h=this.g=null}add(S,k){const F=le.get();F.set(S,k),this.h?this.h.next=F:this.g=F,this.h=F}}var le=new E(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let he,H=!1,K=new Q,Z=()=>{const h=l.Promise.resolve(void 0);he=()=>{h.then(oe)}};var oe=()=>{for(var h;h=B();){try{h.h.call(h.g)}catch(k){U(k)}var S=le;S.j(h),100>S.h&&(S.h++,h.next=S.g,S.g=h)}H=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(h,S){this.type=h,this.g=this.target=S,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,S=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const k=()=>{};l.addEventListener("test",k,S),l.removeEventListener("test",k,S)}catch{}return h}();function W(h,S){if(ee.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var k=this.type=h.type,F=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=S,S=h.relatedTarget){if(j){e:{try{N(S.nodeName);var G=!0;break e}catch{}G=!1}G||(S=null)}}else k=="mouseover"?S=h.fromElement:k=="mouseout"&&(S=h.toElement);this.relatedTarget=S,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&W.aa.h.call(this)}}x(W,ee);var me={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),_e=0;function De(h,S,k,F,G){this.listener=h,this.proxy=null,this.src=S,this.type=k,this.capture=!!F,this.ha=G,this.key=++_e,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,S,k,F,G){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ge=Ie(h,S,F,G);return-1<ge?(S=h[ge],k||(S.fa=!1)):(S=new De(S,this.src,J,!!F,G),S.fa=k,h.push(S)),S};function pe(h,S){var k=S.type;if(k in h.g){var F=h.g[k],G=Array.prototype.indexOf.call(F,S,void 0),J;(J=0<=G)&&Array.prototype.splice.call(F,G,1),J&&(ve(S),h.g[k].length==0&&(delete h.g[k],h.h--))}}function Ie(h,S,k,F){for(var G=0;G<h.length;++G){var J=h[G];if(!J.da&&J.listener==S&&J.capture==!!k&&J.ha==F)return G}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),Te={};function Ct(h,S,k,F,G){if(Array.isArray(S)){for(var J=0;J<S.length;J++)Ct(h,S[J],k,F,G);return null}return k=Ar(k),h&&h[fe]?h.K(S,k,d(F)?!!F.capture:!1,G):St(h,S,k,!1,F,G)}function St(h,S,k,F,G,J){if(!S)throw Error("Invalid event type");var ge=d(G)?!!G.capture:!!G,ht=At(h);if(ht||(h[Ze]=ht=new ye(h)),k=ht.add(S,k,F,ge,J),k.proxy)return k;if(F=It(),k.proxy=F,F.src=h,F.listener=k,h.addEventListener)ue||(G=ge),G===void 0&&(G=!1),h.addEventListener(S.toString(),F,G);else if(h.attachEvent)h.attachEvent(kt(S.toString()),F);else if(h.addListener&&h.removeListener)h.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function It(){function h(k){return S.call(h.src,h.listener,k)}const S=ir;return h}function _t(h,S,k,F,G){if(Array.isArray(S))for(var J=0;J<S.length;J++)_t(h,S[J],k,F,G);else F=d(F)?!!F.capture:!!F,k=Ar(k),h&&h[fe]?(h=h.i,S=String(S).toString(),S in h.g&&(J=h.g[S],k=Ie(J,k,F,G),-1<k&&(ve(J[k]),Array.prototype.splice.call(J,k,1),J.length==0&&(delete h.g[S],h.h--)))):h&&(h=At(h))&&(S=h.g[S.toString()],h=-1,S&&(h=Ie(S,k,F,G)),(k=-1<h?S[h]:null)&&Zt(k))}function Zt(h){if(typeof h!="number"&&h&&!h.da){var S=h.src;if(S&&S[fe])pe(S.i,h);else{var k=h.type,F=h.proxy;S.removeEventListener?S.removeEventListener(k,F,h.capture):S.detachEvent?S.detachEvent(kt(k),F):S.addListener&&S.removeListener&&S.removeListener(F),(k=At(S))?(pe(k,h),k.h==0&&(k.src=null,S[Ze]=null)):ve(h)}}}function kt(h){return h in Te?Te[h]:Te[h]="on"+h}function ir(h,S){if(h.da)h=!0;else{S=new W(S,this);var k=h.listener,F=h.ha||h.src;h.fa&&Zt(h),h=k.call(F,S)}return h}function At(h){return h=h[Ze],h instanceof ye?h:null}var gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ar(h){return typeof h=="function"?h:(h[gr]||(h[gr]=function(S){return h.handleEvent(S)}),h[gr])}function We(){re.call(this),this.i=new ye(this),this.M=this,this.F=null}x(We,re),We.prototype[fe]=!0,We.prototype.removeEventListener=function(h,S,k,F){_t(this,h,S,k,F)};function st(h,S){var k,F=h.F;if(F)for(k=[];F;F=F.F)k.push(F);if(h=h.M,F=S.type||S,typeof S=="string")S=new ee(S,h);else if(S instanceof ee)S.target=S.target||h;else{var G=S;S=new ee(F,h),D(S,G)}if(G=!0,k)for(var J=k.length-1;0<=J;J--){var ge=S.g=k[J];G=sr(ge,F,!0,S)&&G}if(ge=S.g=h,G=sr(ge,F,!0,S)&&G,G=sr(ge,F,!1,S)&&G,k)for(J=0;J<k.length;J++)ge=S.g=k[J],G=sr(ge,F,!1,S)&&G}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var h=this.i,S;for(S in h.g){for(var k=h.g[S],F=0;F<k.length;F++)ve(k[F]);delete h.g[S],h.h--}}this.F=null},We.prototype.K=function(h,S,k,F){return this.i.add(String(h),S,!1,k,F)},We.prototype.L=function(h,S,k,F){return this.i.add(String(h),S,!0,k,F)};function sr(h,S,k,F){if(S=h.i.g[String(S)],!S)return!0;S=S.concat();for(var G=!0,J=0;J<S.length;++J){var ge=S[J];if(ge&&!ge.da&&ge.capture==k){var ht=ge.listener,Yt=ge.ha||ge.src;ge.fa&&pe(h.i,ge),G=ht.call(Yt,F)!==!1&&G}}return G&&!F.defaultPrevented}function Hn(h,S,k){if(typeof h=="function")k&&(h=y(h,k));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(h,S||0)}function Kt(h){h.g=Hn(()=>{h.g=null,h.i&&(h.i=!1,Kt(h))},h.l);const S=h.h;h.h=null,h.m.apply(null,S)}class Wn extends re{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(h){re.call(this),this.h=h,this.g={}}x(vn,re);var rn=[];function dn(h){z(h.g,function(S,k){this.g.hasOwnProperty(k)&&Zt(S)},h),h.g={}}vn.prototype.N=function(){vn.aa.N.call(this),dn(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=l.JSON.stringify,Gn=l.JSON.parse,Ln=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Rr(){}Rr.prototype.h=null;function qn(h){return h.h||(h.h=h.i())}function vr(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function In(){ee.call(this,"d")}x(In,ee);function Ft(){ee.call(this,"c")}x(Ft,ee);var kn={},Se=null;function ze(){return Se=Se||new We}kn.La="serverreachability";function Je(h){ee.call(this,kn.La,h)}x(Je,ee);function zt(h){const S=ze();st(S,new Je(S))}kn.STAT_EVENT="statevent";function Qt(h,S){ee.call(this,kn.STAT_EVENT,h),this.stat=S}x(Qt,ee);function lt(h){const S=ze();st(S,new Qt(S,h))}kn.Ma="timingevent";function Le(h,S){ee.call(this,kn.Ma,h),this.size=S}x(Le,ee);function sn(h,S){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},S)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Mr(h,S,k,F,G,J){h.info(function(){if(h.g)if(J)for(var ge="",ht=J.split("&"),Yt=0;Yt<ht.length;Yt++){var rt=ht[Yt].split("=");if(1<rt.length){var mt=rt[0];rt=rt[1];var Mt=mt.split("_");ge=2<=Mt.length&&Mt[1]=="type"?ge+(mt+"="+rt+"&"):ge+(mt+"=redacted&")}}else ge=null;else ge=J;return"XMLHTTP REQ ("+F+") [attempt "+G+"]: "+S+`
`+k+`
`+ge})}function Ce(h,S,k,F,G,J,ge){h.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+G+"]: "+S+`
`+k+`
`+J+" "+ge})}function Zi(h,S,k,F){h.info(function(){return"XMLHTTP TEXT ("+S+"): "+ah(h,k)+(F?" "+F:"")})}function oh(h,S){h.info(function(){return"TIMEOUT: "+S})}An.prototype.info=function(){};function ah(h,S){if(!h.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(h=0;h<k.length;h++)if(Array.isArray(k[h])){var F=k[h];if(!(2>F.length)){var G=F[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return Tn(k)}catch{return S}}var Go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ga;function Xr(){}x(Xr,Rr),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Ga=new Xr;function ei(h,S,k,F){this.j=h,this.i=S,this.l=k,this.R=F||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lh}function lh(){this.i=null,this.g="",this.h=!1}var uh={},Vu={};function Fu(h,S,k){h.L=1,h.v=Or(Bt(S)),h.m=k,h.P=!0,zu(h,null)}function zu(h,S){h.F=Date.now(),Za(h),h.A=Bt(h.v);var k=h.A,F=h.R;Array.isArray(F)||(F=[String(F)]),hh(k.i,"t",F),h.C=0,k=h.j.J,h.h=new lh,h.g=_h(h.j,k?S:null,!h.m),0<h.O&&(h.M=new Wn(y(h.Y,h,h.g),h.O)),S=h.U,k=h.g,F=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(rn[0]=G.toString()),G=rn);for(var J=0;J<G.length;J++){var ge=Ct(k,G[J],F||S.handleEvent,!1,S.h||S);if(!ge)break;S.g[ge.key]=ge}S=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,S)):(h.u="GET",h.g.ea(h.A,h.u,null,S)),zt(),Mr(h.i,h.u,h.A,h.l,h.R,h.m)}ei.prototype.ca=function(h){h=h.target;const S=this.M;S&&Zn(h)==3?S.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)e:{const Mt=Zn(this.g);var S=this.g.Ba();const Fs=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Mt!=4||S==7||(S==8||0>=Fs?zt(3):zt(2)),Bu(this);var k=this.g.Z();this.X=k;t:if(ch(this)){var F=nc(this.g);h="";var G=F.length,J=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),qo(this);var ge="";break t}this.h.i=new l.TextDecoder}for(S=0;S<G;S++)this.h.h=!0,h+=this.h.i.decode(F[S],{stream:!(J&&S==G-1)});F.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=k==200,Ce(this.i,this.u,this.A,this.l,this.R,Mt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Yt=this.g;if((ht=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(ht)){var rt=ht;break t}}rt=null}if(k=rt)Zi(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zo(this,k);else{this.o=!1,this.s=3,lt(12),Ki(this),qo(this);break e}}if(this.P){k=!0;let Wt;for(;!this.J&&this.C<ge.length;)if(Wt=qa(this,ge),Wt==Vu){Mt==4&&(this.s=4,lt(14),k=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==uh){this.s=4,lt(15),Zi(this.i,this.l,ge,"[Invalid Chunk]"),k=!1;break}else Zi(this.i,this.l,Wt,null),Zo(this,Wt);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ge.length!=0||this.h.h||(this.s=1,lt(16),k=!1),this.o=this.o&&k,!k)Zi(this.i,this.l,ge,"[Invalid Chunked Response]"),Ki(this),qo(this);else if(0<ge.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),rl(mt),mt.M=!0,lt(11))}}else Zi(this.i,this.l,ge,null),Zo(this,ge);Mt==4&&Ki(this),this.o&&!this.J&&(Mt==4?ic(this.j,this):(this.o=!1,Za(this)))}else ag(this.g),k==400&&0<ge.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Ki(this),qo(this)}}}catch{}finally{}};function ch(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qa(h,S){var k=h.C,F=S.indexOf(`
`,k);return F==-1?Vu:(k=Number(S.substring(k,F)),isNaN(k)?uh:(F+=1,F+k>S.length?Vu:(S=S.slice(F,F+k),h.C=F+k,S)))}ei.prototype.cancel=function(){this.J=!0,Ki(this)};function Za(h){h.S=Date.now()+h.I,dh(h,h.I)}function dh(h,S){if(h.B!=null)throw Error("WatchDog timer not null");h.B=sn(y(h.ba,h),S)}function Bu(h){h.B&&(l.clearTimeout(h.B),h.B=null)}ei.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(oh(this.i,this.A),this.L!=2&&(zt(),lt(17)),Ki(this),this.s=2,qo(this)):dh(this,this.S-h)};function qo(h){h.j.G==0||h.J||ic(h.j,h)}function Ki(h){Bu(h);var S=h.M;S&&typeof S.ma=="function"&&S.ma(),h.M=null,dn(h.U),h.g&&(S=h.g,h.g=null,S.abort(),S.ma())}function Zo(h,S){try{var k=h.j;if(k.G!=0&&(k.g==h||Xe(k.h,h))){if(!h.K&&Xe(k.h,h)&&k.G==3){try{var F=k.Da.g.parse(S)}catch{F=null}if(Array.isArray(F)&&F.length==3){var G=F;if(G[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<h.F)sl(k),tl(k);else break e;nl(k),lt(18)}}else k.za=G[1],0<k.za-k.T&&37500>G[2]&&k.F&&k.v==0&&!k.C&&(k.C=sn(y(k.Za,k),6e3));if(1>=Ms(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else es(k,11)}else if((h.K||k.g==h)&&sl(k),!C(S))for(G=k.Da.g.parse(S),S=0;S<G.length;S++){let rt=G[S];if(k.T=rt[0],rt=rt[1],k.G==2)if(rt[0]=="c"){k.K=rt[1],k.ia=rt[2];const mt=rt[3];mt!=null&&(k.la=mt,k.j.info("VER="+k.la));const Mt=rt[4];Mt!=null&&(k.Aa=Mt,k.j.info("SVER="+k.Aa));const Fs=rt[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(F=1.5*Fs,k.L=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const Wt=h.g;if(Wt){const al=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var J=F.h;J.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(vt(J,J.h),J.h=null))}if(F.D){const Li=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(F.ya=Li,Ne(F.I,F.D,Li))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-h.F,k.j.info("Handshake RTT: "+k.R+"ms")),F=k;var ge=h;if(F.qa=ol(F,F.J?F.ia:null,F.W),ge.K){Qo(F.h,ge);var ht=ge,Yt=F.L;Yt&&(ht.I=Yt),ht.B&&(Bu(ht),Za(ht)),F.g=ge}else ri(F);0<k.i.length&&Vs(k)}else rt[0]!="stop"&&rt[0]!="close"||es(k,7);else k.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?es(k,7):el(k):rt[0]!="noop"&&k.l&&k.l.ta(rt),k.v=0)}}zt(4)}catch{}}var Ko=class{constructor(h,S){this.g=h,this.map=S}};function Uu(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $u(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ms(h){return h.h?1:h.g?h.g.size:0}function Xe(h,S){return h.h?h.h==S:h.g?h.g.has(S):!1}function vt(h,S){h.g?h.g.add(S):h.h=S}function Qo(h,S){h.h&&h.h==S?h.h=null:h.g&&h.g.has(S)&&h.g.delete(S)}Uu.prototype.cancel=function(){if(this.i=Qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Qi(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let S=h.i;for(const k of h.g.values())S=S.concat(k.D);return S}return b(h.i)}function Ns(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(u(h)){for(var S=[],k=h.length,F=0;F<k;F++)S.push(h[F]);return S}S=[],k=0;for(F in h)S[k++]=h[F];return S}function Hu(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(u(h)||typeof h=="string"){var S=[];h=h.length;for(var k=0;k<h;k++)S.push(k);return S}S=[],k=0;for(const F in h)S[k++]=F;return S}}}function Ve(h,S){if(h.forEach&&typeof h.forEach=="function")h.forEach(S,void 0);else if(u(h)||typeof h=="string")Array.prototype.forEach.call(h,S,void 0);else for(var k=Hu(h),F=Ns(h),G=F.length,J=0;J<G;J++)S.call(void 0,F[J],k&&k[J],h)}var Tt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(h,S){if(h){h=h.split("&");for(var k=0;k<h.length;k++){var F=h[k].indexOf("="),G=null;if(0<=F){var J=h[k].substring(0,F);G=h[k].substring(F+1)}else J=h[k];S(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Nr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Nr){this.h=h.h,Ka(this,h.j),this.o=h.o,this.g=h.g,Yi(this,h.s),this.l=h.l;var S=h.i,k=new Ji;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),Si(this,k),this.m=h.m}else h&&(S=String(h).match(Tt))?(this.h=!1,Ka(this,S[1]||"",!0),this.o=ti(S[2]||""),this.g=ti(S[3]||"",!0),Yi(this,S[4]),this.l=ti(S[5]||"",!0),Si(this,S[6]||"",!0),this.m=ti(S[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Nr.prototype.toString=function(){var h=[],S=this.j;S&&h.push(ni(S,Os,!0),":");var k=this.g;return(k||S=="file")&&(h.push("//"),(S=this.o)&&h.push(ni(S,Os,!0),"@"),h.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&h.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&h.push("/"),h.push(ni(k,k.charAt(0)=="/"?Zu:qu,!0))),(k=this.i.toString())&&h.push("?",k),(k=this.m)&&h.push("#",ni(k,Ku)),h.join("")};function Bt(h){return new Nr(h)}function Ka(h,S,k){h.j=k?ti(S,!0):S,h.j&&(h.j=h.j.replace(/:$/,""))}function Yi(h,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);h.s=S}else h.s=null}function Si(h,S,k){S instanceof Ji?(h.i=S,Dr(h.i,h.h)):(k||(S=ni(S,Qa)),h.i=new Ji(S,h.h))}function Ne(h,S,k){h.i.set(S,k)}function Or(h){return Ne(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ti(h,S){return h?S?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ni(h,S,k){return typeof h=="string"?(h=encodeURI(h).replace(S,Gu),k&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Gu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Os=/[#\/\?@]/g,qu=/[#\?:]/g,Zu=/[#\?]/g,Qa=/[#\?@]/g,Ku=/#/g;function Ji(h,S){this.h=this.g=null,this.i=h||null,this.j=!!S}function yr(h){h.g||(h.g=new Map,h.h=0,h.i&&Wu(h.i,function(S,k){h.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=Ji.prototype,t.add=function(h,S){yr(this),this.i=null,h=ke(this,h);var k=this.g.get(h);return k||this.g.set(h,k=[]),k.push(S),this.h+=1,this};function Qu(h,S){yr(h),S=ke(h,S),h.g.has(S)&&(h.i=null,h.h-=h.g.get(S).length,h.g.delete(S))}function Ya(h,S){return yr(h),S=ke(h,S),h.g.has(S)}t.forEach=function(h,S){yr(this),this.g.forEach(function(k,F){k.forEach(function(G){h.call(S,G,F,this)},this)},this)},t.na=function(){yr(this);const h=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let F=0;F<S.length;F++){const G=h[F];for(let J=0;J<G.length;J++)k.push(S[F])}return k},t.V=function(h){yr(this);let S=[];if(typeof h=="string")Ya(this,h)&&(S=S.concat(this.g.get(ke(this,h))));else{h=Array.from(this.g.values());for(let k=0;k<h.length;k++)S=S.concat(h[k])}return S},t.set=function(h,S){return yr(this),this.i=null,h=ke(this,h),Ya(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[S]),this.h+=1,this},t.get=function(h,S){return h?(h=this.V(h),0<h.length?String(h[0]):S):S};function hh(h,S,k){Qu(h,S),0<k.length&&(h.i=null,h.g.set(ke(h,S),b(k)),h.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var F=S[k];const J=encodeURIComponent(String(F)),ge=this.V(F);for(F=0;F<ge.length;F++){var G=J;ge[F]!==""&&(G+="="+encodeURIComponent(String(ge[F]))),h.push(G)}}return this.i=h.join("&")};function ke(h,S){return S=String(S),h.j&&(S=S.toLowerCase()),S}function Dr(h,S){S&&!h.j&&(yr(h),h.i=null,h.g.forEach(function(k,F){var G=F.toLowerCase();F!=G&&(Qu(this,F),hh(this,G,k))},h)),h.j=S}function pt(h,S){const k=new An;if(l.Image){const F=new Image;F.onload=_(jr,k,"TestLoadImage: loaded",!0,S,F),F.onerror=_(jr,k,"TestLoadImage: error",!1,S,F),F.onabort=_(jr,k,"TestLoadImage: abort",!1,S,F),F.ontimeout=_(jr,k,"TestLoadImage: timeout",!1,S,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=h}else S(!1)}function fh(h,S){const k=new An,F=new AbortController,G=setTimeout(()=>{F.abort(),jr(k,"TestPingServer: timeout",!1,S)},1e4);fetch(h,{signal:F.signal}).then(J=>{clearTimeout(G),J.ok?jr(k,"TestPingServer: ok",!0,S):jr(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(G),jr(k,"TestPingServer: error",!1,S)})}function jr(h,S,k,F,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),F(k)}catch{}}function Yu(){this.g=new Ln}function Ju(h,S,k){const F=k||"";try{Ve(h,function(G,J){let ge=G;d(G)&&(ge=Tn(G)),S.push(F+J+"="+encodeURIComponent(ge))})}catch(G){throw S.push(F+"type="+encodeURIComponent("_badmap")),G}}function Vr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Vr,Rr),Vr.prototype.g=function(){return new Ds(this.l,this.j)},Vr.prototype.i=function(h){return function(){return h}}({});function Ds(h,S){We.call(this),this.D=h,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ds,We),t=Ds.prototype,t.open=function(h,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=S,this.readyState=1,_r(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(S.body=h),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rt(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var S=h.value?h.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!h.done}))&&(this.response=this.responseText+=S)}h.done?Rt(this):_r(this),this.readyState==3&&js(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Rt(this))},t.Qa=function(h){this.g&&(this.response=h,Rt(this))},t.ga=function(){this.g&&Rt(this)};function Rt(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_r(h)}t.setRequestHeader=function(h,S){this.u.append(h,S)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,h.push(k[0]+": "+k[1]),k=S.next();return h.join(`\r
`)};function _r(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xu(h){let S="";return z(h,function(k,F){S+=F,S+=":",S+=k,S+=`\r
`}),S}function Ja(h,S,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=Xu(k),typeof h=="string"?k!=null&&encodeURIComponent(String(k)):Ne(h,S,k))}function Lt(h){We.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Lt,We);var ph=/^https?$/i,ec=["POST","PUT"];t=Lt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,S,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);S=S?S.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ga.g(),this.v=this.o?qn(this.o):qn(Ga),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(h),!0),this.B=!1}catch(J){mh(this,J);return}if(h=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var G in F)k.set(G,F[G]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const J of F.keys())k.set(J,F.get(J));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ec,S,void 0))||F||G||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of k)this.g.setRequestHeader(J,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{or(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){mh(this,J)}};function mh(h,S){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=S,h.m=5,tc(h),Xa(h)}function tc(h){h.A||(h.A=!0,st(h,"complete"),st(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,st(this,"complete"),st(this,"abort"),Xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xa(this,!0)),Lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ke(this):this.bb())},t.bb=function(){Ke(this)};function Ke(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Zn(h)!=4||h.Z()!=2)){if(h.u&&Zn(h)==4)Hn(h.Ea,0,h);else if(st(h,"readystatechange"),Zn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var F;if(F=ge===0){var G=String(h.D).match(Tt)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),F=!ph.test(G?G.toLowerCase():"")}k=F}if(k)st(h,"complete"),st(h,"success");else{h.m=6;try{var J=2<Zn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",tc(h)}}finally{Xa(h)}}}}function Xa(h,S){if(h.g){or(h);const k=h.g,F=h.v[0]?()=>{}:null;h.g=null,h.v=null,S||st(h,"ready");try{k.onreadystatechange=F}catch{}}}function or(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Zn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var S=this.g.responseText;return h&&S.indexOf(h)==0&&(S=S.substring(h.length)),Gn(S)}};function nc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(h){const S={};h=(h.g&&2<=Zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<h.length;F++){if(C(h[F]))continue;var k=V(h[F]);const G=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const J=S[G]||[];S[G]=J,J.push(k)}A(S,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(h,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[h]||S}function gh(h){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,h),this.cb=Xi("retryDelaySeedMs",1e4,h),this.Wa=Xi("forwardChannelMaxRetries",2,h),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Uu(h&&h.concurrentRequestLimit),this.Da=new Yu,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gh.prototype,t.la=8,t.G=1,t.connect=function(h,S,k,F){lt(0),this.W=h,this.H=S||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.I=ol(this,null,this.W),Vs(this)};function el(h){if(vh(h),h.G==3){var S=h.U++,k=Bt(h.I);if(Ne(k,"SID",h.K),Ne(k,"RID",S),Ne(k,"TYPE","terminate"),Yo(h,k),S=new ei(h,h.j,S),S.L=2,S.v=Or(Bt(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=S.v,k=!0),k||(S.g=_h(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Za(S)}yh(h)}function tl(h){h.g&&(rl(h),h.g.cancel(),h.g=null)}function vh(h){tl(h),h.u&&(l.clearTimeout(h.u),h.u=null),sl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function Vs(h){if(!$u(h.h)&&!h.s){h.s=!0;var S=h.Ga;he||Z(),H||(he(),H=!0),K.add(S,h),h.B=0}}function lg(h,S){return Ms(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=S.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=sn(y(h.Ga,h,S),sc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new ei(this,this.j,h);let J=this.o;if(this.S&&(J?(J=R(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(S+=F,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=rc(this,G,S),k=Bt(this.I),Ne(k,"RID",h),Ne(k,"CVER",22),this.D&&Ne(k,"X-HTTP-Session-Id",this.D),Yo(this,k),J&&(this.O?S="headers="+encodeURIComponent(String(Xu(J)))+"&"+S:this.m&&Ja(k,this.m,J)),vt(this.h,G),this.Ua&&Ne(k,"TYPE","init"),this.P?(Ne(k,"$req",S),Ne(k,"SID","null"),G.T=!0,Fu(G,k,null)):Fu(G,k,S),this.G=2}}else this.G==3&&(h?wr(this,h):this.i.length==0||$u(this.h)||wr(this))};function wr(h,S){var k;S?k=S.l:k=h.U++;const F=Bt(h.I);Ne(F,"SID",h.K),Ne(F,"RID",k),Ne(F,"AID",h.T),Yo(h,F),h.m&&h.o&&Ja(F,h.m,h.o),k=new ei(h,h.j,k,h.B+1),h.m===null&&(k.H=h.o),S&&(h.i=S.D.concat(h.i)),S=rc(h,k,1e3),k.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),vt(h.h,k),Fu(k,F,S)}function Yo(h,S){h.H&&z(h.H,function(k,F){Ne(S,F,k)}),h.l&&Ve({},function(k,F){Ne(S,F,k)})}function rc(h,S,k){k=Math.min(h.i.length,k);var F=h.l?y(h.l.Na,h.l,h):null;e:{var G=h.i;let J=-1;for(;;){const ge=["count="+k];J==-1?0<k?(J=G[0].g,ge.push("ofs="+J)):J=0:ge.push("ofs="+J);let ht=!0;for(let Yt=0;Yt<k;Yt++){let rt=G[Yt].g;const mt=G[Yt].map;if(rt-=J,0>rt)J=Math.max(0,G[Yt].g-100),ht=!1;else try{Ju(mt,ge,"req"+rt+"_")}catch{F&&F(mt)}}if(ht){F=ge.join("&");break e}}}return h=h.i.splice(0,k),S.D=h,F}function ri(h){if(!h.g&&!h.u){h.Y=1;var S=h.Fa;he||Z(),H||(he(),H=!0),K.add(S,h),h.v=0}}function nl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=sn(y(h.Fa,h),sc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,il(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=sn(y(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),tl(this),il(this))};function rl(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function il(h){h.g=new ei(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var S=Bt(h.qa);Ne(S,"RID","rpc"),Ne(S,"SID",h.K),Ne(S,"AID",h.T),Ne(S,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ne(S,"TO",h.ja),Ne(S,"TYPE","xmlhttp"),Yo(h,S),h.m&&h.o&&Ja(S,h.m,h.o),h.L&&(h.g.I=h.L);var k=h.g;h=h.ia,k.L=1,k.v=Or(Bt(S)),k.m=null,k.P=!0,zu(k,h)}t.Za=function(){this.C!=null&&(this.C=null,tl(this),nl(this),lt(19))};function sl(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function ic(h,S){var k=null;if(h.g==S){sl(h),rl(h),h.g=null;var F=2}else if(Xe(h.h,S))k=S.D,Qo(h.h,S),F=1;else return;if(h.G!=0){if(S.o)if(F==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var G=h.B;F=ze(),st(F,new Le(F,k)),Vs(h)}else ri(h);else if(G=S.s,G==3||G==0&&0<S.X||!(F==1&&lg(h,S)||F==2&&nl(h)))switch(k&&0<k.length&&(S=h.h,S.i=S.i.concat(k)),G){case 1:es(h,5);break;case 4:es(h,10);break;case 3:es(h,6);break;default:es(h,2)}}}function sc(h,S){let k=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(k*=2),k*S}function es(h,S){if(h.j.info("Error code "+S),S==2){var k=y(h.fb,h),F=h.Xa;const G=!F;F=new Nr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ka(F,"https"),Or(F),G?pt(F.toString(),k):fh(F.toString(),k)}else lt(2);h.G=0,h.l&&h.l.sa(S),yh(h),vh(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function yh(h){if(h.G=0,h.ka=[],h.l){const S=Qi(h.h);(S.length!=0||h.i.length!=0)&&(T(h.ka,S),T(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function ol(h,S,k){var F=k instanceof Nr?Bt(k):new Nr(k);if(F.g!="")S&&(F.g=S+"."+F.g),Yi(F,F.s);else{var G=l.location;F=G.protocol,S=S?S+"."+G.hostname:G.hostname,G=+G.port;var J=new Nr(null);F&&Ka(J,F),S&&(J.g=S),G&&Yi(J,G),k&&(J.l=k),F=J}return k=h.D,S=h.ya,k&&S&&Ne(F,k,S),Ne(F,"VER",h.la),Yo(h,F),F}function _h(h,S,k){if(S&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=h.Ca&&!h.pa?new Lt(new Vr({eb:k})):new Lt(h.pa),S.Ha(h.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}t=oc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jo(){}Jo.prototype.g=function(h,S){return new hn(h,S)};function hn(h,S){We.call(this),this.g=new gh(S),this.l=h,this.h=S&&S.messageUrlParams||null,h=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(h?h["X-WebChannel-Content-Type"]=S.messageContentType:h={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(h?h["X-WebChannel-Client-Profile"]=S.va:h={"X-WebChannel-Client-Profile":S.va}),this.g.S=h,(h=S&&S.Sb)&&!C(h)&&(this.g.m=h),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!C(S)&&(this.g.D=S,h=this.h,h!==null&&S in h&&(h=this.h,S in h&&delete h[S])),this.j=new Fr(this)}x(hn,We),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){el(this.g)},hn.prototype.o=function(h){var S=this.g;if(typeof h=="string"){var k={};k.__data__=h,h=k}else this.u&&(k={},k.__data__=Tn(h),h=k);S.i.push(new Ko(S.Ya++,h)),S.G==3&&Vs(S)},hn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,hn.aa.N.call(this)};function Ti(h){In.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var S=h.__sm__;if(S){e:{for(const k in S){h=k;break e}h=void 0}(this.i=h)&&(h=this.i,S=S!==null&&h in S?S[h]:void 0),this.data=S}else this.data=h}x(Ti,In);function wh(){Ft.call(this),this.status=1}x(wh,Ft);function Fr(h){this.g=h}x(Fr,oc),Fr.prototype.ua=function(){st(this.g,"a")},Fr.prototype.ta=function(h){st(this.g,new Ti(h))},Fr.prototype.sa=function(h){st(this.g,new wh)},Fr.prototype.ra=function(){st(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Gk=function(){return new Jo},Wk=function(){return ze()},Hk=kn,zy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,Nf=Go,Wa.COMPLETE="complete",$k=Wa,vr.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",We.prototype.listen=We.prototype.K,Rc=vr,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Uk=Lt}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",jE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new C0("@firebase/firestore");function fl(){return Aa.logLevel}function xe(t,...e){if(Aa.logLevel<=et.DEBUG){const n=e.map(Z0);Aa.debug(`Firestore (${ku}): ${t}`,...n)}}function Ts(t,...e){if(Aa.logLevel<=et.ERROR){const n=e.map(Z0);Aa.error(`Firestore (${ku}): ${t}`,...n)}}function du(t,...e){if(Aa.logLevel<=et.WARN){const n=e.map(Z0);Aa.warn(`Firestore (${ku}): ${t}`,...n)}}function Z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${ku}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function dt(t,e){t||Me()}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class n9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r9{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new jn(e)}}class i9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class s9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o9{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0);const r=s=>{s.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new VE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new VE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=a9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function By(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return He(r,i);{const s=Zk(),o=l9(s.encode(FE(t,n)),s.encode(FE(e,n)));return o!==0?o:He(r,i)}}n+=r>65535?2:1}return He(t.length,e.length)}function FE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function l9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return He(t[n],e[n]);return He(t.length,e.length)}function hu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-62135596800,BE=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new ln(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zE)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new ln(0,0))}static max(){return new Oe(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__name__";class Ai{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ai.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return He(e.length,n.length)}static compareSegments(e,n){const r=Ai.isNumericId(e),i=Ai.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):By(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class bt extends Ai{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const u9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Ai{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return u9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UE}static keyField(){return new wn([UE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new be(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new be(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(bt.fromString(e))}static fromName(e){return new Pe(bt.fromString(e).popFirst(5))}static empty(){return new Pe(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=-1;function c9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new Oo(i,Pe.empty(),e)}function d9(t){return new Oo(t.readTime,t.key,Id)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(Oe.min(),Pe.empty(),Id)}static max(){return new Oo(Oe.max(),Pe.empty(),Id)}}function h9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==f9)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function m9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Um.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-1;function $m(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function g9(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="";function v9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$E(e)),e=y9(t.get(n),e);return $E(e)}function y9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Qk:n+="";break;default:n+=s}}return n}function $E(t){return t+Qk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_n.RED,this.left=i??_n.EMPTY,this.right=s??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _n(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new un(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jk("Invalid base64 string: "+s):s}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const _9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(dt(!!t),typeof t=="string"){let e=0;const n=_9.exec(t);if(dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function Q0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eA])===null||n===void 0?void 0:n.stringValue)===Xk}function Hm(t){const e=t.mapValue.fields[tA];return Q0(e)?Hm(e):e}function kd(t){const e=Do(t.mapValue.fields[nA].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,r,i,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}const Ap="(default)";class Ad{constructor(e,n){this.projectId=e,this.database=n||Ap}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="__type__",x9="__max__",sf={mapValue:{}},iA="__vector__",Rp="value";function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q0(t)?4:E9(t)?9007199254740991:b9(t)?10:11:Me()}function Hi(t,e){if(t===e)return!0;const n=Vo(t);if(n!==Vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kd(t).isEqual(kd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Do(i.timestampValue),l=Do(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jo(i.bytesValue).isEqual(jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Gt(i.geoPointValue.latitude)===Gt(s.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gt(i.integerValue)===Gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Gt(i.doubleValue),l=Gt(s.doubleValue);return o===l?kp(o)===kp(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(HE(o)!==HE(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Hi(o[u],l[u])))return!1;return!0}(t,e);default:return Me()}}function Rd(t,e){return(t.values||[]).find(n=>Hi(n,e))!==void 0}function fu(t,e){if(t===e)return 0;const n=Vo(t),r=Vo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Gt(s.integerValue||s.doubleValue),u=Gt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(kd(t),kd(e));case 5:return By(t.stringValue,e.stringValue);case 6:return function(s,o){const l=jo(s),u=jo(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=He(l[d],u[d]);if(f!==0)return f}return He(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=He(Gt(s.latitude),Gt(o.latitude));return l!==0?l:He(Gt(s.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,d,f;const m=s.fields||{},y=o.fields||{},_=(l=m[Rp])===null||l===void 0?void 0:l.arrayValue,x=(u=y[Rp])===null||u===void 0?void 0:u.arrayValue,b=He(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0);return b!==0?b:qE(_,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===sf.mapValue&&o===sf.mapValue)return 0;if(s===sf.mapValue)return 1;if(o===sf.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const y=By(u[m],f[m]);if(y!==0)return y;const _=fu(l[u[m]],d[f[m]]);if(_!==0)return _}return He(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Me()}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Do(t),r=Do(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function qE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=fu(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function pu(t){return Uy(t)}function Uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Uy(n.fields[o])}`;return i+"}"}(t.mapValue):Me()}function Of(t){switch(Vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(t);return e?16+Of(e):16;case 5:return 2*t.stringValue.length;case 6:return jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Of(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Va(r.fields,(s,o)=>{i+=s.length+Of(o)}),i}(t.mapValue);default:throw Me()}}function ZE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $y(t){return!!t&&"integerValue"in t}function Y0(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function b9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rA])===null||n===void 0?void 0:n.stringValue)===iA}function Zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Zc(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Va(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wr(Zc(this.value))}}function sA(t){const e=[];return Va(t.fields,(n,r)=>{const i=new wn([n]);if(Df(r)){const s=sA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Fn(e,0,Oe.min(),Oe.min(),Oe.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,Oe.min(),Oe.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,Oe.min(),Oe.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.position=e,this.inclusive=n}}function YE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=fu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n="asc"){this.field=e,this.dir=n}}function C9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{}class tn extends oA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T9(e,n,r):n==="array-contains"?new I9(e,r):n==="in"?new k9(e,r):n==="not-in"?new A9(e,r):n==="array-contains-any"?new R9(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L9(e,r):new P9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fu(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends oA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ci(e,n)}matches(e){return aA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function aA(t){return t.op==="and"}function lA(t){return S9(t)&&aA(t)}function S9(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function Hy(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+pu(t.value);if(lA(t))return t.filters.map(e=>Hy(e)).join(",");{const e=t.filters.map(n=>Hy(n)).join(",");return`${t.op}(${e})`}}function uA(t,e){return t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)}(t,e):t instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&uA(o,i.filters[l]),!0):!1}(t,e):void Me()}function cA(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${pu(n.value)}`}(t):t instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(cA).join(" ,")+"}"}(t):"Filter"}class T9 extends tn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class L9 extends tn{constructor(e,n){super(e,"in",n),this.keys=dA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P9 extends tn{constructor(e,n){super(e,"not-in",n),this.keys=dA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class I9 extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y0(n)&&Rd(n.arrayValue,this.value)}}class k9 extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rd(this.value.arrayValue,n)}}class A9 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rd(this.value.arrayValue,n)}}class R9 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.le=null}}function XE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new M9(t,e,n,r,i,s,o)}function J0(t){const e=je(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pu(r)).join(",")),e.le=n}return e.le}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JE(t.startAt,e.startAt)&&JE(t.endAt,e.endAt)}function Wy(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N9(t,e,n,r,i,s,o,l){return new Mu(t,e,n,r,i,s,o,l)}function ew(t){return new Mu(t)}function eC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hA(t){return t.collectionGroup!==null}function Kc(t){const e=je(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new un(wn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Md(s,r))}),n.has(wn.keyField().canonicalString())||e.he.push(new Md(wn.keyField(),r))}return e.he}function Bi(t){const e=je(t);return e.Pe||(e.Pe=O9(e,Kc(t))),e.Pe}function O9(t,e){if(t.limitType==="F")return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Md(i.field,s)});const n=t.endAt?new Mp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mp(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gy(t,e){const n=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qy(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return X0(Bi(t),Bi(e))&&t.limitType===e.limitType}function fA(t){return`${J0(Bi(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cA(i)).join(", ")}]`),$m(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pu(i)).join(",")),`Target(${r})`}(Bi(t))}; limitType=${t.limitType})`}function Gm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Kc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const d=YE(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,Kc(r),i)||r.endAt&&!function(o,l,u){const d=YE(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,Kc(r),i))}(t,e)}function D9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pA(t){return(e,n)=>{let r=!1;for(const i of Kc(t)){const s=j9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function j9(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?fu(u,d):Me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Yk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new Vt(Pe.comparator);function Ls(){return V9}const mA=new Vt(Pe.comparator);function Mc(...t){let e=mA;for(const n of t)e=e.insert(n.key,n);return e}function gA(t){let e=mA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function da(){return Qc()}function vA(){return Qc()}function Qc(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const F9=new Vt(Pe.comparator),z9=new un(Pe.comparator);function tt(...t){let e=z9;for(const n of t)e=e.add(n);return e}const B9=new un(He);function U9(){return B9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function yA(t){return{integerValue:""+t}}function $9(t,e){return g9(e)?yA(e):tw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this._=void 0}}function H9(t,e,n){return t instanceof Np?function(i,s){const o={fields:{[eA]:{stringValue:Xk},[nA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Q0(s)&&(s=Hm(s)),s&&(o.fields[tA]=s),{mapValue:o}}(n,e):t instanceof Nd?wA(t,e):t instanceof Od?xA(t,e):function(i,s){const o=_A(i,s),l=tC(o)+tC(i.Ie);return $y(o)&&$y(i.Ie)?yA(l):tw(i.serializer,l)}(t,e)}function W9(t,e,n){return t instanceof Nd?wA(t,e):t instanceof Od?xA(t,e):n}function _A(t,e){return t instanceof Op?function(r){return $y(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Np extends qm{}class Nd extends qm{constructor(e){super(),this.elements=e}}function wA(t,e){const n=bA(e);for(const r of t.elements)n.some(i=>Hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Od extends qm{constructor(e){super(),this.elements=e}}function xA(t,e){let n=bA(e);for(const r of t.elements)n=n.filter(i=>!Hi(i,r));return{arrayValue:{values:n}}}class Op extends qm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tC(t){return Gt(t.integerValue||t.doubleValue)}function bA(t){return Y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nd&&i instanceof Nd||r instanceof Od&&i instanceof Od?hu(r.elements,i.elements,Hi):r instanceof Op&&i instanceof Op?Hi(r.Ie,i.Ie):r instanceof Np&&i instanceof Np}(t.transform,e.transform)}class q9{constructor(e,n){this.version=e,this.transformResults=n}}class vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zm{}function EA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SA(t.key,vs.none()):new th(t.key,t.data,vs.none());{const n=t.data,r=Wr.empty();let i=new un(wn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new za(t.key,r,new mi(i.toArray()),vs.none())}}function Z9(t,e,n){t instanceof th?function(i,s,o){const l=i.value.clone(),u=rC(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof za?function(i,s,o){if(!jf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=rC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(CA(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yc(t,e,n,r){return t instanceof th?function(s,o,l,u){if(!jf(s.precondition,o))return l;const d=s.value.clone(),f=iC(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof za?function(s,o,l,u){if(!jf(s.precondition,o))return l;const d=iC(s.fieldTransforms,u,o),f=o.data;return f.setAll(CA(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return jf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function K9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_A(r.transform,i||null);s!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,s))}return n||null}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hu(r,i,(s,o)=>G9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends Zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class za extends Zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rC(t,e,n){const r=new Map;dt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,W9(o,l,n[i]))}return r}function iC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,H9(s,o,e))}return r}class SA extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q9 extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=EA(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,r)=>nC(n,r))&&hu(this.baseMutations,e.baseMutations,(n,r)=>nC(n,r))}}class nw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length);let i=function(){return F9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new nw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,it;function e6(t){switch(t){case ie.OK:return Me();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Me()}}function TA(t){if(t===void 0)return Ts("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Xt.OK:return ie.OK;case Xt.CANCELLED:return ie.CANCELLED;case Xt.UNKNOWN:return ie.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ie.INTERNAL;case Xt.UNAVAILABLE:return ie.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ie.NOT_FOUND;case Xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Xt.ABORTED:return ie.ABORTED;case Xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Xt.DATA_LOSS:return ie.DATA_LOSS;default:return Me()}}(it=Xt||(Xt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new To([4294967295,4294967295],0);function sC(t){const e=Zk().encode(t),n=new Bk;return n.update(e),new Uint8Array(n.digest())}function oC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new To([n,r],0),new To([i,s],0)]}class rw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=To.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(t6)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=sC(e),[r,i]=oC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rw(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=sC(e),[r,i]=oC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Km(Oe.min(),i,new Vt(He),Ls(),tt())}}class nh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nh(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class LA{constructor(e,n){this.targetId=e,this.ge=n}}class PA{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aC{constructor(){this.pe=0,this.ye=lC(),this.we=Sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=tt(),n=tt(),r=tt();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me()}}),new nh(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=lC()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,dt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class n6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ls(),this.$e=of(),this.Ue=of(),this.Ke=new Vt(He)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Wy(s))if(r===0){const o=new Pe(s.path);this.ze(n,o,Fn.newNoDocument(o,Oe.min()))}else dt(r===1);else{const o=this.et(n);if(o!==r){const l=this.tt(e),u=l?this.nt(l,e,o):1;if(u!==0){this.Ye(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=jo(r).toUint8Array()}catch(u){if(u instanceof Jk)return du("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rw(o,i,s)}catch(u){return du(u instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const l=this.Xe(o);if(l){if(s.current&&Wy(l.target)){const u=new Pe(l.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,Fn.newNoDocument(u,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=tt();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Xe(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Km(e,n,this.Ke,this.Qe,r);return this.Qe=Ls(),this.$e=of(),this.Ue=of(),this.Ke=new Vt(He),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new aC,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new un(He),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new un(He),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new aC),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function of(){return new Vt(Pe.comparator)}function lC(){return new Vt(Pe.comparator)}const r6={asc:"ASCENDING",desc:"DESCENDING"},i6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s6={and:"AND",or:"OR"};class o6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zy(t,e){return t.useProto3Json||$m(e)?e:{value:e}}function Dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a6(t,e){return Dp(t,e.toTimestamp())}function Ui(t){return dt(!!t),Oe.fromTimestamp(function(n){const r=Do(n);return new ln(r.seconds,r.nanos)}(t))}function iw(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){const n=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kA(t){const e=bt.fromString(t);return dt(OA(e)),e}function Qy(t,e){return iw(t.databaseId,e.path)}function av(t,e){const n=kA(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(RA(n))}function AA(t,e){return iw(t.databaseId,e)}function l6(t){const e=kA(t);return e.length===4?bt.emptyPath():RA(e)}function Yy(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RA(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uC(t,e,n){return{name:Qy(t,e),fields:n.value.mapValue.fields}}function u6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(dt(f===void 0||typeof f=="string"),Sn.fromBase64String(f||"")):(dt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Sn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?ie.UNKNOWN:TA(d.code);return new be(f,d.message||"")}(o);n=new PA(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=av(t,r.document.name),s=Ui(r.document.updateTime),o=r.document.createTime?Ui(r.document.createTime):Oe.min(),l=new Wr({mapValue:{fields:r.document.fields}}),u=Fn.newFoundDocument(i,s,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Vf(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=av(t,r.document),s=r.readTime?Ui(r.readTime):Oe.min(),o=Fn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Vf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=av(t,r.document),s=r.removedTargetIds||[];n=new Vf([],s,i,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new X9(i,s),l=r.targetId;n=new LA(l,o)}}return n}function c6(t,e){let n;if(e instanceof th)n={update:uC(t,e.key,e.value)};else if(e instanceof SA)n={delete:Qy(t,e.key)};else if(e instanceof za)n={update:uC(t,e.key,e.data),updateMask:_6(e.fieldMask)};else{if(!(e instanceof Q9))return Me();n={verify:Qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Np)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Od)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Op)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw Me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:a6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me()}(t,e.precondition)),n}function d6(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ui(i.updateTime):Ui(s);return o.isEqual(Oe.min())&&(o=Ui(s)),new q9(o,i.transformResults||[])}(n,e))):[]}function h6(t,e){return{documents:[AA(t,e.path)]}}function f6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AA(t,i);const s=function(d){if(d.length!==0)return NA(Ci.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:ml(y.field),direction:g6(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Zy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:n,parent:i}}function p6(t){let e=l6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const y=MA(m);return y instanceof Ci&&lA(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(y=>function(x){return new Md(gl(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(m){let y;return y=typeof m=="object"?m.value:m,$m(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(m){const y=!!m.before,_=m.values||[];return new Mp(_,y)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const y=!m.before,_=m.values||[];return new Mp(_,y)}(n.endAt)),N9(e,i,o,s,l,"F",u,d)}function m6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gl(n.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gl(n.unaryFilter.field);return tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gl(n.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(n){return tn.create(gl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(r=>MA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(t):Me()}function g6(t){return r6[t]}function v6(t){return i6[t]}function y6(t){return s6[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return wn.fromServerFormat(t.fieldPath)}function NA(t){return t instanceof tn?function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:v6(n.op),value:n.value}}}(t):t instanceof Ci?function(n){const r=n.getFilters().map(i=>NA(i));return r.length===1?r[0]:{compositeFilter:{op:y6(n.op),filters:r}}}(t):Me()}function _6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,i,s=Oe.min(),o=Oe.min(),l=Sn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.Tt=e}}function x6(t){const e=p6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.Tn=new E6}addToCollectionParentIndex(e,n){return this.Tn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Oo.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class E6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(DA,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new mu(0)}static Kn(){return new mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="LruGarbageCollector",C6=1048576;function hC([t,e],[n,r]){const i=He(t,n);return i===0?He(e,r):i}class S6{constructor(e){this.Hn=e,this.buffer=new un(hC),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){xe(dC,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ru(n)?xe(dC,"Ignoring IndexedDB error during garbage collection: ",n):await Au(n)}await this.er(3e5)})}}class L6{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Um.ae);const r=new S6(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(cC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cC):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),fl()<=et.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function P6(t,e){return new L6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yc(r.mutation,i,mi.empty(),ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const i=da();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Mc();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Ls();const o=Qc(),l=function(){return Qc()}();return n.forEach((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof za)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Yc(f.mutation,d,f.mutation.getFieldMask(),ln.now())):o.set(d.key,mi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var m;return l.set(d,new k6(f,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Qc();let i=new Vt((o,l)=>o-l),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||mi.empty();f=l.applyToLocalView(d,f),r.set(u,f);const m=(i.get(l.batchId)||tt()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,m=vA();f.forEach(y=>{if(!s.has(y)){const _=EA(n.get(y),r.get(y));_!==null&&m.set(y,_),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(da());let l=Id,u=s;return o.next(d=>se.forEach(d,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?se.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,tt())).next(f=>({batchId:l,changes:gA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Mc();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,u=>{const d=function(m,y){return new Mu(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Fn.newInvalidDocument(f)))});let l=Mc();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&Yc(f.mutation,d,mi.empty(),ln.now()),Gm(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return se.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:x6(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.overlays=new Vt(Pe.comparator),this.Rr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=da(),s=n.length+1,o=new Pe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=da(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=da(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=i)););return se.resolve(l)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J9(n,r));let s=this.Rr.get(n);s===void 0&&(s=tt(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.Vr=new un(pn.mr),this.gr=new un(pn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new pn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Pe(new bt([])),r=new pn(n,e),i=new pn(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Pe(new bt([])),r=new pn(n,e),i=new pn(n,e+1);let s=tt();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Pe.comparator(e.key,n.key)||He(e.Cr,n.Cr)}static pr(e,n){return He(e.Cr,n.Cr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new un(pn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y9(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Mr=this.Mr.add(new pn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,n){return se.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?K0:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),i=new pn(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const l=this.Or(o.Cr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(He);return n.forEach(i=>{const s=new pn(i,0),o=new pn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],l=>{r=r.add(l.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const o=new pn(new Pe(s),0);let l=new un(He);return this.Mr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Cr)),!0)},o),se.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(n.mutations,i=>{const s=new pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new pn(n,0),i=this.Mr.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.kr=e,this.docs=function(){return new Vt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ls();const o=n.path,l=new Pe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||h9(d9(f),r)<=0||(i.has(f.key)||Gm(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Me()}qr(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j6(this)}getSize(e){return se.resolve(this.size)}}class j6 extends I6{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.persistence=e,this.Qr=new Fa(n=>J0(n),X0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new sw,this.targetCount=0,this.Kr=mu.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),se.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new mu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.zn(n),se.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Um(0),this.zr=!1,this.zr=!0,this.jr=new N6,this.referenceDelegate=e(this),this.Hr=new V6(this),this.indexManager=new b6,this.remoteDocumentCache=function(i){return new D6(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new w6(n),this.Yr=new R6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new O6(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new F6(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class F6 extends p9{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.ti=new sw,this.ni=null}static ri(e){return new ow(e)}get ii(){if(this.ni)return this.ni;throw Me()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),se.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const i=Pe.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return se.or([()=>se.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class jp{constructor(e,n){this.persistence=e,this.oi=new Fa(r=>v9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=P6(this,n)}static ri(e,n){return new jp(e,n)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return se.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(l=>{l||(r++,s.removeEntry(o,Oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Of(e.data.value)),n}ar(e,n,r){return se.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=tt(),i=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new aw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tF()?8:m9($n())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new z6;return this._s(e,n,o).next(l=>{if(s.result=l,this.Xi)return this.us(e,n,o,l.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(fl()<=et.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(fl()<=et.DEBUG&&xe("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(fl()<=et.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):se.resolve())}rs(e,n){if(eC(n))return se.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qy(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tt(...s);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.cs(n,l);return this.ls(n,d,o,u.readTime)?this.rs(e,qy(n,null,"F")):this.hs(e,d,n,u)}))})))}ss(e,n,r,i){return eC(n)||i.isEqual(Oe.min())?se.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?se.resolve(null):(fl()<=et.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pl(n)),this.hs(e,o,n,c9(i,Id)).next(l=>l))})}cs(e,n){let r=new un(pA(e));return n.forEach((i,s)=>{Gm(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return fl()<=et.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",pl(n)),this.ns.getDocumentsMatchingQuery(e,n,Oo.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LocalStore",U6=3e8;class $6{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Vt(He),this.Is=new Fa(s=>J0(s),X0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function H6(t,e,n,r){return new $6(t,e,n,r)}async function VA(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=tt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Rs:d,removedBatchIds:o,addedBatchIds:l}))})})}function W6(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const m=d.batch,y=m.keys();let _=se.resolve();return y.forEach(x=>{_=_.next(()=>f.getEntry(u,x)).next(b=>{const T=d.docVersions.get(x);dt(T!==null),b.version.compareTo(T)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=tt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FA(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function G6(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const l=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;l.push(n.Hr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(s,f.addedDocuments,m)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(Sn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(m,_),function(b,T,E){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=U6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,_,f)&&l.push(n.Hr.updateTargetData(s,_))});let u=Ls(),d=tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(q6(s,o,e.documentUpdates).next(f=>{u=f.Vs,d=f.fs})),!r.isEqual(Oe.min())){const f=n.Hr.getLastRemoteSnapshotVersion(s).next(m=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return se.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.Ts=i,s))}function q6(t,e,n){let r=tt(),i=tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ls();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):xe(lw,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function Z6(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=K0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K6(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Jy(t,e,n){const r=je(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ru(o))throw o;xe(lw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function fC(t,e,n){const r=je(t);let i=Oe.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const m=je(u),y=m.Is.get(f);return y!==void 0?se.resolve(m.Ts.get(y)):m.Hr.getTargetData(d,f)}(r,o,Bi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?s:tt())).next(l=>(Q6(r,D9(e),l),{documents:l,gs:s})))}function Q6(t,e,n){let r=t.Es.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class pC{constructor(){this.activeTargetIds=U9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y6{constructor(){this.ho=new pC,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="ConnectivityMonitor";class gC{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){xe(mC,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){xe(mC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function Xy(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="RestConnection",X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e8{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=Xy(),l=this.bo(e,n.toUriEncodedString());xe(lv,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,l,u,r).then(d=>(xe(lv,`Received RPC '${e}' ${o}: `,d),d),d=>{throw du(lv,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",r),d})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ku}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=X6[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class n8 extends e8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Xy();return new Promise((o,l)=>{const u=new Uk;u.setWithCredentials(!0),u.listenOnce($k.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nf.NO_ERROR:const f=u.getResponseJson();xe(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Nf.TIMEOUT:xe(On,`RPC '${e}' ${s} timed out`),l(new be(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const m=u.getStatus();if(xe(On,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const x=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(E)>=0?E:ie.UNKNOWN}(_.status);l(new be(x,_.message))}else l(new be(ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new be(ie.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{xe(On,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);xe(On,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Wo(e,n,r){const i=Xy(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gk(),l=Wk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");xe(On,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);let y=!1,_=!1;const x=new t8({Fo:T=>{_?xe(On,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(xe(On,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),xe(On,`RPC '${e}' stream ${i} sending:`,T),m.send(T))},Mo:()=>m.close()}),b=(T,E,C)=>{T.listen(E,I=>{try{C(I)}catch(N){setTimeout(()=>{throw N},0)}})};return b(m,Rc.EventType.OPEN,()=>{_||(xe(On,`RPC '${e}' stream ${i} transport opened.`),x.Qo())}),b(m,Rc.EventType.CLOSE,()=>{_||(_=!0,xe(On,`RPC '${e}' stream ${i} transport closed`),x.Uo())}),b(m,Rc.EventType.ERROR,T=>{_||(_=!0,du(On,`RPC '${e}' stream ${i} transport errored:`,T),x.Uo(new be(ie.UNAVAILABLE,"The operation could not be completed")))}),b(m,Rc.EventType.MESSAGE,T=>{var E;if(!_){const C=T.data[0];dt(!!C);const I=C,N=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(N){xe(On,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let z=function(M){const D=Xt[M];if(D!==void 0)return TA(D)}(j),A=N.message;z===void 0&&(z=ie.INTERNAL,A="Unknown error status: "+j+" with message "+N.message),_=!0,x.Uo(new be(z,A)),m.close()}else xe(On,`RPC '${e}' stream ${i} received:`,C),x.Ko(C)}}),b(l,Hk.STAT_EVENT,T=>{T.stat===zy.PROXY?xe(On,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===zy.NOPROXY&&xe(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return new o6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="PersistentStream";class BA{constructor(e,n,r,i,s,o,l,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new be(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return xe(vC,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(xe(vC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r8 extends BA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=u6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Ui(o.readTime):Oe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Yy(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Wy(u)?{documents:h6(s,u)}:{query:f6(s,u).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=IA(s,o.resumeToken);const d=Zy(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=Dp(s,o.snapshotVersion.toTimestamp());const d=Zy(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=m6(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Yy(this.serializer),n.removeTarget=e,this.I_(n)}}class i8 extends BA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=d6(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Yy(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c6(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{}class o8 extends s8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Ky(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ie.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,Ky(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ie.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class a8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ts(n),this.N_=!1):xe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class l8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Ba(this)&&(xe(Ra,"Restarting streams for network reachability change."),await async function(u){const d=je(u);d.W_.add(4),await rh(d),d.j_.set("Unknown"),d.W_.delete(4),await Ym(d)}(this))})}),this.j_=new a8(r,i)}}async function Ym(t){if(Ba(t))for(const e of t.G_)await e(!0)}async function rh(t){for(const e of t.G_)await e(!1)}function UA(t,e){const n=je(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),hw(n)?dw(n):Nu(n).c_()&&cw(n,e))}function uw(t,e){const n=je(t),r=Nu(n);n.K_.delete(e),r.c_()&&$A(n,e),n.K_.size===0&&(r.c_()?r.P_():Ba(n)&&n.j_.set("Unknown"))}function cw(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).y_(e)}function $A(t,e){t.H_.Ne(e),Nu(t).w_(e)}function dw(t){t.H_=new n6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.j_.B_()}function hw(t){return Ba(t)&&!Nu(t).u_()&&t.K_.size>0}function Ba(t){return je(t).W_.size===0}function HA(t){t.H_=void 0}async function u8(t){t.j_.set("Online")}async function c8(t){t.K_.forEach((e,n)=>{cw(t,e)})}async function d8(t,e){HA(t),hw(t)?(t.j_.q_(e),dw(t)):t.j_.set("Unknown")}async function h8(t,e,n){if(t.j_.set("Online"),e instanceof PA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(r){xe(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vp(t,r)}else if(e instanceof Vf?t.H_.We(e):e instanceof LA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Oe.min()))try{const r=await FA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.H_.ot(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.K_.get(d);f&&s.K_.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=s.K_.get(u);if(!f)return;s.K_.set(u,f.withResumeToken(Sn.EMPTY_BYTE_STRING,f.snapshotVersion)),$A(s,u);const m=new ho(f.target,u,d,f.sequenceNumber);cw(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){xe(Ra,"Failed to raise snapshot:",r),await Vp(t,r)}}async function Vp(t,e,n){if(!Ru(e))throw e;t.W_.add(1),await rh(t),t.j_.set("Offline"),n||(n=()=>FA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(Ra,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Ym(t)})}function WA(t,e){return e().catch(n=>Vp(t,n,e))}async function Jm(t){const e=je(t),n=Fo(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:K0;for(;f8(e);)try{const i=await Z6(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,p8(e,i)}catch(i){await Vp(e,i)}GA(e)&&qA(e)}function f8(t){return Ba(t)&&t.U_.length<10}function p8(t,e){t.U_.push(e);const n=Fo(t);n.c_()&&n.S_&&n.b_(e.mutations)}function GA(t){return Ba(t)&&!Fo(t).u_()&&t.U_.length>0}function qA(t){Fo(t).start()}async function m8(t){Fo(t).C_()}async function g8(t){const e=Fo(t);for(const n of t.U_)e.b_(n.mutations)}async function v8(t,e,n){const r=t.U_.shift(),i=nw.from(r,e,n);await WA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jm(t)}async function y8(t,e){e&&Fo(t).S_&&await async function(r,i){if(function(o){return e6(o)&&o!==ie.ABORTED}(i.code)){const s=r.U_.shift();Fo(r).h_(),await WA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jm(r)}}(t,e),GA(t)&&qA(t)}async function yC(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),xe(Ra,"RemoteStore received new credentials");const r=Ba(n);n.W_.add(3),await rh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ym(n)}async function _8(t,e){const n=je(t);e?(n.W_.delete(2),await Ym(n)):e||(n.W_.add(2),await rh(n),n.j_.set("Unknown"))}function Nu(t){return t.J_||(t.J_=function(n,r,i){const s=je(n);return s.M_(),new r8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:u8.bind(null,t),No:c8.bind(null,t),Lo:d8.bind(null,t),p_:h8.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),hw(t)?dw(t):t.j_.set("Unknown")):(await t.J_.stop(),HA(t))})),t.J_}function Fo(t){return t.Y_||(t.Y_=function(n,r,i){const s=je(n);return s.M_(),new i8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:m8.bind(null,t),Lo:y8.bind(null,t),D_:g8.bind(null,t),v_:v8.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Jm(t)):(await t.Y_.stop(),t.U_.length>0&&(xe(Ra,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new fw(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pw(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),Ru(t))return new be(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.Z_=new Vt(Pe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Me():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gu{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new gu(e,n,$l.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class x8{constructor(){this.queries=wC(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=je(n),s=i.queries;i.queries=wC(),s.forEach((o,l)=>{for(const u of l.ta)u.onError(r)})})(this,new be(ie.ABORTED,"Firestore shutting down"))}}function wC(){return new Fa(t=>fA(t),Wm)}async function ZA(t,e){const n=je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new w8,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=pw(o,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&mw(n)}async function KA(t,e){const n=je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b8(t,e){const n=je(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.ta)l.oa(i)&&(r=!0);o.ea=i}}r&&mw(n)}function E8(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function mw(t){t.ia.forEach(e=>{e.next()})}var e_,xC;(xC=e_||(e_={}))._a="default",xC.Cache="cache";class QA{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==e_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.key=e}}class JA{constructor(e){this.key=e}}class C8{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=tt(),this.mutatedKeys=tt(),this.ya=pA(e),this.wa=new $l(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new _C,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),_=Gm(this.query,m)?m:null,x=!!y&&this.mutatedKeys.has(y.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;y&&_?y.data.isEqual(_.data)?x!==b&&(r.track({type:3,doc:_}),T=!0):this.va(y,_)||(r.track({type:2,doc:_}),T=!0,(u&&this.ya(_,u)>0||d&&this.ya(_,d)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),T=!0):y&&!_&&(r.track({type:1,doc:y}),T=!0,(u||d)&&(l=!0)),T&&(_?(o=o.add(_),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:l,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,m)=>function(_,x){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return b(_)-b(x)}(f.type,m.type)||this.ya(f.doc,m.doc)),this.Ca(r),i=i!=null&&i;const l=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,d=u!==this.ga;return this.ga=u,o.length!==0||d?{snapshot:new gu(this.query,e.wa,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _C,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new JA(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new YA(r))}),n}Oa(e){this.fa=e.gs,this.pa=tt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return gu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gw="SyncEngine";class S8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T8{constructor(e){this.key=e,this.Ba=!1}}class L8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Fa(l=>fA(l),Wm),this.qa=new Map,this.Qa=new Set,this.$a=new Vt(Pe.comparator),this.Ua=new Map,this.Ka=new sw,this.Wa={},this.Ga=new Map,this.za=mu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function P8(t,e,n=!0){const r=iR(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await XA(r,e,n,!0),i}async function I8(t,e){const n=iR(t);await XA(n,e,!0,!1)}async function XA(t,e,n,r){const i=await K6(t.localStore,Bi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await k8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&UA(t.remoteStore,i),l}async function k8(t,e,n,r,i){t.Ha=(m,y,_)=>async function(b,T,E,C){let I=T.view.ba(E);I.ls&&(I=await fC(b.localStore,T.query,!1).then(({documents:A})=>T.view.ba(A,I)));const N=C&&C.targetChanges.get(T.targetId),j=C&&C.targetMismatches.get(T.targetId)!=null,z=T.view.applyChanges(I,b.isPrimaryClient,N,j);return EC(b,T.targetId,z.Ma),z.snapshot}(t,m,y,_);const s=await fC(t.localStore,e,!0),o=new C8(e,s.gs),l=o.ba(s.documents),u=nh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);EC(t,n,d.Ma);const f=new S8(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),d.snapshot}async function A8(t,e,n){const r=je(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Wm(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uw(r.remoteStore,i.targetId),t_(r,i.targetId)}).catch(Au)):(t_(r,i.targetId),await Jy(r.localStore,i.targetId,!0))}async function R8(t,e){const n=je(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uw(n.remoteStore,r.targetId))}async function M8(t,e,n){const r=z8(t);try{const i=await function(o,l){const u=je(o),d=ln.now(),f=l.reduce((_,x)=>_.add(x.key),tt());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Ls(),b=tt();return u.ds.getEntries(_,f).next(T=>{x=T,x.forEach((E,C)=>{C.isValidDocument()||(b=b.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(T=>{m=T;const E=[];for(const C of l){const I=K9(C,m.get(C.key).overlayedDocument);I!=null&&E.push(new za(C.key,I,sA(I.value.mapValue),vs.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,E,l)}).next(T=>{y=T;const E=T.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(_,T.batchId,E)})}).then(()=>({batchId:y.batchId,changes:gA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.Wa[o.currentUser.toKey()];d||(d=new Vt(He)),d=d.insert(l,u),o.Wa[o.currentUser.toKey()]=d}(r,i.batchId,n),await ih(r,i.changes),await Jm(r.remoteStore)}catch(i){const s=pw(i,"Failed to persist write");n.reject(s)}}async function eR(t,e){const n=je(t);try{const r=await G6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?dt(o.Ba):i.removedDocuments.size>0&&(dt(o.Ba),o.Ba=!1))}),await ih(n,r,e)}catch(r){await Au(r)}}function bC(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const l=o.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=je(o);u.onlineState=l;let d=!1;u.queries.forEach((f,m)=>{for(const y of m.ta)y.sa(l)&&(d=!0)}),d&&mw(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N8(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new Vt(Pe.comparator);o=o.insert(s,Fn.newNoDocument(s,Oe.min()));const l=tt().add(s),u=new Km(Oe.min(),new Map,new Vt(He),o,l);await eR(r,u),r.$a=r.$a.remove(s),r.Ua.delete(e),vw(r)}else await Jy(r.localStore,e,!1).then(()=>t_(r,e,n)).catch(Au)}async function O8(t,e){const n=je(t),r=e.batch.batchId;try{const i=await W6(n.localStore,e);nR(n,r,null),tR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ih(n,i)}catch(i){await Au(i)}}async function D8(t,e,n){const r=je(t);try{const i=await function(o,l){const u=je(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(dt(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);nR(r,e,n),tR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ih(r,i)}catch(i){await Au(i)}}function tR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function nR(t,e,n){const r=je(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function t_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||rR(t,r)})}function rR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(uw(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),vw(t))}function EC(t,e,n){for(const r of n)r instanceof YA?(t.Ka.addReference(r.key,e),j8(t,r)):r instanceof JA?(xe(gw,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||rR(t,r.key)):Me()}function j8(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(xe(gw,"New document in limbo: "+n),t.Qa.add(r),vw(t))}function vw(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Pe(bt.fromString(e)),r=t.za.next();t.Ua.set(r,new T8(n)),t.$a=t.$a.insert(n,r),UA(t.remoteStore,new ho(Bi(ew(n.path)),r,"TargetPurposeLimboResolution",Um.ae))}}async function ih(t,e,n){const r=je(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((l,u)=>{o.push(r.Ha(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);const m=aw.Yi(u.targetId,d);s.push(m)}}))}),await Promise.all(o),r.La.p_(i),await async function(u,d){const f=je(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>se.forEach(d,y=>se.forEach(y.Hi,_=>f.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>se.forEach(y.Ji,_=>f.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!Ru(m))throw m;xe(lw,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const _=f.Ts.get(y),x=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(x);f.Ts=f.Ts.insert(y,b)}}}(r.localStore,s))}async function V8(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){xe(gw,"User change. New user:",e.toKey());const r=await VA(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(l=>{l.forEach(u=>{u.reject(new be(ie.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ih(n,r.Rs)}}function F8(t,e){const n=je(t),r=n.Ua.get(e);if(r&&r.Ba)return tt().add(r.key);{let i=tt();const s=n.qa.get(e);if(!s)return i;for(const o of s){const l=n.ka.get(o);i=i.unionWith(l.view.Sa)}return i}}function iR(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N8.bind(null,e),e.La.p_=b8.bind(null,e.eventManager),e.La.Ja=E8.bind(null,e.eventManager),e}function z8(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D8.bind(null,e),e}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return H6(this.persistence,new B6,e.initialUser,this.serializer)}Xa(e){return new jA(ow.ri,this.serializer)}Za(e){return new Y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class B8 extends Fp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){dt(this.persistence.referenceDelegate instanceof jp);const r=this.persistence.referenceDelegate.garbageCollector;return new T6(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new jA(r=>jp.ri(r,n),this.serializer)}}class n_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,this.syncEngine),await _8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x8}()}createDatastore(e){const n=Qm(e.databaseInfo.databaseId),r=function(s){return new n8(s)}(e.databaseInfo);return function(s,o,l,u){return new o8(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new l8(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>bC(this.syncEngine,n,0),function(){return gC.D()?new gC:new J6}())}createSyncEngine(e,n){return function(i,s,o,l,u,d,f){const m=new L8(i,s,o,l,u,d);return f&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=je(i);xe(Ra,"RemoteStore shutting down."),s.W_.add(5),await rh(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}n_.provider={build:()=>new n_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class U8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=Kk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{xe(zo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(xe(zo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cv(t,e){t.asyncQueue.verifyOperationInProgress(),xe(zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $8(t);xe(zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yC(e.remoteStore,i)),t._onlineComponents=e}async function $8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(zo,"Using user provided OfflineComponentProvider");try{await cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;du("Error using user provided cache. Falling back to memory cache: "+n),await cv(t,new Fp)}}else xe(zo,"Using default OfflineComponentProvider"),await cv(t,new B8(void 0));return t._offlineComponents}async function oR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(zo,"Using user provided OnlineComponentProvider"),await CC(t,t._uninitializedComponentsProvider._online)):(xe(zo,"Using default OnlineComponentProvider"),await CC(t,new n_))),t._onlineComponents}function H8(t){return oR(t).then(e=>e.syncEngine)}async function aR(t){const e=await oR(t),n=e.eventManager;return n.onListen=P8.bind(null,e.syncEngine),n.onUnlisten=A8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R8.bind(null,e.syncEngine),n}function W8(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const f=new sR({next:y=>{f.su(),o.enqueueAndForget(()=>KA(s,m));const _=y.docs.has(l);!_&&y.fromCache?d.reject(new be(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&u&&u.source==="server"?d.reject(new be(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new QA(ew(l.path),f,{includeMetadataChanges:!0,Ta:!0});return ZA(s,m)}(await aR(t),t.asyncQueue,e,n,r)),r.promise}function G8(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const f=new sR({next:y=>{f.su(),o.enqueueAndForget(()=>KA(s,m)),y.fromCache&&u.source==="server"?d.reject(new be(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new QA(l,f,{includeMetadataChanges:!0,Ta:!0});return ZA(s,m)}(await aR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e,n){if(!n)throw new be(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q8(t,e,n,r){if(e===!0&&r===!0)throw new be(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TC(t){if(!Pe.isDocumentKey(t))throw new be(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LC(t){if(Pe.isDocumentKey(t))throw new be(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new be(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firestore.googleapis.com",PC=!0;class IC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cR,this.ssl=PC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:PC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C6)throw new be(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t9;switch(r.type){case"firstParty":return new s9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SC.get(n);r&&(xe("ComponentProvider","Removing Datastore"),SC.delete(n),r.terminate())}(this),Promise.resolve()}}function Z8(t,e,n,r={}){var i;const s=(t=Ma(t,eg))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s.host!==cR&&s.host!==l&&du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!Ta(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=jn.MOCK_USER;else{d=Z5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new be(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jn(m)}t._authCredentials=new n9(new qk(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class Lo extends Ua{constructor(e,n,r){super(e,n,ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new Pe(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function K8(t,e,...n){if(t=tr(t),uR("collection","path",e),t instanceof eg){const r=bt.fromString(e,...n);return LC(r),new Lo(t,null,r)}{if(!(t instanceof mr||t instanceof Lo))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return LC(r),new Lo(t.firestore,null,r)}}function tg(t,e,...n){if(t=tr(t),arguments.length===1&&(e=Kk.newId()),uR("doc","path",e),t instanceof eg){const r=bt.fromString(e,...n);return TC(r),new mr(t,null,new Pe(r))}{if(!(t instanceof mr||t instanceof Lo))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return TC(r),new mr(t.firestore,t instanceof Lo?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="AsyncQueue";class AC{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zA(this,"async_queue_retry"),this.Su=()=>{const r=uv();r&&xe(kC,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new gs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ru(e))throw e;xe(kC,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=fw.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Me()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ng extends eg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new AC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AC(e),this._firestoreClient=void 0,await e}}}function Q8(t,e){const n=typeof t=="object"?t:yI(),r=typeof t=="string"?t:Ap,i=T0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=G5("firestore");s&&Z8(i,...s)}return i}function yw(t){if(t._terminated)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y8(t),t._firestoreClient}function Y8(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,f){return new w9(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,lR(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new U8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Sn.fromBase64String(e))}catch(n){throw new be(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vu(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/^__.*__$/;class X8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}function hR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class bw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hR(this.Lu)&&J8.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class e${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qm(e)}ju(e,n,r,i=!1){return new bw({Lu:e,methodName:n,zu:r,path:wn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fR(t){const e=t._freezeSettings(),n=Qm(t._databaseId);return new e$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t$(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);gR("Data must be an object, but it was:",o,r);const l=pR(r,o);let u,d;if(s.merge)u=new mi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const y=r$(e,m,n);if(!o.contains(y))throw new be(ie.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);s$(f,y)||f.push(y)}u=new mi(f),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new X8(new Wr(l),u,d)}function n$(t,e,n,r=!1){return Ew(n,t.ju(r?4:3,e))}function Ew(t,e){if(mR(t=tr(t)))return gR("Unsupported field value:",e,t),pR(t,e);if(t instanceof dR)return function(r,i){if(!hR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ew(l,i.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ln.fromDate(r);return{timestampValue:Dp(i.serializer,s)}}if(r instanceof ln){const s=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dp(i.serializer,s)}}if(r instanceof ww)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vu)return{bytesValue:IA(i.serializer,r._byteString)};if(r instanceof mr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xw)return function(o,l){return{mapValue:{fields:{[rA]:{stringValue:iA},[Rp]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Wu("VectorValues must only contain numeric values.");return tw(l.serializer,d)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Xm(r)}`)}(t,e)}function pR(t,e){const n={};return Yk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(t,(r,i)=>{const s=Ew(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof ww||t instanceof vu||t instanceof mr||t instanceof dR||t instanceof xw)}function gR(t,e,n){if(!mR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xm(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function r$(t,e,n){if((e=tr(e))instanceof _w)return e._internalPath;if(typeof e=="string")return vR(t,e);throw zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const i$=new RegExp("[~\\*/\\[\\]]");function vR(t,e,n){if(e.search(i$)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _w(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new be(ie.INVALID_ARGUMENT,l+t+u)}function s$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o$ extends yR{data(){return super.data()}}function Cw(t,e){return typeof e=="string"?vR(t,e):e instanceof _w?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{}class _R extends Sw{}function l$(t,e,...n){let r=[];e instanceof Sw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Lw).length,l=s.filter(u=>u instanceof Tw).length;if(o>1||o>0&&l>0)throw new be(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Tw extends _R{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tw(e,n,r)}_apply(e){const n=this._parse(e);return wR(e._query,n),new Ua(e.firestore,e.converter,Gy(e._query,n))}_parse(e){const n=fR(e.firestore);return function(s,o,l,u,d,f,m){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new be(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){MC(m,f);const x=[];for(const b of m)x.push(RC(u,s,b));y={arrayValue:{values:x}}}else y=RC(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||MC(m,f),y=n$(l,o,m,f==="in"||f==="not-in");return tn.create(d,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lw extends Sw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)wR(o,u),o=Gy(o,u)}(e._query,n),new Ua(e.firestore,e.converter,Gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pw extends _R{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new be(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Md(s,o)}(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Mu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function u$(t,e="asc"){const n=e,r=Cw("orderBy",t);return Pw._create(r,n)}function RC(t,e,n){if(typeof(n=tr(n))=="string"){if(n==="")throw new be(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hA(e)&&n.indexOf("/")!==-1)throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Pe.isDocumentKey(r))throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZE(t,new Pe(r))}if(n instanceof mr)return ZE(t,n._key);throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function MC(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wR(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c${convertValue(e,n="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Va(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Rp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Gt(o.doubleValue));return new xw(s)}convertGeoPoint(e){return new ww(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kd(e));default:return null}}convertTimestamp(e){const n=Do(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);dt(OA(r));const i=new Ad(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||Ts(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xR extends yR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ff extends xR{data(e={}){return super.data(e)}}class h${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ff(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Ff(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ff(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:f$(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){t=Ma(t,mr);const e=Ma(t.firestore,ng);return W8(yw(e),t._key).then(n=>g$(e,t,n))}class ER extends c${constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,n)}}function p$(t){t=Ma(t,Ua);const e=Ma(t.firestore,ng),n=yw(e),r=new ER(e);return a$(t._query),G8(n,t._query).then(i=>new h$(e,r,t,i))}function CR(t,e,n){t=Ma(t,mr);const r=Ma(t.firestore,ng),i=d$(t.converter,e,n);return m$(r,[t$(fR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vs.none())])}function m$(t,e){return function(r,i){const s=new gs;return r.asyncQueue.enqueueAndForget(async()=>M8(await H8(r),i,s)),s.promise}(yw(t),e)}function g$(t,e,n){const r=n.docs.get(e._key),i=new ER(t);return new xR(t,i,e._key,r,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ku=i})(Lu),cu(new La("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new ng(new r9(r.getProvider("auth-internal")),new o9(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),So(DE,jE,e),So(DE,jE,"esm2017")})();const Ou=Q8(tk);async function SR(t,e){await CR(tg(Ou,"users",t),e,{merge:!0})}async function TR(t){const n=(await bR(tg(Ou,"users",t))).data();return n&&n.wishlist?n.wishlist:[]}async function LR(t,e){await CR(tg(Ou,"users",t),{wishlist:e},{merge:!0})}const v$=Object.freeze(Object.defineProperty({__proto__:null,createUserProfile:SR,db:Ou,getUserWishlist:TR,setUserWishlist:LR},Symbol.toStringTag,{value:"Module"}));function y$({redirectTo:t="/"}){const[e,n]=v.useState(""),[r,i]=v.useState(""),[s,o]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(""),m=Gi(),y=async _=>{_.preventDefault(),f("");try{const x=await wB(_a,e,r);await SR(x.user.uid,{email:e,name:s,phone:l,createdAt:new Date().toISOString()}),m(t)}catch(x){x instanceof Error?f(x.message):f("Signup failed")}};return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[g.jsxs("button",{type:"button",onClick:()=>m("/"),className:"mb-4 flex items-center gap-2 text-green-700 border border-green-200 px-3 py-1 rounded hover:bg-green-50 transition self-start",style:{marginLeft:0},children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back"]}),g.jsxs("form",{onSubmit:y,className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Sign Up"}),g.jsx("input",{type:"text",placeholder:"Name",value:s,onChange:_=>o(_.target.value),className:"mb-3 w-full p-2 border rounded",required:!0}),g.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:_=>n(_.target.value),className:"mb-3 w-full p-2 border rounded",required:!0}),g.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:_=>i(_.target.value),className:"mb-3 w-full p-2 border rounded",required:!0}),g.jsx("input",{type:"tel",placeholder:"Phone",value:l,onChange:_=>u(_.target.value),className:"mb-3 w-full p-2 border rounded"}),d&&g.jsx("div",{className:"text-red-500 mb-3",children:d}),g.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:"Sign Up"}),g.jsxs("div",{className:"mt-4 text-center",children:["Already have an account? ",g.jsx("a",{href:"/auth/login",className:"text-green-700 underline",children:"Login"})]})]})]})}async function PR(t){var s,o,l,u,d;const r=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCaVy_iQbrzvld_QtvplTO2iyG-txbpT2Q",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}]})});if(!r.ok)return"Sorry, Gemini could not answer your question.";const i=await r.json();return((d=(u=(l=(o=(s=i==null?void 0:i.candidates)==null?void 0:s[0])==null?void 0:o.content)==null?void 0:l.parts)==null?void 0:u[0])==null?void 0:d.text)||"Sorry, Gemini did not return a response."}const _$=Object.freeze(Object.defineProperty({__proto__:null,askGemini:PR},Symbol.toStringTag,{value:"Module"})),w$="AIzaSyD0ysOLiDjQLhFB1aD6Sh1EMGvZGmy8PLE",x$=`https://translation.googleapis.com/language/translate/v2?key=${w$}`;async function lf(t,e,n){var o,l,u;const i=await fetch(x$,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:t,target:e,source:n})});if(!i.ok)throw new Error("Translate API error");const s=await i.json();return((u=(l=(o=s==null?void 0:s.data)==null?void 0:o.translations)==null?void 0:l[0])==null?void 0:u.translatedText)||""}const b$=[{code:"en",label:"English"},{code:"hi",label:"Hindi"},{code:"es",label:"Spanish"},{code:"fr",label:"French"},{code:"de",label:"German"},{code:"zh",label:"Chinese"},{code:"ta",label:"Tamil"},{code:"bn",label:"Bengali"},{code:"ja",label:"Japanese"},{code:"ar",label:"Arabic"},{code:"ru",label:"Russian"}],E$=({name:t,description:e,materials:n,certifications:r})=>{const[i,s]=v.useState("en"),[o,l]=v.useState({name:t,description:e,materials:n,certifications:r}),[u,d]=v.useState(!1),f=async m=>{const y=m.target.value;if(s(y),y==="en"){l({name:t,description:e,materials:n,certifications:r});return}d(!0);const[_,x,b,T]=await Promise.all([lf(t,y,"en"),lf(e,y,"en"),Promise.all(n.map(E=>lf(E,y,"en"))),Promise.all(r.map(E=>lf(E,y,"en")))]);l({name:_,description:x,materials:b,certifications:T}),d(!1)};return g.jsxs("div",{className:"mb-2 p-3 bg-gray-50 rounded shadow-sm",children:[g.jsx("label",{className:"mr-2 font-medium",children:"🌐 Language:"}),g.jsx("select",{value:i,onChange:f,className:"border rounded px-2 py-1 bg-gray-100 text-gray-900 focus:bg-white focus:border-green-500 font-medium shadow-sm",style:{color:"#222",background:"#f8f9fa",fontWeight:500},children:b$.map(m=>g.jsx("option",{value:m.code,className:"text-gray-900 bg-white dark:bg-gray-800 dark:text-gray-100",style:{color:"#222",background:"#fff"},children:m.label},m.code))}),g.jsx("div",{className:"mt-2 text-gray-700 min-h-[2em]",children:u?g.jsx("span",{className:"italic text-gray-400",children:"Translating..."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("b",{children:"Name:"})," ",o.name]}),g.jsxs("div",{children:[g.jsx("b",{children:"Description:"})," ",o.description]}),g.jsxs("div",{children:[g.jsx("b",{children:"Materials:"})," ",o.materials.join(", ")]}),o.certifications.length>0&&g.jsxs("div",{children:[g.jsx("b",{children:"Certifications:"})," ",o.certifications.join(", ")]})]})})]})},IR=v.createContext(void 0),C$=({children:t})=>{const{user:e}=Wo(),[n,r]=v.useState([]);v.useEffect(()=>{e&&e.uid?TR(e.uid).then(l=>r(l)).catch(()=>r([])):r([])},[e]),v.useEffect(()=>{e&&e.uid&&LR(e.uid,n)},[n,e]);const i=l=>{r(u=>u.find(d=>d.product.id===l.id)?u:[...u,{id:l.id,product:l}])},s=l=>{r(u=>u.filter(d=>d.product.id!==l))},o=()=>r([]);return g.jsx(IR.Provider,{value:{wishlist:n,addToWishlist:i,removeFromWishlist:s,clearWishlist:o},children:t})},S$=()=>{const t=v.useContext(IR);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t},T$=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(null),[i,s]=v.useState(null),[o,l]=v.useState(""),[u,d]=v.useState(!1),[,f]=v.useState(!1),{user:m}=Wo();m!=null&&m.uid;const{wishlist:y,addToWishlist:_}=S$(),x=Pp.filter(E=>E.name.toLowerCase().includes(t.toLowerCase())||E.brand.toLowerCase().includes(t.toLowerCase())||E.materials.join(", ").toLowerCase().includes(t.toLowerCase())),b=E=>Pp.filter(C=>C.id!==E.id&&C.ecoScore>E.ecoScore).sort((C,I)=>I.ecoScore-C.ecoScore)[0]||null,T=async E=>{r(E);const C=b(E);if(s(C),l(""),C){d(!0);const I=`Compare these two products for eco-friendliness and explain why the second is a greener choice.
Product 1: ${E.name}, Materials: ${E.materials.join(", ")}, Certifications: ${E.certifications.join(", ")}, EcoScore: ${E.ecoScore}.
Product 2: ${C.name}, Materials: ${C.materials.join(", ")}, Certifications: ${C.certifications.join(", ")}, EcoScore: ${C.ecoScore}.`,N=await PR(I);l(N),d(!1)}};return g.jsxs("div",{className:"container mx-auto py-8 relative",children:[g.jsx("h1",{className:"text-3xl font-bold mb-6",children:"EcoCart Product Catalog"}),g.jsx("input",{type:"text",className:"form-control mb-6 w-full max-w-lg border border-gray-300 rounded px-3 py-2",placeholder:"Search products, brands, or materials...",value:t,onChange:E=>e(E.target.value)}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(E=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx(Fm,{product:E,onShowAlternative:T}),g.jsx("div",{className:"mt-2",children:g.jsx(E$,{name:E.name,description:E.brand,materials:E.materials,certifications:E.certifications})})]},E.id))}),g.jsx(U0,{}),y.length>0&&g.jsx("div",{className:"mt-8 flex justify-center"}),n&&i&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full relative",children:[g.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-500",onClick:()=>{r(null),s(null),l("")},children:"×"}),g.jsx("h2",{className:"text-xl font-bold mb-2",children:"Greener Alternative"}),g.jsxs("div",{className:"mb-2",children:[g.jsx("b",{children:n.name})," ",g.jsx("span",{className:"text-gray-500",children:"vs"})," ",g.jsx("b",{children:i.name})]}),u?g.jsx("div",{className:"py-6 text-center",children:"Loading explanation from Gemini..."}):g.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:o})]})})]})};class L$ extends ce.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?g.jsx("div",{style:{padding:32,textAlign:"center",color:"red"},children:"Something went wrong. Please try refreshing the page."}):this.props.children}}const P$=v.createContext(void 0),I$=({children:t})=>{const{user:e}=Wo(),[n,r]=v.useState([]),[i,s]=v.useState(!1);v.useEffect(()=>{if(e&&e.uid){console.log("[CartContext] User logged in:",e.uid),s(!0);try{const y=p3();console.log("[CartContext] Loaded cart from storage:",y),r(y)}catch(y){console.error("[CartContext] Error loading cart from storage:",y)}s(!1)}else console.log("[CartContext] User logged out or no user. Clearing local cart."),r([])},[e]),v.useEffect(()=>{if(e&&e.uid&&!i){console.log("[CartContext] Saving cart to storage for user",e.uid,n);try{m3(n),console.log("[CartContext] Cart saved to storage successfully")}catch(y){console.error("[CartContext] Error saving cart to storage:",y)}}},[n,e,i]);const o=y=>{r(_=>_.find(b=>b.product.id===y.id)?_.map(b=>b.product.id===y.id?{...b,quantity:b.quantity+1}:b):[..._,{product:y,quantity:1}])},l=y=>{r(_=>_.map(x=>x.product.id===y?{...x,quantity:x.quantity+1}:x))},u=y=>{r(_=>_.map(x=>x.product.id===y&&x.quantity>1?{...x,quantity:x.quantity-1}:x).filter(x=>x.quantity>0))},d=y=>{r(_=>_.filter(x=>x.product.id!==y))},f=()=>r([]),m=n.reduce((y,_)=>y+_.product.price*_.quantity,0);return g.jsx(P$.Provider,{value:{items:n,addToCart:o,removeFromCart:d,clearCart:f,increaseQty:l,decreaseQty:u,total:m},children:t})},k$=()=>{const t=Gi();return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[g.jsx("div",{className:"text-green-600 text-6xl mb-4",children:"✓"}),g.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Order Confirmed!"}),g.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for shopping eco-friendly with EcoCart.",g.jsx("br",{}),"Your payment was successful and your order is on its way."]}),g.jsx($e,{className:"mb-2",onClick:()=>t("/product-list"),children:"Shop More"}),g.jsx($e,{variant:"outline",onClick:()=>t("/"),children:"Go to Home"})]})},A$=()=>{const t=B0().reverse(),e=Gi();return g.jsxs("div",{className:"container mx-auto py-8",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Order History"}),t.length===0?g.jsxs("div",{className:"text-gray-500 text-center mt-20",children:["No orders found.",g.jsx("div",{className:"mt-4",children:g.jsx($e,{onClick:()=>e("/product-list"),children:"Shop Now"})})]}):g.jsx("ul",{className:"divide-y",children:t.map(n=>g.jsx("li",{className:"py-4",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold",children:["Order #",n.id.slice(-6).toUpperCase()]}),g.jsx("div",{className:"text-xs text-gray-500",children:n.date}),g.jsx("div",{className:"text-xs text-gray-400",children:n.email}),g.jsx("ul",{className:"text-sm mt-2",children:n.items.map((r,i)=>g.jsxs("li",{children:[r.product.name," x",r.quantity," (₹",r.product.price,")"]},i))})]}),g.jsxs("div",{className:"font-bold text-lg",children:["₹",n.total.toFixed(2)]})]})},n.id))})]})},R$=()=>{const t=B0().reverse();return g.jsxs("div",{className:"container mx-auto py-8",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin: All Orders"}),g.jsx($e,{variant:"destructive",className:"mb-4",onClick:f3,children:"Clear All Orders"}),t.length===0?g.jsx("div",{className:"text-gray-500 text-center mt-20",children:"No orders found."}):g.jsx("ul",{className:"divide-y",children:t.map(e=>g.jsx("li",{className:"py-4",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold",children:["Order #",e.id.slice(-6).toUpperCase()]}),g.jsx("div",{className:"text-xs text-gray-500",children:e.date}),g.jsx("div",{className:"text-xs text-gray-400",children:e.email}),g.jsx("ul",{className:"text-sm mt-2",children:e.items.map((n,r)=>g.jsxs("li",{children:[n.product.name," x",n.quantity," (₹",n.product.price,")"]},r))})]}),g.jsxs("div",{className:"font-bold text-lg",children:["₹",e.total.toFixed(2)]})]})},e.id))})]})};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function M$(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N$(t){var e=M$(t,"string");return Dd(e)=="symbol"?e:e+""}function X(t,e,n){return(e=N$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dv,NC;function O$(){if(NC)return dv;NC=1;var t=function(n,r,i,s,o,l,u,d){if(!n){var f;if(r===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,s,o,l,u,d],y=0;f=new Error(r.replace(/%s/g,function(){return m[y++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return dv=t,dv}var D$=O$(),cn=kR(D$),Ue=v.createContext(null);function j$(){cn(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=v.useContext(Ue);return cn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function V$(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function F$(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function z$(t,e,n,r){var i={},s=(o,l)=>{var u=n[l];u!==e[l]&&(i[l]=u,o(r,u))};return F$(t,s),i}function B$(t,e,n){var r=V$(n,function(s,o,l){return typeof t[l]=="function"&&s.push(google.maps.event.addListener(e,o,t[l])),s},[]);return r}function U$(t){google.maps.event.removeListener(t)}function Qe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(U$)}function qe(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,o=B$(i,s,n);return z$(e,r,i,s),o}var OC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},DC={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function $$(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:o,onClick:l,onDblClick:u,onDrag:d,onDragEnd:f,onDragStart:m,onMouseMove:y,onMouseOut:_,onMouseOver:x,onMouseDown:b,onMouseUp:T,onRightClick:E,onCenterChanged:C,onLoad:I,onUnmount:N}=t,[j,z]=v.useState(null),A=v.useRef(null),[R,M]=v.useState(null),[D,V]=v.useState(null),[U,B]=v.useState(null),[Q,le]=v.useState(null),[ne,he]=v.useState(null),[H,K]=v.useState(null),[Z,oe]=v.useState(null),[re,ee]=v.useState(null),[ue,W]=v.useState(null),[me,fe]=v.useState(null),[_e,De]=v.useState(null),[ve,ye]=v.useState(null);return v.useEffect(()=>{n&&j!==null&&j.setOptions(n)},[j,n]),v.useEffect(()=>{j!==null&&typeof o<"u"&&j.setCenter(o)},[j,o]),v.useEffect(()=>{j&&u&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(j,"dblclick",u)))},[u]),v.useEffect(()=>{j&&f&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(j,"dragend",f)))},[f]),v.useEffect(()=>{j&&m&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(j,"dragstart",m)))},[m]),v.useEffect(()=>{j&&b&&(ne!==null&&google.maps.event.removeListener(ne),he(google.maps.event.addListener(j,"mousedown",b)))},[b]),v.useEffect(()=>{j&&y&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(j,"mousemove",y)))},[y]),v.useEffect(()=>{j&&_&&(Z!==null&&google.maps.event.removeListener(Z),oe(google.maps.event.addListener(j,"mouseout",_)))},[_]),v.useEffect(()=>{j&&x&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(j,"mouseover",x)))},[x]),v.useEffect(()=>{j&&T&&(ue!==null&&google.maps.event.removeListener(ue),W(google.maps.event.addListener(j,"mouseup",T)))},[T]),v.useEffect(()=>{j&&E&&(me!==null&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(j,"rightclick",E)))},[E]),v.useEffect(()=>{j&&l&&(_e!==null&&google.maps.event.removeListener(_e),De(google.maps.event.addListener(j,"click",l)))},[l]),v.useEffect(()=>{j&&d&&(ve!==null&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener(j,"drag",d)))},[d]),v.useEffect(()=>{j&&C&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(j,"center_changed",C)))},[l]),v.useEffect(()=>{var pe=A.current===null?null:new google.maps.Map(A.current,n);return z(pe),pe!==null&&I&&I(pe),()=>{pe!==null&&N&&N(pe)}},[]),g.jsx("div",{id:r,ref:A,style:i,className:s,children:g.jsx(Ue.Provider,{value:j,children:j!==null?e:null})})}v.memo($$);class H$ extends v.PureComponent{constructor(){super(...arguments),X(this,"state",{map:null}),X(this,"registeredEvents",[]),X(this,"mapRef",null),X(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),X(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),X(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),X(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=qe({updaterMap:DC,eventMap:OC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:DC,eventMap:OC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Qe(this.registeredEvents))}render(){return g.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:g.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function jC(t,e,n,r,i,s,o){try{var l=t[s](o),u=l.value}catch(d){return void n(d)}l.done?e(u):Promise.resolve(u).then(r,i)}function AR(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){jC(s,r,i,o,l,"next",u)}function l(u){jC(s,r,i,o,l,"throw",u)}o(void 0)})}}function RR(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:o,channel:l,mapIds:u,authReferrerPolicy:d}=t,f=[];return cn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),i&&f.push("language=".concat(i)),s&&f.push("region=".concat(s)),o&&o.length&&f.push("libraries=".concat(o.sort().join(","))),l&&f.push("channel=".concat(l)),u&&u.length&&f.push("map_ids=".concat(u.join(","))),d&&f.push("auth_referrer_policy=".concat(d)),f.push("loading=async"),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var fo=typeof document<"u";function MR(t){var{url:e,id:n,nonce:r}=t;return fo?new Promise(function(s,o){var l=document.getElementById(n),u=window;if(l){var d=l.getAttribute("data-state");if(l.src===e&&d!=="error"){if(d==="ready")return s(n);var f=u.initMap,m=l.onerror;u.initMap=function(){f&&f(),s(n)},l.onerror=function(_){m&&m(_),o(_)};return}else l.remove()}var y=document.createElement("script");y.type="text/javascript",y.src=e,y.id=n,y.async=!0,y.nonce=r||"",y.onerror=function(x){y.setAttribute("data-state","error"),o(x)},u.initMap=function(){y.setAttribute("data-state","ready"),s(n)},document.head.appendChild(y)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function VC(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Iw(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return VC(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return VC(i)||Reflect.apply(n,t,[i]),i}}}var xc=!1;function NR(){return g.jsx("div",{children:"Loading..."})}var jd={id:"script-loader",version:"weekly"};class W$ extends v.PureComponent{constructor(){super(...arguments),X(this,"check",null),X(this,"state",{loaded:!1}),X(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),X(this,"isCleaningUp",AR(function*(){function e(n){if(!xc)n();else if(fo)var r=window.setInterval(function(){xc||(window.clearInterval(r),n())},1)}return new Promise(e)})),X(this,"cleanup",()=>{xc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),X(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Iw(),cn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:RR(this.props)};MR(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),X(this,"getRef",e=>{this.check=e})}componentDidMount(){if(fo){if(window.google&&window.google.maps&&!xc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),fo&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(fo){this.cleanup();var e=()=>{this.check||(delete window.google,xc=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||g.jsx(NR,{})]})}}X(W$,"defaultProps",jd);function G$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function kw(t,e){if(t==null)return{};var n,r,i=G$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var FC;function q$(t){var{id:e=jd.id,version:n=jd.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:l,libraries:u,preventGoogleFontsLoading:d,channel:f,mapIds:m,authReferrerPolicy:y}=t,_=v.useRef(!1),[x,b]=v.useState(!1),[T,E]=v.useState(void 0);v.useEffect(function(){return _.current=!0,()=>{_.current=!1}},[]),v.useEffect(function(){fo&&d&&Iw()},[d]),v.useEffect(function(){x&&cn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[x]);var C=RR({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:l,libraries:u,channel:f,mapIds:m,authReferrerPolicy:y});v.useEffect(function(){if(!fo)return;function j(){_.current&&(b(!0),FC=C)}if(window.google&&window.google.maps&&FC===C){j();return}MR({id:e,url:C,nonce:r}).then(j).catch(function(A){_.current&&E(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[e,C,r]);var I=v.useRef(void 0);return v.useEffect(function(){I.current&&u!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=u},[u]),{isLoaded:x,loadError:T,url:C}}var Z$=["loadingElement","onLoad","onError","onUnmount","children"],K$=g.jsx(NR,{});function Q$(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,o=kw(t,Z$),{isLoaded:l,loadError:u}=q$(o);return v.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),v.useEffect(function(){u&&typeof r=="function"&&r(u)},[u,r]),v.useEffect(function(){return()=>{i&&i()}},[i]),l?s:e||K$}v.memo(Q$);function Y$(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(m){o(m)}}function u(f){try{d(r.throw(f))}catch(m){o(m)}}function d(f){f.done?s(f.value):i(f.value).then(l,u)}d((r=r.apply(t,[])).next())})}function J$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X$=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},e7=J$(X$),zC="__googleMapsScriptId",kl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(kl||(kl={}));class oa{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:i,client:s,id:o=zC,language:l,libraries:u=[],mapIds:d,nonce:f,region:m,retries:y=3,url:_="https://maps.googleapis.com/maps/api/js",version:x}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=i,this.client=s,this.id=o||zC,this.language=l,this.libraries=u,this.mapIds=d,this.nonce=f,this.region=m,this.retries=y,this.url=_,this.version=x,oa.instance){if(!e7(this.options,oa.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(oa.instance.options)));return oa.instance}oa.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?kl.FAILURE:this.done?kl.SUCCESS:this.loading?kl.LOADING:kl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(s=>!r[s]&&delete r[s]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(s=>{var o,l,u,d="The Google Maps JavaScript API",f="google",m="importLibrary",y="__ib__",_=document,x=window;x=x[f]||(x[f]={});var b=x.maps||(x.maps={}),T=new Set,E=new URLSearchParams,C=()=>o||(o=new Promise((I,N)=>Y$(this,void 0,void 0,function*(){var j;yield l=_.createElement("script"),l.id=this.id,E.set("libraries",[...T]+"");for(u in s)E.set(u.replace(/[A-Z]/g,z=>"_"+z[0].toLowerCase()),s[u]);E.set("callback",f+".maps."+y),l.src=this.url+"?"+E,b[y]=I,l.onerror=()=>o=N(Error(d+" could not load.")),l.nonce=this.nonce||((j=_.querySelector("script[nonce]"))===null||j===void 0?void 0:j.nonce)||"",_.head.append(l)})));b[m]?console.warn(d+" only loads once. Ignoring:",s):b[m]=function(I){for(var N=arguments.length,j=new Array(N>1?N-1:0),z=1;z<N;z++)j[z-1]=arguments[z];return T.add(I)&&C().then(()=>b[m](I,...j))}})(r);var i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{var o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var t7=["maps"];function n7(t){var{id:e=jd.id,version:n=jd.version,nonce:r,googleMapsApiKey:i,language:s,region:o,libraries:l=t7,preventGoogleFontsLoading:u,mapIds:d,authReferrerPolicy:f}=t,m=v.useRef(!1),[y,_]=v.useState(!1),[x,b]=v.useState(void 0);v.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]);var T=v.useMemo(()=>new oa({id:e,apiKey:i,version:n,libraries:l,language:s||"en",region:o||"US",mapIds:d||[],nonce:r||"",authReferrerPolicy:f||"origin"}),[e,i,n,l,s,o,d,r,f]);v.useEffect(function(){y||T.load().then(()=>{m.current&&_(!0)}).catch(I=>{b(I)})},[]),v.useEffect(()=>{fo&&u&&Iw()},[u]);var E=v.useRef();return v.useEffect(()=>{E.current&&l!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=l},[l]),{isLoaded:y,loadError:x}}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var UC={},$C={options(t,e){t.setOptions(e)}};function r7(t){var{options:e,onLoad:n,onUnmount:r}=t,i=v.useContext(Ue),[s,o]=v.useState(null);return v.useEffect(()=>{s!==null&&s.setMap(i)},[i]),v.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),v.useEffect(()=>{var l=new google.maps.TrafficLayer(Bp(Bp({},e),{},{map:i}));return o(l),n&&n(l),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}v.memo(r7);class i7 extends v.PureComponent{constructor(){super(...arguments),X(this,"state",{trafficLayer:null}),X(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),X(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Bp(Bp({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:$C,eventMap:UC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:$C,eventMap:UC,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Qe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}X(i7,"contextType",Ue);function s7(t){var{onLoad:e,onUnmount:n}=t,r=v.useContext(Ue),[i,s]=v.useState(null);return v.useEffect(()=>{i!==null&&i.setMap(r)},[r]),v.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}v.memo(s7);class o7 extends v.PureComponent{constructor(){super(...arguments),X(this,"state",{bicyclingLayer:null}),X(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}X(o7,"contextType",Ue);function a7(t){var{onLoad:e,onUnmount:n}=t,r=v.useContext(Ue),[i,s]=v.useState(null);return v.useEffect(()=>{i!==null&&i.setMap(r)},[r]),v.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(r),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}v.memo(a7);class l7 extends v.PureComponent{constructor(){super(...arguments),X(this,"state",{transitLayer:null}),X(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}X(l7,"contextType",Ue);function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var WC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},GC={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function u7(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:u,onLoad:d,onUnmount:f}=t,m=v.useContext(Ue),[y,_]=v.useState(null),[x,b]=v.useState(null),[T,E]=v.useState(null),[C,I]=v.useState(null),[N,j]=v.useState(null),[z,A]=v.useState(null),[R,M]=v.useState(null);return v.useEffect(()=>{y!==null&&y.setMap(m)},[m]),v.useEffect(()=>{e&&y!==null&&y.setOptions(e)},[y,e]),v.useEffect(()=>{y!==null&&y.setDrawingMode(n??null)},[y,n]),v.useEffect(()=>{y&&r&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(y,"circlecomplete",r)))},[y,r]),v.useEffect(()=>{y&&i&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(y,"markercomplete",i)))},[y,i]),v.useEffect(()=>{y&&s&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(y,"overlaycomplete",s)))},[y,s]),v.useEffect(()=>{y&&o&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(y,"polygoncomplete",o)))},[y,o]),v.useEffect(()=>{y&&l&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(y,"polylinecomplete",l)))},[y,l]),v.useEffect(()=>{y&&u&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(y,"rectanglecomplete",u)))},[y,u]),v.useEffect(()=>{cn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var D=new google.maps.drawing.DrawingManager(Up(Up({},e),{},{map:m}));return n&&D.setDrawingMode(n),r&&b(google.maps.event.addListener(D,"circlecomplete",r)),i&&E(google.maps.event.addListener(D,"markercomplete",i)),s&&I(google.maps.event.addListener(D,"overlaycomplete",s)),o&&j(google.maps.event.addListener(D,"polygoncomplete",o)),l&&A(google.maps.event.addListener(D,"polylinecomplete",l)),u&&M(google.maps.event.addListener(D,"rectanglecomplete",u)),_(D),d&&d(D),()=>{y!==null&&(x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),C&&google.maps.event.removeListener(C),N&&google.maps.event.removeListener(N),z&&google.maps.event.removeListener(z),R&&google.maps.event.removeListener(R),f&&f(y),y.setMap(null))}},[]),null}v.memo(u7);class c7 extends v.PureComponent{constructor(e){super(e),X(this,"registeredEvents",[]),X(this,"state",{drawingManager:null}),X(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),cn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Up(Up({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:GC,eventMap:WC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:GC,eventMap:WC,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Qe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}X(c7,"contextType",Ue);function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ZC={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},KC={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},$p={};function d7(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:o,visible:l,animation:u,clickable:d,cursor:f,icon:m,label:y,opacity:_,shape:x,title:b,zIndex:T,onClick:E,onDblClick:C,onDrag:I,onDragEnd:N,onDragStart:j,onMouseOut:z,onMouseOver:A,onMouseUp:R,onMouseDown:M,onRightClick:D,onClickableChanged:V,onCursorChanged:U,onAnimationChanged:B,onDraggableChanged:Q,onFlatChanged:le,onIconChanged:ne,onPositionChanged:he,onShapeChanged:H,onTitleChanged:K,onVisibleChanged:Z,onZindexChanged:oe,onLoad:re,onUnmount:ee}=t,ue=v.useContext(Ue),[W,me]=v.useState(null),[fe,_e]=v.useState(null),[De,ve]=v.useState(null),[ye,pe]=v.useState(null),[Ie,Ze]=v.useState(null),[Te,Ct]=v.useState(null),[St,It]=v.useState(null),[_t,Zt]=v.useState(null),[kt,ir]=v.useState(null),[At,gr]=v.useState(null),[Ar,We]=v.useState(null),[st,sr]=v.useState(null),[Hn,Kt]=v.useState(null),[Wn,vn]=v.useState(null),[rn,dn]=v.useState(null),[Tn,Gn]=v.useState(null),[Ln,Rr]=v.useState(null),[qn,vr]=v.useState(null),[Pn,In]=v.useState(null),[Ft,kn]=v.useState(null),[Se,ze]=v.useState(null),[Je,zt]=v.useState(null);v.useEffect(()=>{W!==null&&W.setMap(ue)},[ue]),v.useEffect(()=>{typeof n<"u"&&W!==null&&W.setOptions(n)},[W,n]),v.useEffect(()=>{typeof o<"u"&&W!==null&&W.setDraggable(o)},[W,o]),v.useEffect(()=>{e&&W!==null&&W.setPosition(e)},[W,e]),v.useEffect(()=>{typeof l<"u"&&W!==null&&W.setVisible(l)},[W,l]),v.useEffect(()=>{W==null||W.setAnimation(u)},[W,u]),v.useEffect(()=>{W&&d!==void 0&&W.setClickable(d)},[W,d]),v.useEffect(()=>{W&&f!==void 0&&W.setCursor(f)},[W,f]),v.useEffect(()=>{W&&m!==void 0&&W.setIcon(m)},[W,m]),v.useEffect(()=>{W&&y!==void 0&&W.setLabel(y)},[W,y]),v.useEffect(()=>{W&&_!==void 0&&W.setOpacity(_)},[W,_]),v.useEffect(()=>{W&&x!==void 0&&W.setShape(x)},[W,x]),v.useEffect(()=>{W&&b!==void 0&&W.setTitle(b)},[W,b]),v.useEffect(()=>{W&&T!==void 0&&W.setZIndex(T)},[W,T]),v.useEffect(()=>{W&&C&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(W,"dblclick",C)))},[C]),v.useEffect(()=>{W&&N&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(W,"dragend",N)))},[N]),v.useEffect(()=>{W&&j&&(ye!==null&&google.maps.event.removeListener(ye),pe(google.maps.event.addListener(W,"dragstart",j)))},[j]),v.useEffect(()=>{W&&M&&(Ie!==null&&google.maps.event.removeListener(Ie),Ze(google.maps.event.addListener(W,"mousedown",M)))},[M]),v.useEffect(()=>{W&&z&&(Te!==null&&google.maps.event.removeListener(Te),Ct(google.maps.event.addListener(W,"mouseout",z)))},[z]),v.useEffect(()=>{W&&A&&(St!==null&&google.maps.event.removeListener(St),It(google.maps.event.addListener(W,"mouseover",A)))},[A]),v.useEffect(()=>{W&&R&&(_t!==null&&google.maps.event.removeListener(_t),Zt(google.maps.event.addListener(W,"mouseup",R)))},[R]),v.useEffect(()=>{W&&D&&(kt!==null&&google.maps.event.removeListener(kt),ir(google.maps.event.addListener(W,"rightclick",D)))},[D]),v.useEffect(()=>{W&&E&&(At!==null&&google.maps.event.removeListener(At),gr(google.maps.event.addListener(W,"click",E)))},[E]),v.useEffect(()=>{W&&I&&(Ar!==null&&google.maps.event.removeListener(Ar),We(google.maps.event.addListener(W,"drag",I)))},[I]),v.useEffect(()=>{W&&V&&(st!==null&&google.maps.event.removeListener(st),sr(google.maps.event.addListener(W,"clickable_changed",V)))},[V]),v.useEffect(()=>{W&&U&&(Hn!==null&&google.maps.event.removeListener(Hn),Kt(google.maps.event.addListener(W,"cursor_changed",U)))},[U]),v.useEffect(()=>{W&&B&&(Wn!==null&&google.maps.event.removeListener(Wn),vn(google.maps.event.addListener(W,"animation_changed",B)))},[B]),v.useEffect(()=>{W&&Q&&(rn!==null&&google.maps.event.removeListener(rn),dn(google.maps.event.addListener(W,"draggable_changed",Q)))},[Q]),v.useEffect(()=>{W&&le&&(Tn!==null&&google.maps.event.removeListener(Tn),Gn(google.maps.event.addListener(W,"flat_changed",le)))},[le]),v.useEffect(()=>{W&&ne&&(Ln!==null&&google.maps.event.removeListener(Ln),Rr(google.maps.event.addListener(W,"icon_changed",ne)))},[ne]),v.useEffect(()=>{W&&he&&(qn!==null&&google.maps.event.removeListener(qn),vr(google.maps.event.addListener(W,"position_changed",he)))},[he]),v.useEffect(()=>{W&&H&&(Pn!==null&&google.maps.event.removeListener(Pn),In(google.maps.event.addListener(W,"shape_changed",H)))},[H]),v.useEffect(()=>{W&&K&&(Ft!==null&&google.maps.event.removeListener(Ft),kn(google.maps.event.addListener(W,"title_changed",K)))},[K]),v.useEffect(()=>{W&&Z&&(Se!==null&&google.maps.event.removeListener(Se),ze(google.maps.event.addListener(W,"visible_changed",Z)))},[Z]),v.useEffect(()=>{W&&oe&&(Je!==null&&google.maps.event.removeListener(Je),zt(google.maps.event.addListener(W,"zindex_changed",oe)))},[oe]),v.useEffect(()=>{var lt=Hl(Hl(Hl({},n||$p),r?$p:{map:ue}),{},{position:e}),Le=new google.maps.Marker(lt);return r?r.addMarker(Le,!!i):Le.setMap(ue),e&&Le.setPosition(e),typeof l<"u"&&Le.setVisible(l),typeof o<"u"&&Le.setDraggable(o),typeof d<"u"&&Le.setClickable(d),typeof f=="string"&&Le.setCursor(f),m&&Le.setIcon(m),typeof y<"u"&&Le.setLabel(y),typeof _<"u"&&Le.setOpacity(_),x&&Le.setShape(x),typeof b=="string"&&Le.setTitle(b),typeof T=="number"&&Le.setZIndex(T),C&&_e(google.maps.event.addListener(Le,"dblclick",C)),N&&ve(google.maps.event.addListener(Le,"dragend",N)),j&&pe(google.maps.event.addListener(Le,"dragstart",j)),M&&Ze(google.maps.event.addListener(Le,"mousedown",M)),z&&Ct(google.maps.event.addListener(Le,"mouseout",z)),A&&It(google.maps.event.addListener(Le,"mouseover",A)),R&&Zt(google.maps.event.addListener(Le,"mouseup",R)),D&&ir(google.maps.event.addListener(Le,"rightclick",D)),E&&gr(google.maps.event.addListener(Le,"click",E)),I&&We(google.maps.event.addListener(Le,"drag",I)),V&&sr(google.maps.event.addListener(Le,"clickable_changed",V)),U&&Kt(google.maps.event.addListener(Le,"cursor_changed",U)),B&&vn(google.maps.event.addListener(Le,"animation_changed",B)),Q&&dn(google.maps.event.addListener(Le,"draggable_changed",Q)),le&&Gn(google.maps.event.addListener(Le,"flat_changed",le)),ne&&Rr(google.maps.event.addListener(Le,"icon_changed",ne)),he&&vr(google.maps.event.addListener(Le,"position_changed",he)),H&&In(google.maps.event.addListener(Le,"shape_changed",H)),K&&kn(google.maps.event.addListener(Le,"title_changed",K)),Z&&ze(google.maps.event.addListener(Le,"visible_changed",Z)),oe&&zt(google.maps.event.addListener(Le,"zindex_changed",oe)),me(Le),re&&re(Le),()=>{fe!==null&&google.maps.event.removeListener(fe),De!==null&&google.maps.event.removeListener(De),ye!==null&&google.maps.event.removeListener(ye),Ie!==null&&google.maps.event.removeListener(Ie),Te!==null&&google.maps.event.removeListener(Te),St!==null&&google.maps.event.removeListener(St),_t!==null&&google.maps.event.removeListener(_t),kt!==null&&google.maps.event.removeListener(kt),At!==null&&google.maps.event.removeListener(At),st!==null&&google.maps.event.removeListener(st),Hn!==null&&google.maps.event.removeListener(Hn),Wn!==null&&google.maps.event.removeListener(Wn),rn!==null&&google.maps.event.removeListener(rn),Tn!==null&&google.maps.event.removeListener(Tn),Ln!==null&&google.maps.event.removeListener(Ln),qn!==null&&google.maps.event.removeListener(qn),Ft!==null&&google.maps.event.removeListener(Ft),Se!==null&&google.maps.event.removeListener(Se),Je!==null&&google.maps.event.removeListener(Je),ee&&ee(Le),r?r.removeMarker(Le,!!i):Le&&Le.setMap(null)}},[]);var Qt=v.useMemo(()=>s?v.Children.map(s,lt=>{if(!v.isValidElement(lt))return lt;var Le=lt;return v.cloneElement(Le,{anchor:W})}):null,[s,W]);return g.jsx(g.Fragment,{children:Qt})||null}v.memo(d7);let OR=class extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[])}componentDidMount(){var e=this;return AR(function*(){var n=Hl(Hl(Hl({},e.props.options||$p),e.props.clusterer?$p:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=qe({updaterMap:KC,eventMap:ZC,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:KC,eventMap:ZC,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Qe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?v.Children.map(this.props.children,n=>{if(!v.isValidElement(n))return n;var r=n;return v.cloneElement(r,{anchor:this.marker})}):null;return e||null}};X(OR,"contextType",Ue);var h7=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var l=o.getZoom()||0;r!==null&&l>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),d=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var y=document.createElement("img");y.alt=l,y.src=this.url,y.width=this.width,y.height=this.height,y.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(d,"px")),this.cluster.getClusterer().enableRetinaIcons||(y.style.clip="rect(-".concat(f,"px, -").concat(d+this.width,"px, -").concat(f+this.height,", -").concat(d,")"));var _=document.createElement("div");_.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(_.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(_.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(y),this.div.appendChild(_),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),f7=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new h7(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof l<"u"&&l>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var u=0,d=this.markers;u<d.length;u++){var f=d[u];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function p7(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var m7=2e3,g7=500,v7="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",y7="png",_7=[53,56,66,78,90],w7="cluster",DR=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||v7,this.imageExtension=r.imageExtension||y7,this.imageSizes=r.imageSizes||_7,this.calculator=r.calculator||p7,this.batchSize=r.batchSize||m7,this.batchSizeIE=r.batchSizeIE||g7,this.clusterClass=r.clusterClass||w7,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var l=0,u=this.listeners;l<u.length;l++){var d=u[l];google.maps.event.removeListener(d)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&n.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var l=o[s];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var l=o[s];n=l;var u=n.getCenter(),d=e.getPosition();if(u&&d){var f=this.distanceBetweenPoints(u,d);f<r&&(r=f,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new f7(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),u=Math.min(e+this.batchSize,this.markers.length),d=e;d<u;d++){var f=this.markers[d];f&&!f.isAdded&&this.isMarkerInBounds(f,l)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,y=this.clusters;m<y.length;m++){var _=y[m];_.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}();function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Br={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},ct={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},b7={};function E7(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:l,gridSize:u,ignoreHidden:d,imageExtension:f,imagePath:m,imageSizes:y,maxZoom:_,minimumClusterSize:x,styles:b,title:T,zoomOnClick:E,onClick:C,onClusteringBegin:I,onClusteringEnd:N,onMouseOver:j,onMouseOut:z,onLoad:A,onUnmount:R}=t,[M,D]=v.useState(null),V=v.useContext(Ue),[U,B]=v.useState(null),[Q,le]=v.useState(null),[ne,he]=v.useState(null),[H,K]=v.useState(null),[Z,oe]=v.useState(null);return v.useEffect(()=>{M&&z&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(M,Br.onMouseOut,z)))},[z]),v.useEffect(()=>{M&&j&&(Z!==null&&google.maps.event.removeListener(Z),oe(google.maps.event.addListener(M,Br.onMouseOver,j)))},[j]),v.useEffect(()=>{M&&C&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(M,Br.onClick,C)))},[C]),v.useEffect(()=>{M&&I&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(M,Br.onClusteringBegin,I)))},[I]),v.useEffect(()=>{M&&N&&(ne!==null&&google.maps.event.removeListener(ne),le(google.maps.event.addListener(M,Br.onClusteringEnd,N)))},[N]),v.useEffect(()=>{typeof r<"u"&&M!==null&&ct.averageCenter(M,r)},[M,r]),v.useEffect(()=>{typeof i<"u"&&M!==null&&ct.batchSizeIE(M,i)},[M,i]),v.useEffect(()=>{typeof s<"u"&&M!==null&&ct.calculator(M,s)},[M,s]),v.useEffect(()=>{typeof o<"u"&&M!==null&&ct.clusterClass(M,o)},[M,o]),v.useEffect(()=>{typeof l<"u"&&M!==null&&ct.enableRetinaIcons(M,l)},[M,l]),v.useEffect(()=>{typeof u<"u"&&M!==null&&ct.gridSize(M,u)},[M,u]),v.useEffect(()=>{typeof d<"u"&&M!==null&&ct.ignoreHidden(M,d)},[M,d]),v.useEffect(()=>{typeof f<"u"&&M!==null&&ct.imageExtension(M,f)},[M,f]),v.useEffect(()=>{typeof m<"u"&&M!==null&&ct.imagePath(M,m)},[M,m]),v.useEffect(()=>{typeof y<"u"&&M!==null&&ct.imageSizes(M,y)},[M,y]),v.useEffect(()=>{typeof _<"u"&&M!==null&&ct.maxZoom(M,_)},[M,_]),v.useEffect(()=>{typeof x<"u"&&M!==null&&ct.minimumClusterSize(M,x)},[M,x]),v.useEffect(()=>{typeof b<"u"&&M!==null&&ct.styles(M,b)},[M,b]),v.useEffect(()=>{typeof T<"u"&&M!==null&&ct.title(M,T)},[M,T]),v.useEffect(()=>{typeof E<"u"&&M!==null&&ct.zoomOnClick(M,E)},[M,E]),v.useEffect(()=>{if(V){var re=x7({},n||b7),ee=new DR(V,[],re);return r&&ct.averageCenter(ee,r),i&&ct.batchSizeIE(ee,i),s&&ct.calculator(ee,s),o&&ct.clusterClass(ee,o),l&&ct.enableRetinaIcons(ee,l),u&&ct.gridSize(ee,u),d&&ct.ignoreHidden(ee,d),f&&ct.imageExtension(ee,f),m&&ct.imagePath(ee,m),y&&ct.imageSizes(ee,y),_&&ct.maxZoom(ee,_),x&&ct.minimumClusterSize(ee,x),b&&ct.styles(ee,b),T&&ct.title(ee,T),E&&ct.zoomOnClick(ee,E),z&&K(google.maps.event.addListener(ee,Br.onMouseOut,z)),j&&oe(google.maps.event.addListener(ee,Br.onMouseOver,j)),C&&B(google.maps.event.addListener(ee,Br.onClick,C)),I&&le(google.maps.event.addListener(ee,Br.onClusteringBegin,I)),N&&he(google.maps.event.addListener(ee,Br.onClusteringEnd,N)),D(ee),A&&A(ee),()=>{H!==null&&google.maps.event.removeListener(H),Z!==null&&google.maps.event.removeListener(Z),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),ne!==null&&google.maps.event.removeListener(ne),R&&R(ee)}}},[]),M!==null&&e(M)||null}v.memo(E7);class C7 extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{markerClusterer:null}),X(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new DR(this.context,[],this.props.options);this.registeredEvents=qe({updaterMap:ct,eventMap:Br,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:ct,eventMap:Br,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Qe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}X(C7,"contextType",Ue);function YC(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var jR=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),e.enableEventPropagation||YC(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=s;o<l.length;o++){var u=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,u,YC))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),l=o.offsetWidth,u=o.offsetHeight,d=this.pixelOffset.width,f=this.pixelOffset.height,m=this.div.offsetWidth,y=this.div.offsetHeight,_=this.infoBoxClearance.width,x=this.infoBoxClearance.height,b=this.getProjection(),T=b.fromLatLngToContainerPixel(this.position);T!==null&&(T.x<-d+_?r=T.x+d-_:T.x+m+d+_>l&&(r=T.x+m+d+_-l),this.alignBottom?T.y<-f+x+y?i=T.y+f-x-y:T.y+f+x>u&&(i=T.y+f+x-u):T.y<-f+x?i=T.y+f-x:T.y+y+f+x>u&&(i=T.y+y+f+x-u)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),S7=["position"],T7=["position"];function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var XC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},eS={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},L7={};function P7(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:l,onContentChanged:u,onPositionChanged:d,onZindexChanged:f,onLoad:m,onUnmount:y}=t,_=v.useContext(Ue),[x,b]=v.useState(null),[T,E]=v.useState(null),[C,I]=v.useState(null),[N,j]=v.useState(null),[z,A]=v.useState(null),[R,M]=v.useState(null),D=v.useRef(null);return v.useEffect(()=>{_&&x!==null&&(x.close(),n?x.open(_,n):x.getPosition()&&x.open(_))},[_,x,n]),v.useEffect(()=>{r&&x!==null&&x.setOptions(r)},[x,r]),v.useEffect(()=>{if(i&&x!==null){var V=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);x.setPosition(V)}},[i]),v.useEffect(()=>{typeof s=="number"&&x!==null&&x.setZIndex(s)},[s]),v.useEffect(()=>{x&&o&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(x,"closeclick",o)))},[o]),v.useEffect(()=>{x&&l&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(x,"domready",l)))},[l]),v.useEffect(()=>{x&&u&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(x,"content_changed",u)))},[u]),v.useEffect(()=>{x&&d&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(x,"position_changed",d)))},[d]),v.useEffect(()=>{x&&f&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(x,"zindex_changed",f)))},[f]),v.useEffect(()=>{if(_){var V=r||L7,{position:U}=V,B=kw(V,S7),Q;U&&!(U instanceof google.maps.LatLng)&&(Q=new google.maps.LatLng(U.lat,U.lng));var le=new jR(Hp(Hp({},B),Q?{position:Q}:{}));D.current=document.createElement("div"),b(le),o&&E(google.maps.event.addListener(le,"closeclick",o)),l&&I(google.maps.event.addListener(le,"domready",l)),u&&j(google.maps.event.addListener(le,"content_changed",u)),d&&A(google.maps.event.addListener(le,"position_changed",d)),f&&M(google.maps.event.addListener(le,"zindex_changed",f)),le.setContent(D.current),n?le.open(_,n):le.getPosition()?le.open(_):cn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(le)}return()=>{x!==null&&(T&&google.maps.event.removeListener(T),N&&google.maps.event.removeListener(N),C&&google.maps.event.removeListener(C),z&&google.maps.event.removeListener(z),R&&google.maps.event.removeListener(R),y&&y(x),x.close())}},[]),D.current?Jr.createPortal(v.Children.only(e),D.current):null}v.memo(P7);class I7 extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",null),X(this,"state",{infoBox:null}),X(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):cn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),X(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=kw(e,T7),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new jR(Hp(Hp({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=qe({updaterMap:eS,eventMap:XC,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:eS,eventMap:XC,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Qe(this.registeredEvents),n.close())}render(){return this.containerElement?Jr.createPortal(v.Children.only(this.props.children),this.containerElement):null}}X(I7,"contextType",Ue);var hv,tS;function k7(){return tS||(tS=1,hv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),hv}var A7=k7(),nS=kR(A7),rS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],fv=1,bc=8;class Aw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==fv)throw new Error("Got v".concat(i," data when expected v").concat(fv,"."));var s=rS[r&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new Aw(l,o,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=rS.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-l%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,bc,e),this.coords=new this.ArrayType(this.data,bc+l+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(bc+o+l+u),this.ids=new this.IndexArrayType(this.data,bc,e),this.coords=new this.ArrayType(this.data,bc+l+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(fv<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return r_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:l}=this,u=[0,s.length-1,0],d=[];u.length;){var f=u.pop()||0,m=u.pop()||0,y=u.pop()||0;if(m-y<=l){for(var _=y;_<=m;_++){var x=o[2*_],b=o[2*_+1];x>=e&&x<=r&&b>=n&&b<=i&&d.push(s[_])}continue}var T=y+m>>1,E=o[2*T],C=o[2*T+1];E>=e&&E<=r&&C>=n&&C<=i&&d.push(s[T]),(f===0?e<=E:n<=C)&&(u.push(y),u.push(T-1),u.push(1-f)),(f===0?r>=E:i>=C)&&(u.push(T+1),u.push(m),u.push(1-f))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,l=[0,i.length-1,0],u=[],d=r*r;l.length;){var f=l.pop()||0,m=l.pop()||0,y=l.pop()||0;if(m-y<=o){for(var _=y;_<=m;_++)iS(s[2*_],s[2*_+1],e,n)<=d&&u.push(i[_]);continue}var x=y+m>>1,b=s[2*x],T=s[2*x+1];iS(b,T,e,n)<=d&&u.push(i[x]),(f===0?e-r<=b:n-r<=T)&&(l.push(y),l.push(x-1),l.push(1-f)),(f===0?e+r>=b:n+r>=T)&&(l.push(x+1),l.push(m),l.push(1-f))}return u}}function r_(t,e,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;VR(t,e,o,r,i,s),r_(t,e,n,r,o-1,1-s),r_(t,e,n,o+1,i,1-s)}}function VR(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var o=i-r+1,l=n-r+1,u=Math.log(o),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(o-d)/o)*(l-o/2<0?-1:1),m=Math.max(r,Math.floor(n-l*d/o+f)),y=Math.min(i,Math.floor(n+(o-l)*d/o+f));VR(t,e,n,m,y,s)}var _=e[2*n+s],x=r,b=i;for(Ec(t,e,r,n),e[2*i+s]>_&&Ec(t,e,r,i);x<b;){for(Ec(t,e,x,b),x++,b--;e[2*x+s]<_;)x++;for(;e[2*b+s]>_;)b--}e[2*r+s]===_?Ec(t,e,r,b):(b++,Ec(t,e,b,i)),b<=n&&(r=b+1),n<=b&&(i=b-1)}}function Ec(t,e,n,r){pv(t,n,r),pv(e,2*n,2*r),pv(e,2*n+1,2*r+1)}function pv(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function iS(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var R7={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},sS=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ea=2,Ks=3,mv=4,Gs=5,FR=6;class M7{constructor(e){this.options=Object.assign(Object.create(R7),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var o=[],l=0;l<e.length;l++){var u=e[l];if(u.geometry){var[d,f]=u.geometry.coordinates,m=sS(uf(d)),y=sS(cf(f));o.push(m,y,1/0,l,-1,1),this.options.reduce&&o.push(0)}}var _=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(var x=i;x>=r;x--){var b=+Date.now();_=this.trees[x]=this._createTree(this._cluster(_,x)),n&&console.log("z%d: %d clusters in %dms",x,_.numItems,+Date.now()-b)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var l=this.getClusters([r,i,180,o],n),u=this.getClusters([-180,i,s,o],n);return l.concat(u)}var d=this.trees[this._limitZoom(n)],f=d.range(uf(r),cf(o),uf(s),cf(i)),m=d.data,y=[];for(var _ of f){var x=this.stride*_;y.push(m[x+Gs]>1?oS(m,x,this.clusterProps):this.points[m[x+Ks]])}return y}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var o=s.data;if(n*this.stride>=o.length)throw new Error(i);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[n*this.stride],d=o[n*this.stride+1],f=s.within(u,d,l),m=[];for(var y of f){var _=y*this.stride;o[_+mv]===e&&m.push(o[_+Gs]>1?oS(o,_,this.clusterProps):this.points[o[_+Ks]])}if(m.length===0)throw new Error(i);return m}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:l}=this.options,u=l/o,d=(r-u)/s,f=(r+1+u)/s,m={features:[]};return this._addTileFeatures(i.range((n-u)/s,d,(n+1+u)/s,f),i.data,n,r,s,m),n===0&&this._addTileFeatures(i.range(1-u/s,d,1,f),i.data,s,r,s,m),n===s-1&&this._addTileFeatures(i.range(0,d,u/s,f),i.data,-1,r,s,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var o=this.getChildren(n);for(var l of o){var u=l.properties;if(u&&u.cluster?s+u.point_count<=i?s+=u.point_count:s=this._appendLeaves(e,u.cluster_id,r,i,s):s<i?s++:e.push(l),e.length===r)break}return s}_createTree(e){for(var n=new Aw(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(var l of e){var u=l*this.stride,d=n[u+Gs]>1,f=void 0,m=void 0,y=void 0;if(d)f=zR(n,u,this.clusterProps),m=n[u],y=n[u+1];else{var _=this.points[n[u+Ks]];f=_.properties;var[x,b]=_.geometry.coordinates;m=uf(x),y=cf(b)}var T={type:1,geometry:[[Math.round(this.options.extent*(m*s-r)),Math.round(this.options.extent*(y*s-i))]],tags:f},E=void 0;d||this.options.generateId?E=n[u+Ks]:E=this.points[n[u+Ks]].id,E!==void 0&&(T.id=E),o.features.push(T)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:o}=this.options,l=r/(i*Math.pow(2,n)),u=e.data,d=[],f=this.stride,m=0;m<u.length;m+=f)if(!(u[m+ea]<=n)){u[m+ea]=n;var y=u[m],_=u[m+1],x=e.within(u[m],u[m+1],l),b=u[m+Gs],T=b;for(var E of x){var C=E*f;u[C+ea]>n&&(T+=u[C+Gs])}if(T>b&&T>=o){var I=y*b,N=_*b,j=void 0,z=-1,A=((m/f|0)<<5)+(n+1)+this.points.length;for(var R of x){var M=R*f;if(!(u[M+ea]<=n)){u[M+ea]=n;var D=u[M+Gs];I+=u[M]*D,N+=u[M+1]*D,u[M+mv]=A,s&&(j||(j=this._map(u,m,!0),z=this.clusterProps.length,this.clusterProps.push(j)),s(j,this._map(u,M)))}}u[m+mv]=A,d.push(I/T,N/T,1/0,A,-1,T),s&&d.push(z)}else{for(var V=0;V<f;V++)d.push(u[m+V]);if(T>1)for(var U of x){var B=U*f;if(!(u[B+ea]<=n)){u[B+ea]=n;for(var Q=0;Q<f;Q++)d.push(u[B+Q])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Gs]>1){var i=this.clusterProps[e[n+FR]];return r?Object.assign({},i):i}var s=this.points[e[n+Ks]].properties,o=this.options.map(s);return r&&o===s?Object.assign({},o):o}}function oS(t,e,n){return{type:"Feature",id:t[e+Ks],properties:zR(t,e,n),geometry:{type:"Point",coordinates:[N7(t[e]),O7(t[e+1])]}}}function zR(t,e,n){var r=t[e+Gs],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+FR],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Ks],point_count:r,point_count_abbreviated:i})}function uf(t){return t/360+.5}function cf(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function N7(t){return(t-.5)*360}function O7(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function D7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Er{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class i_{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Er.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Er.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Er.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class j7{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return V7(n)}}var V7=t=>{var e=t.map(n=>new i_({position:Er.getPosition(n),markers:[n]}));return e};class F7 extends j7{constructor(e){var{maxZoom:n,radius:r=60}=e,i=D7(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new M7(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!nS(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var o=Er.getPosition(s),l=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!nS(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new i_({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new i_({markers:[s],position:Er.getPosition(s)})}}class z7{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class B7{render(e,n,r){var{count:i,position:s}=e,o=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),u="Cluster of ".concat(i," markers"),d=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Er.isAdvancedMarkerAvailable(r)){var f=new DOMParser,m=f.parseFromString(l,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var y={map:r,position:s,zIndex:d,title:u,content:m};return new google.maps.marker.AdvancedMarkerElement(y)}var _={position:s,zIndex:d,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(_)}}function U7(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Rw{constructor(){U7(Rw,google.maps.OverlayView)}}var Jc;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Jc||(Jc={}));var $7=(t,e,n)=>{n.fitBounds(e.bounds)};class H7 extends Rw{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new F7(i),renderer:o=new B7,onClusterClick:l=$7}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Er.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Jc.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var o=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||Er.setMap(l.marker,null):o.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(u=>Er.setMap(u,null)))}google.maps.event.trigger(this,Jc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Er.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new z7(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Er.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Jc.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Er.setMap(r.marker,n)})}}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W7(t){var e=j$(),[n,r]=v.useState(null);return v.useEffect(()=>{if(e&&n===null){var i=new H7(lS(lS({},t),{},{map:e}));r(i)}},[e]),n}function G7(t){var{children:e,options:n}=t,r=W7(n);return r!==null?e(r):null}v.memo(G7);var uS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},cS={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function q7(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:l,onContentChanged:u,onPositionChanged:d,onZindexChanged:f,onLoad:m,onUnmount:y}=t,_=v.useContext(Ue),[x,b]=v.useState(null),[T,E]=v.useState(null),[C,I]=v.useState(null),[N,j]=v.useState(null),[z,A]=v.useState(null),[R,M]=v.useState(null),D=v.useRef(null);return v.useEffect(()=>{x!==null&&(x.close(),n?x.open(_,n):x.getPosition()&&x.open(_))},[_,x,n]),v.useEffect(()=>{r&&x!==null&&x.setOptions(r)},[x,r]),v.useEffect(()=>{i&&x!==null&&x.setPosition(i)},[i]),v.useEffect(()=>{typeof s=="number"&&x!==null&&x.setZIndex(s)},[s]),v.useEffect(()=>{x&&o&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(x,"closeclick",o)))},[o]),v.useEffect(()=>{x&&l&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(x,"domready",l)))},[l]),v.useEffect(()=>{x&&u&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(x,"content_changed",u)))},[u]),v.useEffect(()=>{x&&d&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(x,"position_changed",d)))},[d]),v.useEffect(()=>{x&&f&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(x,"zindex_changed",f)))},[f]),v.useEffect(()=>{var V=new google.maps.InfoWindow(r);return b(V),D.current=document.createElement("div"),o&&E(google.maps.event.addListener(V,"closeclick",o)),l&&I(google.maps.event.addListener(V,"domready",l)),u&&j(google.maps.event.addListener(V,"content_changed",u)),d&&A(google.maps.event.addListener(V,"position_changed",d)),f&&M(google.maps.event.addListener(V,"zindex_changed",f)),V.setContent(D.current),i&&V.setPosition(i),s&&V.setZIndex(s),n?V.open(_,n):V.getPosition()?V.open(_):cn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(V),()=>{T&&google.maps.event.removeListener(T),N&&google.maps.event.removeListener(N),C&&google.maps.event.removeListener(C),z&&google.maps.event.removeListener(z),R&&google.maps.event.removeListener(R),y&&y(V),V.close()}},[]),D.current?Jr.createPortal(v.Children.only(e),D.current):null}v.memo(q7);class Z7 extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",null),X(this,"state",{infoWindow:null}),X(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):cn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),X(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=qe({updaterMap:cS,eventMap:uS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:cS,eventMap:uS,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Qe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Jr.createPortal(v.Children.only(this.props.children),this.containerElement):null}}X(Z7,"contextType",Ue);function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},K7={};function Q7(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:o,onDragEnd:l,onDragStart:u,onMouseDown:d,onMouseMove:f,onMouseOut:m,onMouseOver:y,onMouseUp:_,onRightClick:x,onClick:b,onDrag:T,onLoad:E,onUnmount:C}=t,I=v.useContext(Ue),[N,j]=v.useState(null),[z,A]=v.useState(null),[R,M]=v.useState(null),[D,V]=v.useState(null),[U,B]=v.useState(null),[Q,le]=v.useState(null),[ne,he]=v.useState(null),[H,K]=v.useState(null),[Z,oe]=v.useState(null),[re,ee]=v.useState(null),[ue,W]=v.useState(null),[me,fe]=v.useState(null);return v.useEffect(()=>{N!==null&&N.setMap(I)},[I]),v.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),v.useEffect(()=>{typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),v.useEffect(()=>{typeof r<"u"&&N!==null&&N.setEditable(r)},[N,r]),v.useEffect(()=>{typeof i<"u"&&N!==null&&N.setVisible(i)},[N,i]),v.useEffect(()=>{typeof s<"u"&&N!==null&&N.setPath(s)},[N,s]),v.useEffect(()=>{N&&o&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(N,"dblclick",o)))},[o]),v.useEffect(()=>{N&&l&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(N,"dragend",l)))},[l]),v.useEffect(()=>{N&&u&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(N,"dragstart",u)))},[u]),v.useEffect(()=>{N&&d&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(N,"mousedown",d)))},[d]),v.useEffect(()=>{N&&f&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(N,"mousemove",f)))},[f]),v.useEffect(()=>{N&&m&&(ne!==null&&google.maps.event.removeListener(ne),he(google.maps.event.addListener(N,"mouseout",m)))},[m]),v.useEffect(()=>{N&&y&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(N,"mouseover",y)))},[y]),v.useEffect(()=>{N&&_&&(Z!==null&&google.maps.event.removeListener(Z),oe(google.maps.event.addListener(N,"mouseup",_)))},[_]),v.useEffect(()=>{N&&x&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(N,"rightclick",x)))},[x]),v.useEffect(()=>{N&&b&&(ue!==null&&google.maps.event.removeListener(ue),W(google.maps.event.addListener(N,"click",b)))},[b]),v.useEffect(()=>{N&&T&&(me!==null&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(N,"drag",T)))},[T]),v.useEffect(()=>{var _e=new google.maps.Polyline(Wp(Wp({},e||K7),{},{map:I}));return s&&_e.setPath(s),typeof i<"u"&&_e.setVisible(i),typeof r<"u"&&_e.setEditable(r),typeof n<"u"&&_e.setDraggable(n),o&&A(google.maps.event.addListener(_e,"dblclick",o)),l&&M(google.maps.event.addListener(_e,"dragend",l)),u&&V(google.maps.event.addListener(_e,"dragstart",u)),d&&B(google.maps.event.addListener(_e,"mousedown",d)),f&&le(google.maps.event.addListener(_e,"mousemove",f)),m&&he(google.maps.event.addListener(_e,"mouseout",m)),y&&K(google.maps.event.addListener(_e,"mouseover",y)),_&&oe(google.maps.event.addListener(_e,"mouseup",_)),x&&ee(google.maps.event.addListener(_e,"rightclick",x)),b&&W(google.maps.event.addListener(_e,"click",b)),T&&fe(google.maps.event.addListener(_e,"drag",T)),j(_e),E&&E(_e),()=>{z!==null&&google.maps.event.removeListener(z),R!==null&&google.maps.event.removeListener(R),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),ne!==null&&google.maps.event.removeListener(ne),H!==null&&google.maps.event.removeListener(H),Z!==null&&google.maps.event.removeListener(Z),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),C&&C(_e),_e.setMap(null)}},[]),null}v.memo(Q7);class Y7 extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{polyline:null}),X(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Wp(Wp({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:fS,eventMap:hS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:fS,eventMap:hS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Qe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}X(Y7,"contextType",Ue);function pS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},vS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function J7(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:o,onDblClick:l,onDragEnd:u,onDragStart:d,onMouseDown:f,onMouseMove:m,onMouseOut:y,onMouseOver:_,onMouseUp:x,onRightClick:b,onClick:T,onDrag:E,onLoad:C,onUnmount:I,onEdit:N}=t,j=v.useContext(Ue),[z,A]=v.useState(null),[R,M]=v.useState(null),[D,V]=v.useState(null),[U,B]=v.useState(null),[Q,le]=v.useState(null),[ne,he]=v.useState(null),[H,K]=v.useState(null),[Z,oe]=v.useState(null),[re,ee]=v.useState(null),[ue,W]=v.useState(null),[me,fe]=v.useState(null),[_e,De]=v.useState(null);return v.useEffect(()=>{z!==null&&z.setMap(j)},[j]),v.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),v.useEffect(()=>{typeof n<"u"&&z!==null&&z.setDraggable(n)},[z,n]),v.useEffect(()=>{typeof r<"u"&&z!==null&&z.setEditable(r)},[z,r]),v.useEffect(()=>{typeof i<"u"&&z!==null&&z.setVisible(i)},[z,i]),v.useEffect(()=>{typeof s<"u"&&z!==null&&z.setPath(s)},[z,s]),v.useEffect(()=>{typeof o<"u"&&z!==null&&z.setPaths(o)},[z,o]),v.useEffect(()=>{z&&typeof l=="function"&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(z,"dblclick",l)))},[l]),v.useEffect(()=>{z&&(google.maps.event.addListener(z.getPath(),"insert_at",()=>{N==null||N(z)}),google.maps.event.addListener(z.getPath(),"set_at",()=>{N==null||N(z)}),google.maps.event.addListener(z.getPath(),"remove_at",()=>{N==null||N(z)}))},[z,N]),v.useEffect(()=>{z&&typeof u=="function"&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(z,"dragend",u)))},[u]),v.useEffect(()=>{z&&typeof d=="function"&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(z,"dragstart",d)))},[d]),v.useEffect(()=>{z&&typeof f=="function"&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(z,"mousedown",f)))},[f]),v.useEffect(()=>{z&&typeof m=="function"&&(ne!==null&&google.maps.event.removeListener(ne),he(google.maps.event.addListener(z,"mousemove",m)))},[m]),v.useEffect(()=>{z&&typeof y=="function"&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(z,"mouseout",y)))},[y]),v.useEffect(()=>{z&&typeof _=="function"&&(Z!==null&&google.maps.event.removeListener(Z),oe(google.maps.event.addListener(z,"mouseover",_)))},[_]),v.useEffect(()=>{z&&typeof x=="function"&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(z,"mouseup",x)))},[x]),v.useEffect(()=>{z&&typeof b=="function"&&(ue!==null&&google.maps.event.removeListener(ue),W(google.maps.event.addListener(z,"rightclick",b)))},[b]),v.useEffect(()=>{z&&typeof T=="function"&&(me!==null&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(z,"click",T)))},[T]),v.useEffect(()=>{z&&typeof E=="function"&&(_e!==null&&google.maps.event.removeListener(_e),De(google.maps.event.addListener(z,"drag",E)))},[E]),v.useEffect(()=>{var ve=new google.maps.Polygon(mS(mS({},e),{},{map:j}));return s&&ve.setPath(s),o&&ve.setPaths(o),typeof i<"u"&&ve.setVisible(i),typeof r<"u"&&ve.setEditable(r),typeof n<"u"&&ve.setDraggable(n),l&&M(google.maps.event.addListener(ve,"dblclick",l)),u&&V(google.maps.event.addListener(ve,"dragend",u)),d&&B(google.maps.event.addListener(ve,"dragstart",d)),f&&le(google.maps.event.addListener(ve,"mousedown",f)),m&&he(google.maps.event.addListener(ve,"mousemove",m)),y&&K(google.maps.event.addListener(ve,"mouseout",y)),_&&oe(google.maps.event.addListener(ve,"mouseover",_)),x&&ee(google.maps.event.addListener(ve,"mouseup",x)),b&&W(google.maps.event.addListener(ve,"rightclick",b)),T&&fe(google.maps.event.addListener(ve,"click",T)),E&&De(google.maps.event.addListener(ve,"drag",E)),A(ve),C&&C(ve),()=>{R!==null&&google.maps.event.removeListener(R),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),ne!==null&&google.maps.event.removeListener(ne),H!==null&&google.maps.event.removeListener(H),Z!==null&&google.maps.event.removeListener(Z),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),I&&I(ve),ve.setMap(null)}},[]),null}v.memo(J7);class X7 extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=qe({updaterMap:vS,eventMap:gS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:vS,eventMap:gS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Qe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}X(X7,"contextType",Ue);function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _S={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},wS={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function eH(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:l,onDragStart:u,onMouseDown:d,onMouseMove:f,onMouseOut:m,onMouseOver:y,onMouseUp:_,onRightClick:x,onClick:b,onDrag:T,onBoundsChanged:E,onLoad:C,onUnmount:I}=t,N=v.useContext(Ue),[j,z]=v.useState(null),[A,R]=v.useState(null),[M,D]=v.useState(null),[V,U]=v.useState(null),[B,Q]=v.useState(null),[le,ne]=v.useState(null),[he,H]=v.useState(null),[K,Z]=v.useState(null),[oe,re]=v.useState(null),[ee,ue]=v.useState(null),[W,me]=v.useState(null),[fe,_e]=v.useState(null),[De,ve]=v.useState(null);return v.useEffect(()=>{j!==null&&j.setMap(N)},[N]),v.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),v.useEffect(()=>{typeof r<"u"&&j!==null&&j.setDraggable(r)},[j,r]),v.useEffect(()=>{typeof i<"u"&&j!==null&&j.setEditable(i)},[j,i]),v.useEffect(()=>{typeof s<"u"&&j!==null&&j.setVisible(s)},[j,s]),v.useEffect(()=>{typeof n<"u"&&j!==null&&j.setBounds(n)},[j,n]),v.useEffect(()=>{j&&o&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(j,"dblclick",o)))},[o]),v.useEffect(()=>{j&&l&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(j,"dragend",l)))},[l]),v.useEffect(()=>{j&&u&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(j,"dragstart",u)))},[u]),v.useEffect(()=>{j&&d&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(j,"mousedown",d)))},[d]),v.useEffect(()=>{j&&f&&(le!==null&&google.maps.event.removeListener(le),ne(google.maps.event.addListener(j,"mousemove",f)))},[f]),v.useEffect(()=>{j&&m&&(he!==null&&google.maps.event.removeListener(he),H(google.maps.event.addListener(j,"mouseout",m)))},[m]),v.useEffect(()=>{j&&y&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(j,"mouseover",y)))},[y]),v.useEffect(()=>{j&&_&&(oe!==null&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(j,"mouseup",_)))},[_]),v.useEffect(()=>{j&&x&&(ee!==null&&google.maps.event.removeListener(ee),ue(google.maps.event.addListener(j,"rightclick",x)))},[x]),v.useEffect(()=>{j&&b&&(W!==null&&google.maps.event.removeListener(W),me(google.maps.event.addListener(j,"click",b)))},[b]),v.useEffect(()=>{j&&T&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(j,"drag",T)))},[T]),v.useEffect(()=>{j&&E&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(j,"bounds_changed",E)))},[E]),v.useEffect(()=>{var ye=new google.maps.Rectangle(Gp(Gp({},e),{},{map:N}));return typeof s<"u"&&ye.setVisible(s),typeof i<"u"&&ye.setEditable(i),typeof r<"u"&&ye.setDraggable(r),typeof n<"u"&&ye.setBounds(n),o&&R(google.maps.event.addListener(ye,"dblclick",o)),l&&D(google.maps.event.addListener(ye,"dragend",l)),u&&U(google.maps.event.addListener(ye,"dragstart",u)),d&&Q(google.maps.event.addListener(ye,"mousedown",d)),f&&ne(google.maps.event.addListener(ye,"mousemove",f)),m&&H(google.maps.event.addListener(ye,"mouseout",m)),y&&Z(google.maps.event.addListener(ye,"mouseover",y)),_&&re(google.maps.event.addListener(ye,"mouseup",_)),x&&ue(google.maps.event.addListener(ye,"rightclick",x)),b&&me(google.maps.event.addListener(ye,"click",b)),T&&_e(google.maps.event.addListener(ye,"drag",T)),E&&ve(google.maps.event.addListener(ye,"bounds_changed",E)),z(ye),C&&C(ye),()=>{A!==null&&google.maps.event.removeListener(A),M!==null&&google.maps.event.removeListener(M),V!==null&&google.maps.event.removeListener(V),B!==null&&google.maps.event.removeListener(B),le!==null&&google.maps.event.removeListener(le),he!==null&&google.maps.event.removeListener(he),K!==null&&google.maps.event.removeListener(K),oe!==null&&google.maps.event.removeListener(oe),ee!==null&&google.maps.event.removeListener(ee),W!==null&&google.maps.event.removeListener(W),fe!==null&&google.maps.event.removeListener(fe),De!==null&&google.maps.event.removeListener(De),I&&I(ye),ye.setMap(null)}},[]),null}v.memo(eH);class tH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{rectangle:null}),X(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Gp(Gp({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:wS,eventMap:_S,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:wS,eventMap:_S,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Qe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}X(tH,"contextType",Ue);function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ES={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},nH={};function rH(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:o,onDblClick:l,onDragEnd:u,onDragStart:d,onMouseDown:f,onMouseMove:m,onMouseOut:y,onMouseOver:_,onMouseUp:x,onRightClick:b,onClick:T,onDrag:E,onCenterChanged:C,onRadiusChanged:I,onLoad:N,onUnmount:j}=t,z=v.useContext(Ue),[A,R]=v.useState(null),[M,D]=v.useState(null),[V,U]=v.useState(null),[B,Q]=v.useState(null),[le,ne]=v.useState(null),[he,H]=v.useState(null),[K,Z]=v.useState(null),[oe,re]=v.useState(null),[ee,ue]=v.useState(null),[W,me]=v.useState(null),[fe,_e]=v.useState(null),[De,ve]=v.useState(null),[ye,pe]=v.useState(null),[Ie,Ze]=v.useState(null);return v.useEffect(()=>{A!==null&&A.setMap(z)},[z]),v.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),v.useEffect(()=>{typeof i<"u"&&A!==null&&A.setDraggable(i)},[A,i]),v.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),v.useEffect(()=>{typeof o<"u"&&A!==null&&A.setVisible(o)},[A,o]),v.useEffect(()=>{typeof r=="number"&&A!==null&&A.setRadius(r)},[A,r]),v.useEffect(()=>{typeof n<"u"&&A!==null&&A.setCenter(n)},[A,n]),v.useEffect(()=>{A&&l&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(A,"dblclick",l)))},[l]),v.useEffect(()=>{A&&u&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(A,"dragend",u)))},[u]),v.useEffect(()=>{A&&d&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(A,"dragstart",d)))},[d]),v.useEffect(()=>{A&&f&&(le!==null&&google.maps.event.removeListener(le),ne(google.maps.event.addListener(A,"mousedown",f)))},[f]),v.useEffect(()=>{A&&m&&(he!==null&&google.maps.event.removeListener(he),H(google.maps.event.addListener(A,"mousemove",m)))},[m]),v.useEffect(()=>{A&&y&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(A,"mouseout",y)))},[y]),v.useEffect(()=>{A&&_&&(oe!==null&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(A,"mouseover",_)))},[_]),v.useEffect(()=>{A&&x&&(ee!==null&&google.maps.event.removeListener(ee),ue(google.maps.event.addListener(A,"mouseup",x)))},[x]),v.useEffect(()=>{A&&b&&(W!==null&&google.maps.event.removeListener(W),me(google.maps.event.addListener(A,"rightclick",b)))},[b]),v.useEffect(()=>{A&&T&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(A,"click",T)))},[T]),v.useEffect(()=>{A&&E&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(A,"drag",E)))},[E]),v.useEffect(()=>{A&&C&&(ye!==null&&google.maps.event.removeListener(ye),pe(google.maps.event.addListener(A,"center_changed",C)))},[T]),v.useEffect(()=>{A&&I&&(Ie!==null&&google.maps.event.removeListener(Ie),Ze(google.maps.event.addListener(A,"radius_changed",I)))},[I]),v.useEffect(()=>{var Te=new google.maps.Circle(qp(qp({},e||nH),{},{map:z}));return typeof r=="number"&&Te.setRadius(r),typeof n<"u"&&Te.setCenter(n),typeof r=="number"&&Te.setRadius(r),typeof o<"u"&&Te.setVisible(o),typeof s<"u"&&Te.setEditable(s),typeof i<"u"&&Te.setDraggable(i),l&&D(google.maps.event.addListener(Te,"dblclick",l)),u&&U(google.maps.event.addListener(Te,"dragend",u)),d&&Q(google.maps.event.addListener(Te,"dragstart",d)),f&&ne(google.maps.event.addListener(Te,"mousedown",f)),m&&H(google.maps.event.addListener(Te,"mousemove",m)),y&&Z(google.maps.event.addListener(Te,"mouseout",y)),_&&re(google.maps.event.addListener(Te,"mouseover",_)),x&&ue(google.maps.event.addListener(Te,"mouseup",x)),b&&me(google.maps.event.addListener(Te,"rightclick",b)),T&&_e(google.maps.event.addListener(Te,"click",T)),E&&ve(google.maps.event.addListener(Te,"drag",E)),C&&pe(google.maps.event.addListener(Te,"center_changed",C)),I&&Ze(google.maps.event.addListener(Te,"radius_changed",I)),R(Te),N&&N(Te),()=>{M!==null&&google.maps.event.removeListener(M),V!==null&&google.maps.event.removeListener(V),B!==null&&google.maps.event.removeListener(B),le!==null&&google.maps.event.removeListener(le),he!==null&&google.maps.event.removeListener(he),K!==null&&google.maps.event.removeListener(K),oe!==null&&google.maps.event.removeListener(oe),ee!==null&&google.maps.event.removeListener(ee),W!==null&&google.maps.event.removeListener(W),fe!==null&&google.maps.event.removeListener(fe),ye!==null&&google.maps.event.removeListener(ye),Ie!==null&&google.maps.event.removeListener(Ie),j&&j(Te),Te.setMap(null)}},[]),null}v.memo(rH);class iH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{circle:null}),X(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(qp(qp({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:ES,eventMap:bS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:ES,eventMap:bS,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Qe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}X(iH,"contextType",Ue);function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var SS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},TS={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function sH(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:o,onMouseOver:l,onMouseUp:u,onRightClick:d,onAddFeature:f,onRemoveFeature:m,onRemoveProperty:y,onSetGeometry:_,onSetProperty:x,onLoad:b,onUnmount:T}=t,E=v.useContext(Ue),[C,I]=v.useState(null),[N,j]=v.useState(null),[z,A]=v.useState(null),[R,M]=v.useState(null),[D,V]=v.useState(null),[U,B]=v.useState(null),[Q,le]=v.useState(null),[ne,he]=v.useState(null),[H,K]=v.useState(null),[Z,oe]=v.useState(null),[re,ee]=v.useState(null),[ue,W]=v.useState(null),[me,fe]=v.useState(null),[_e,De]=v.useState(null);return v.useEffect(()=>{C!==null&&C.setMap(E)},[E]),v.useEffect(()=>{C&&r&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(C,"dblclick",r)))},[r]),v.useEffect(()=>{C&&i&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(C,"mousedown",i)))},[i]),v.useEffect(()=>{C&&s&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(C,"mousemove",s)))},[s]),v.useEffect(()=>{C&&o&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(C,"mouseout",o)))},[o]),v.useEffect(()=>{C&&l&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(C,"mouseover",l)))},[l]),v.useEffect(()=>{C&&u&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(C,"mouseup",u)))},[u]),v.useEffect(()=>{C&&d&&(ne!==null&&google.maps.event.removeListener(ne),he(google.maps.event.addListener(C,"rightclick",d)))},[d]),v.useEffect(()=>{C&&n&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(C,"click",n)))},[n]),v.useEffect(()=>{C&&f&&(Z!==null&&google.maps.event.removeListener(Z),oe(google.maps.event.addListener(C,"addfeature",f)))},[f]),v.useEffect(()=>{C&&m&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(C,"removefeature",m)))},[m]),v.useEffect(()=>{C&&y&&(ue!==null&&google.maps.event.removeListener(ue),W(google.maps.event.addListener(C,"removeproperty",y)))},[y]),v.useEffect(()=>{C&&_&&(me!==null&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(C,"setgeometry",_)))},[_]),v.useEffect(()=>{C&&x&&(_e!==null&&google.maps.event.removeListener(_e),De(google.maps.event.addListener(C,"setproperty",x)))},[x]),v.useEffect(()=>{if(E!==null){var ve=new google.maps.Data(Zp(Zp({},e),{},{map:E}));r&&j(google.maps.event.addListener(ve,"dblclick",r)),i&&A(google.maps.event.addListener(ve,"mousedown",i)),s&&M(google.maps.event.addListener(ve,"mousemove",s)),o&&V(google.maps.event.addListener(ve,"mouseout",o)),l&&B(google.maps.event.addListener(ve,"mouseover",l)),u&&le(google.maps.event.addListener(ve,"mouseup",u)),d&&he(google.maps.event.addListener(ve,"rightclick",d)),n&&K(google.maps.event.addListener(ve,"click",n)),f&&oe(google.maps.event.addListener(ve,"addfeature",f)),m&&ee(google.maps.event.addListener(ve,"removefeature",m)),y&&W(google.maps.event.addListener(ve,"removeproperty",y)),_&&fe(google.maps.event.addListener(ve,"setgeometry",_)),x&&De(google.maps.event.addListener(ve,"setproperty",x)),I(ve),b&&b(ve)}return()=>{C&&(N!==null&&google.maps.event.removeListener(N),z!==null&&google.maps.event.removeListener(z),R!==null&&google.maps.event.removeListener(R),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),ne!==null&&google.maps.event.removeListener(ne),H!==null&&google.maps.event.removeListener(H),Z!==null&&google.maps.event.removeListener(Z),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),_e!==null&&google.maps.event.removeListener(_e),T&&T(C),C.setMap(null))}},[]),null}v.memo(sH);class oH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{data:null}),X(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Zp(Zp({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:TS,eventMap:SS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:TS,eventMap:SS,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Qe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}X(oH,"contextType",Ue);function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var IS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},kS={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class aH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{kmlLayer:null}),X(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(PS(PS({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:kS,eventMap:IS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:kS,eventMap:IS,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Qe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}X(aH,"contextType",Ue);function BR(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function lH(t,e){return new e(t.lat,t.lng)}function uH(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function cH(t,e,n){return t instanceof e?t:n(t,e)}function dH(t,e,n){return t instanceof e?t:n(t,e)}function hH(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function fH(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function UR(t,e,n,r){return n!==void 0?hH(t,e,dH(n,google.maps.LatLngBounds,uH)):fH(t,e,cH(r,google.maps.LatLng,lH))}function pH(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gH(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(l,u,d,f){super(),this.container=l,this.pane=u,this.position=d,this.bounds=f}onAdd(){var l,u=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];u==null||u.appendChild(this.container)}draw(){var l=this.getProjection(),u=mH({},this.container?BR(this.container,i):{x:0,y:0}),d=UR(l,u,this.bounds,this.position);for(var[f,m]of Object.entries(d))this.container.style[f]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MS(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function NS(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function yH(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:o,getPixelPositionOffset:l,children:u}=t,d=v.useContext(Ue),f=v.useMemo(()=>{var y=document.createElement("div");return y.style.position="absolute",y},[]),m=v.useMemo(()=>gH(f,r,e,n,l),[f,r,e,n]);return v.useEffect(()=>(s==null||s(m),m==null||m.setMap(d),()=>{o==null||o(m),m==null||m.setMap(null)}),[d,m]),v.useEffect(()=>{f.style.zIndex="".concat(i)},[i,f]),Jr.createPortal(u,f)}v.memo(yH);class Du extends v.PureComponent{constructor(e){super(e),X(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),X(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();cn(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),X(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),X(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=vH({x:0,y:0},this.containerRef.current?BR(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=UR(r,i,this.props.bounds,this.props.position);if(!pH(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,l,u,d;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(l=s.left)!==null&&l!==void 0?l:0,width:(u=s.width)!==null&&u!==void 0?u:0,height:(d=s.height)!==null&&d!==void 0?d:0,position:"absolute"}})}}),X(this,"draw",()=>{this.onPositionElement()}),X(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=v.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=MS(e.position),r=MS(this.props.position),i=NS(e.bounds),s=NS(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Jr.createPortal(g.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),e):null}}X(Du,"FLOAT_PANE","floatPane");X(Du,"MAP_PANE","mapPane");X(Du,"MARKER_LAYER","markerLayer");X(Du,"OVERLAY_LAYER","overlayLayer");X(Du,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");X(Du,"contextType",Ue);function _H(){}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jS={onDblClick:"dblclick",onClick:"click"},VS={opacity(t,e){t.setOpacity(e)}};function wH(t){var{url:e,bounds:n,options:r,visible:i}=t,s=v.useContext(Ue),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=v.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return v.useEffect(()=>{l!==null&&l.setMap(s)},[s]),v.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(s))},[l,e]),v.useEffect(()=>{typeof i<"u"&&l!==null&&l.setOpacity(i?1:0)},[l,i]),v.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",u),l.setMap(s))},[l,n]),null}v.memo(wH);class $R extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{groundOverlay:null}),X(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){cn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,DS(DS({},this.props.options),{},{map:this.context}));this.registeredEvents=qe({updaterMap:VS,eventMap:jS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:VS,eventMap:jS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}X($R,"defaultProps",{onLoad:_H});X($R,"contextType",Ue);function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zS={},BS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function xH(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=v.useContext(Ue),[o,l]=v.useState(null);return v.useEffect(()=>{google.maps.visualization||cn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(()=>{cn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(()=>{o!==null&&o.setMap(s)},[s]),v.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),v.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(Kp(Kp({},i),{},{data:e,map:s}));return l(u),n&&n(u),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}v.memo(xH);class bH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{heatmapLayer:null}),X(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){cn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),cn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Kp(Kp({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=qe({updaterMap:BS,eventMap:zS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:BS,eventMap:zS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Qe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}X(bH,"contextType",Ue);var US={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},$S={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class EH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{streetViewPanorama:null}),X(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=qe({updaterMap:$S,eventMap:US,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:$S,eventMap:US,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Qe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}X(EH,"contextType",Ue);class CH extends v.PureComponent{constructor(){super(...arguments),X(this,"state",{streetViewService:null}),X(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}X(CH,"contextType",Ue);var HS={onDirectionsChanged:"directions_changed"},WS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class SH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{directionsRenderer:null}),X(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=qe({updaterMap:WS,eventMap:HS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:WS,eventMap:HS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Qe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}X(SH,"contextType",Ue);var GS={onPlacesChanged:"places_changed"},qS={bounds(t,e){t.setBounds(e)}};class TH extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",v.createRef()),X(this,"state",{searchBox:null}),X(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(cn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=qe({updaterMap:qS,eventMap:GS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:qS,eventMap:GS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Qe(this.registeredEvents))}render(){return g.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})}}X(TH,"contextType",Ue);var ZS={onPlaceChanged:"place_changed"},KS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class HR extends v.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",v.createRef()),X(this,"state",{autocomplete:null}),X(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;cn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=qe({updaterMap:KS,eventMap:ZS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Qe(this.registeredEvents),this.registeredEvents=qe({updaterMap:KS,eventMap:ZS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Qe(this.registeredEvents)}render(){return g.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})}}X(HR,"defaultProps",{className:""});X(HR,"contextType",Ue);const LH="AIzaSyD0ysOLiDjQLhFB1aD6Sh1EMGvZGmy8PLE",PH={width:"100%",height:"400px"},IH=[{id:1,name:"Eco Mart Central",lat:28.6139,lng:77.209},{id:2,name:"Green Store South",lat:28.5355,lng:77.391},{id:3,name:"Nature's Basket",lat:28.4089,lng:77.3178}],kH={lat:28.6139,lng:77.209},AH=()=>{const{isLoaded:t}=n7({googleMapsApiKey:LH});return t?g.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Shop Locator (Google Maps)"}),g.jsx(H$,{mapContainerStyle:PH,center:kH,zoom:11,children:IH.map(e=>g.jsx(OR,{position:{lat:e.lat,lng:e.lng},label:e.name},e.id))})]}):g.jsx("div",{children:"Loading Google Map..."})};function Mw(t,e){const n=v.useRef(e);v.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function RH(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const WR=1;function GR(t){return Object.freeze({__version:WR,map:t})}function rg(t,e){return Object.freeze({...t,...e})}const Nw=v.createContext(null),ig=Nw.Provider;function $a(){const t=v.useContext(Nw);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function sg(t){function e(n,r){const{instance:i,context:s}=t(n).current;return v.useImperativeHandle(r,()=>i),n.children==null?null:ce.createElement(ig,{value:s},n.children)}return v.forwardRef(e)}function qR(t){function e(n,r){const[i,s]=v.useState(!1),{instance:o}=t(n,s).current;v.useImperativeHandle(r,()=>o),v.useEffect(function(){i&&o.update()},[o,i,n.children]);const l=o._contentNode;return l?Jr.createPortal(n.children,l):null}return v.forwardRef(e)}function Ow(t){function e(n,r){const{instance:i}=t(n).current;return v.useImperativeHandle(r,()=>i),null}return v.forwardRef(e)}function Dw(t){return function(n){const r=$a(),i=t(n,r),{instance:s}=i.current,o=v.useRef(n.position),{position:l}=n;return v.useEffect(function(){return s.addTo(r.map),function(){s.remove()}},[r.map,s]),v.useEffect(function(){l!=null&&l!==o.current&&(s.setPosition(l),o.current=l)},[s,l]),i}}function og(t,e){const n=v.useRef();v.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function sh(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function ZR(t,e){return function(r,i){const s=$a(),o=t(sh(r,s),s);return Mw(s.map,r.attribution),og(o.current,r.eventHandlers),e(o.current,s,r,i),o}}var s_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Po,function(n){var r="1.9.4";function i(a){var c,p,w,P;for(p=1,w=arguments.length;p<w;p++){P=arguments[p];for(c in P)a[c]=P[c]}return a}var s=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function o(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var w=p.call(arguments,2);return function(){return a.apply(c,w.length?w.concat(p.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function d(a,c,p){var w,P,O,$;return $=function(){w=!1,P&&(O.apply(p,P),P=!1)},O=function(){w?P=arguments:(a.apply(p,arguments),setTimeout($,c),w=!0)},O}function f(a,c,p){var w=c[1],P=c[0],O=w-P;return a===w&&p?a:((a-P)%O+O)%O+P}function m(){return!1}function y(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function x(a){return _(a).split(/\s+/)}function b(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function T(a,c,p){var w=[];for(var P in a)w.push(encodeURIComponent(p?P.toUpperCase():P)+"="+encodeURIComponent(a[P]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function C(a,c){return a.replace(E,function(p,w){var P=c[w];if(P===void 0)throw new Error("No value provided for variable "+p);return typeof P=="function"&&(P=P(c)),P})}var I=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function N(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var A=0;function R(a){var c=+new Date,p=Math.max(0,16-(c-A));return A=c+p,window.setTimeout(a,p)}var M=window.requestAnimationFrame||z("RequestAnimationFrame")||R,D=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function V(a,c,p){if(p&&M===R)a.call(c);else return M.call(window,o(a,c))}function U(a){a&&D.call(window,a)}var B={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:f,falseFn:m,formatNum:y,trim:_,splitWords:x,setOptions:b,getParamString:T,template:C,isArray:I,indexOf:N,emptyImageUrl:j,requestFn:M,cancelFn:D,requestAnimFrame:V,cancelAnimFrame:U};function Q(){}Q.extend=function(a){var c=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,w=s(p);w.constructor=c,c.prototype=w;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(c[P]=this[P]);return a.statics&&i(c,a.statics),a.includes&&(le(a.includes),i.apply(null,[w].concat(a.includes))),i(w,a),delete w.statics,delete w.includes,w.options&&(w.options=p.options?s(p.options):{},i(w.options,a.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,$=w._initHooks.length;O<$;O++)w._initHooks[O].call(this)}},c},Q.include=function(a){var c=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Q.mergeOptions=function(a){return i(this.prototype.options,a),this},Q.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function le(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=I(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c);else{a=x(a);for(var P=0,O=a.length;P<O;P++)this._on(a[P],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var w in a)this._off(w,a[w],c);else{a=x(a);for(var P=arguments.length===1,O=0,$=a.length;O<$;O++)P?this._off(a[O]):this._off(a[O],c,p)}return this},_on:function(a,c,p,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var P={fn:c,ctx:p};w&&(P.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(P)}},_off:function(a,c,p){var w,P,O;if(this._events&&(w=this._events[a],!!w)){if(arguments.length===1){if(this._firingCount)for(P=0,O=w.length;P<O;P++)w[P].fn=m;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var $=this._listens(a,c,p);if($!==!1){var q=w[$];this._firingCount&&(q.fn=m,this._events[a]=w=w.slice()),w.splice($,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var w=i({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var P=this._events[a];if(P){this._firingCount=this._firingCount+1||1;for(var O=0,$=P.length;O<$;O++){var q=P[O],Y=q.fn;q.once&&this.off(a,Y,q.ctx),Y.call(q.ctx||this,w)}this._firingCount--}}return p&&this._propagateEvent(w),this},listens:function(a,c,p,w){typeof a!="string"&&console.warn('"string" type argument expected');var P=c;typeof c!="function"&&(w=!!c,P=void 0,p=void 0);var O=this._events&&this._events[a];if(O&&O.length&&this._listens(a,P,p)!==!1)return!0;if(w){for(var $ in this._eventParents)if(this._eventParents[$].listens(a,c,p,w))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var w=this._events[a]||[];if(!c)return!!w.length;p===this&&(p=void 0);for(var P=0,O=w.length;P<O;P++)if(w[P].fn===c&&w[P].ctx===p)return P;return!1},once:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c,!0);else{a=x(a);for(var P=0,O=a.length;P<O;P++)this._on(a[P],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var he=Q.extend(ne);function H(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var K=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(a){return this.clone()._add(Z(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Z(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new H(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new H(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(a){a=Z(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=Z(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Z(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Z(a,c,p){return a instanceof H?a:I(a)?new H(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new H(a.x,a.y):new H(a,c,p)}function oe(a,c){if(a)for(var p=c?[a,c]:a,w=0,P=p.length;w<P;w++)this.extend(p[w])}oe.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof H||typeof a[0]=="number"||"x"in a)c=p=Z(a);else if(a=re(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof H?a=Z(a):a=re(a),a instanceof oe?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=re(a);var c=this.min,p=this.max,w=a.min,P=a.max,O=P.x>=c.x&&w.x<=p.x,$=P.y>=c.y&&w.y<=p.y;return O&&$},overlaps:function(a){a=re(a);var c=this.min,p=this.max,w=a.min,P=a.max,O=P.x>c.x&&w.x<p.x,$=P.y>c.y&&w.y<p.y;return O&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,w=Math.abs(c.x-p.x)*a,P=Math.abs(c.y-p.y)*a;return re(Z(c.x-w,c.y-P),Z(p.x+w,p.y+P))},equals:function(a){return a?(a=re(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function re(a,c){return!a||a instanceof oe?a:new oe(a,c)}function ee(a,c){if(a)for(var p=c?[a,c]:a,w=0,P=p.length;w<P;w++)this.extend(p[w])}ee.prototype={extend:function(a){var c=this._southWest,p=this._northEast,w,P;if(a instanceof W)w=a,P=a;else if(a instanceof ee){if(w=a._southWest,P=a._northEast,!w||!P)return this}else return a?this.extend(me(a)||ue(a)):this;return!c&&!p?(this._southWest=new W(w.lat,w.lng),this._northEast=new W(P.lat,P.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),p.lat=Math.max(P.lat,p.lat),p.lng=Math.max(P.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,w=Math.abs(c.lat-p.lat)*a,P=Math.abs(c.lng-p.lng)*a;return new ee(new W(c.lat-w,c.lng-P),new W(p.lat+w,p.lng+P))},getCenter:function(){return new W((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new W(this.getNorth(),this.getWest())},getSouthEast:function(){return new W(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof W||"lat"in a?a=me(a):a=ue(a);var c=this._southWest,p=this._northEast,w,P;return a instanceof ee?(w=a.getSouthWest(),P=a.getNorthEast()):w=P=a,w.lat>=c.lat&&P.lat<=p.lat&&w.lng>=c.lng&&P.lng<=p.lng},intersects:function(a){a=ue(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),P=a.getNorthEast(),O=P.lat>=c.lat&&w.lat<=p.lat,$=P.lng>=c.lng&&w.lng<=p.lng;return O&&$},overlaps:function(a){a=ue(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),P=a.getNorthEast(),O=P.lat>c.lat&&w.lat<p.lat,$=P.lng>c.lng&&w.lng<p.lng;return O&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=ue(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(a,c){return a instanceof ee?a:new ee(a,c)}function W(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}W.prototype={equals:function(a,c){if(!a)return!1;a=me(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+y(this.lat,a)+", "+y(this.lng,a)+")"},distanceTo:function(a){return _e.distance(this,me(a))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return ue([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new W(this.lat,this.lng,this.alt)}};function me(a,c,p){return a instanceof W?a:I(a)&&typeof a[0]!="object"?a.length===3?new W(a[0],a[1],a[2]):a.length===2?new W(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new W(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new W(a,c,p)}var fe={latLngToPoint:function(a,c){var p=this.projection.project(a),w=this.scale(c);return this.transformation._transform(p,w)},pointToLatLng:function(a,c){var p=this.scale(c),w=this.transformation.untransform(a,p);return this.projection.unproject(w)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),w=this.transformation.transform(c.min,p),P=this.transformation.transform(c.max,p);return new oe(w,P)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,w=a.alt;return new W(p,c,w)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),w=c.lat-p.lat,P=c.lng-p.lng;if(w===0&&P===0)return a;var O=a.getSouthWest(),$=a.getNorthEast(),q=new W(O.lat-w,O.lng-P),Y=new W($.lat-w,$.lng-P);return new ee(q,Y)}},_e=i({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,w=a.lat*p,P=c.lat*p,O=Math.sin((c.lat-a.lat)*p/2),$=Math.sin((c.lng-a.lng)*p/2),q=O*O+Math.cos(w)*Math.cos(P)*$*$,Y=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*Y}}),De=6378137,ve={R:De,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,w=Math.max(Math.min(p,a.lat),-p),P=Math.sin(w*c);return new H(this.R*a.lng*c,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(a){var c=180/Math.PI;return new W((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=De*Math.PI;return new oe([-a,-a],[a,a])}()};function ye(a,c,p,w){if(I(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=w}ye.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new H((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function pe(a,c,p,w){return new ye(a,c,p,w)}var Ie=i({},_e,{code:"EPSG:3857",projection:ve,transformation:function(){var a=.5/(Math.PI*ve.R);return pe(a,.5,-a,.5)}()}),Ze=i({},Ie,{code:"EPSG:900913"});function Te(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ct(a,c){var p="",w,P,O,$,q,Y;for(w=0,O=a.length;w<O;w++){for(q=a[w],P=0,$=q.length;P<$;P++)Y=q[P],p+=(P?"L":"M")+Y.x+" "+Y.y;p+=c?Ce.svg?"z":"x":""}return p||"M0 0"}var St=document.documentElement.style,It="ActiveXObject"in window,_t=It&&!document.addEventListener,Zt="msLaunchUri"in navigator&&!("documentMode"in document),kt=Mr("webkit"),ir=Mr("android"),At=Mr("android 2")||Mr("android 3"),gr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ar=ir&&Mr("Google")&&gr<537&&!("AudioNode"in window),We=!!window.opera,st=!Zt&&Mr("chrome"),sr=Mr("gecko")&&!kt&&!We&&!It,Hn=!st&&Mr("safari"),Kt=Mr("phantom"),Wn="OTransition"in St,vn=navigator.platform.indexOf("Win")===0,rn=It&&"transition"in St,dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!At,Tn="MozPerspective"in St,Gn=!window.L_DISABLE_3D&&(rn||dn||Tn)&&!Wn&&!Kt,Ln=typeof orientation<"u"||Mr("mobile"),Rr=Ln&&kt,qn=Ln&&dn,vr=!window.PointerEvent&&window.MSPointerEvent,Pn=!!(window.PointerEvent||vr),In="ontouchstart"in window||!!window.TouchEvent,Ft=!window.L_NO_TOUCH&&(In||Pn),kn=Ln&&We,Se=Ln&&sr,ze=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Je=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",m,c),window.removeEventListener("testPassiveEventSupport",m,c)}catch{}return a}(),zt=function(){return!!document.createElement("canvas").getContext}(),Qt=!!(document.createElementNS&&Te("svg").createSVGRect),lt=!!Qt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Le=!Qt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),sn=navigator.platform.indexOf("Mac")===0,An=navigator.platform.indexOf("Linux")===0;function Mr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ce={ie:It,ielt9:_t,edge:Zt,webkit:kt,android:ir,android23:At,androidStock:Ar,opera:We,chrome:st,gecko:sr,safari:Hn,phantom:Kt,opera12:Wn,win:vn,ie3d:rn,webkit3d:dn,gecko3d:Tn,any3d:Gn,mobile:Ln,mobileWebkit:Rr,mobileWebkit3d:qn,msPointer:vr,pointer:Pn,touch:Ft,touchNative:In,mobileOpera:kn,mobileGecko:Se,retina:ze,passiveEvents:Je,canvas:zt,svg:Qt,vml:Le,inlineSvg:lt,mac:sn,linux:An},Zi=Ce.msPointer?"MSPointerDown":"pointerdown",oh=Ce.msPointer?"MSPointerMove":"pointermove",ah=Ce.msPointer?"MSPointerUp":"pointerup",Go=Ce.msPointer?"MSPointerCancel":"pointercancel",Wa={touchstart:Zi,touchmove:oh,touchend:ah,touchcancel:Go},Ga={touchstart:Za,touchmove:qa,touchend:qa,touchcancel:qa},Xr={},ei=!1;function lh(a,c,p){return c==="touchstart"&&ch(),Ga[c]?(p=Ga[c].bind(this,p),a.addEventListener(Wa[c],p,!1),p):(console.warn("wrong event specified:",c),m)}function uh(a,c,p){if(!Wa[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Wa[c],p,!1)}function Vu(a){Xr[a.pointerId]=a}function Fu(a){Xr[a.pointerId]&&(Xr[a.pointerId]=a)}function zu(a){delete Xr[a.pointerId]}function ch(){ei||(document.addEventListener(Zi,Vu,!0),document.addEventListener(oh,Fu,!0),document.addEventListener(ah,zu,!0),document.addEventListener(Go,zu,!0),ei=!0)}function qa(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Xr)c.touches.push(Xr[p]);c.changedTouches=[c],a(c)}}function Za(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Rt(c),qa(a,c)}function dh(a){var c={},p,w;for(w in a)p=a[w],c[w]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Bu=200;function qo(a,c){a.addEventListener("dblclick",c);var p=0,w;function P(O){if(O.detail!==1){w=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var $=Xu(O);if(!($.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!$.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var q=Date.now();q-p<=Bu?(w++,w===2&&c(dh(O))):w=1,p=q}}}return a.addEventListener("click",P),{dblclick:c,simDblclick:P}}function Ki(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Zo=Yi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ko=Yi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Uu=Ko==="webkitTransition"||Ko==="OTransition"?Ko+"End":"transitionend";function $u(a){return typeof a=="string"?document.getElementById(a):a}function Ms(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(a,null);p=w?w[c]:null}return p==="auto"?null:p}function Xe(a,c,p){var w=document.createElement(a);return w.className=c||"",p&&p.appendChild(w),w}function vt(a){var c=a.parentNode;c&&c.removeChild(a)}function Qo(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Qi(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Ns(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Hu(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=Nr(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Ve(a,c){if(a.classList!==void 0)for(var p=x(c),w=0,P=p.length;w<P;w++)a.classList.add(p[w]);else if(!Hu(a,c)){var O=Nr(a);Wu(a,(O?O+" ":"")+c)}}function Tt(a,c){a.classList!==void 0?a.classList.remove(c):Wu(a,_((" "+Nr(a)+" ").replace(" "+c+" "," ")))}function Wu(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Nr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Bt(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Ka(a,c)}function Ka(a,c){var p=!1,w="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+w+"(opacity="+c+")"}function Yi(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Si(a,c,p){var w=c||new H(0,0);a.style[Zo]=(Ce.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(p?" scale("+p+")":"")}function Ne(a,c){a._leaflet_pos=c,Ce.any3d?Si(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Or(a){return a._leaflet_pos||new H(0,0)}var ti,ni,Gu;if("onselectstart"in document)ti=function(){ke(window,"selectstart",Rt)},ni=function(){pt(window,"selectstart",Rt)};else{var Os=Yi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ti=function(){if(Os){var a=document.documentElement.style;Gu=a[Os],a[Os]="none"}},ni=function(){Os&&(document.documentElement.style[Os]=Gu,Gu=void 0)}}function qu(){ke(window,"dragstart",Rt)}function Zu(){pt(window,"dragstart",Rt)}var Qa,Ku;function Ji(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(yr(),Qa=a,Ku=a.style.outlineStyle,a.style.outlineStyle="none",ke(window,"keydown",yr))}function yr(){Qa&&(Qa.style.outlineStyle=Ku,Qa=void 0,Ku=void 0,pt(window,"keydown",yr))}function Qu(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ya(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var hh={__proto__:null,TRANSFORM:Zo,TRANSITION:Ko,TRANSITION_END:Uu,get:$u,getStyle:Ms,create:Xe,remove:vt,empty:Qo,toFront:Qi,toBack:Ns,hasClass:Hu,addClass:Ve,removeClass:Tt,setClass:Wu,getClass:Nr,setOpacity:Bt,testProp:Yi,setTransform:Si,setPosition:Ne,getPosition:Or,get disableTextSelection(){return ti},get enableTextSelection(){return ni},disableImageDrag:qu,enableImageDrag:Zu,preventOutline:Ji,restoreOutline:yr,getSizedParentNode:Qu,getScale:Ya};function ke(a,c,p,w){if(c&&typeof c=="object")for(var P in c)Yu(a,P,c[P],p);else{c=x(c);for(var O=0,$=c.length;O<$;O++)Yu(a,c[O],p,w)}return this}var Dr="_leaflet_events";function pt(a,c,p,w){if(arguments.length===1)fh(a),delete a[Dr];else if(c&&typeof c=="object")for(var P in c)Ju(a,P,c[P],p);else if(c=x(c),arguments.length===2)fh(a,function(q){return N(c,q)!==-1});else for(var O=0,$=c.length;O<$;O++)Ju(a,c[O],p,w);return this}function fh(a,c){for(var p in a[Dr]){var w=p.split(/\d/)[0];(!c||c(w))&&Ju(a,w,null,null,p)}}var jr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yu(a,c,p,w){var P=c+u(p)+(w?"_"+u(w):"");if(a[Dr]&&a[Dr][P])return this;var O=function(q){return p.call(w||a,q||window.event)},$=O;!Ce.touchNative&&Ce.pointer&&c.indexOf("touch")===0?O=lh(a,c,O):Ce.touch&&c==="dblclick"?O=qo(a,O):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(jr[c]||c,O,Ce.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(O=function(q){q=q||window.event,ec(a,q)&&$(q)},a.addEventListener(jr[c],O,!1)):a.addEventListener(c,$,!1):a.attachEvent("on"+c,O),a[Dr]=a[Dr]||{},a[Dr][P]=O}function Ju(a,c,p,w,P){P=P||c+u(p)+(w?"_"+u(w):"");var O=a[Dr]&&a[Dr][P];if(!O)return this;!Ce.touchNative&&Ce.pointer&&c.indexOf("touch")===0?uh(a,c,O):Ce.touch&&c==="dblclick"?Ki(a,O):"removeEventListener"in a?a.removeEventListener(jr[c]||c,O,!1):a.detachEvent("on"+c,O),a[Dr][P]=null}function Vr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ds(a){return Yu(a,"wheel",Vr),this}function js(a){return ke(a,"mousedown touchstart dblclick contextmenu",Vr),a._leaflet_disable_click=!0,this}function Rt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function _r(a){return Rt(a),Vr(a),this}function Xu(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function Ja(a,c){if(!c)return new H(a.clientX,a.clientY);var p=Ya(c),w=p.boundingClientRect;return new H((a.clientX-w.left)/p.x-c.clientLeft,(a.clientY-w.top)/p.y-c.clientTop)}var Lt=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ph(a){return Ce.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Lt:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ec(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var mh={__proto__:null,on:ke,off:pt,stopPropagation:Vr,disableScrollPropagation:Ds,disableClickPropagation:js,preventDefault:Rt,stop:_r,getPropagationPath:Xu,getMousePosition:Ja,getWheelDelta:ph,isExternalTarget:ec,addListener:ke,removeListener:pt},tc=he.extend({run:function(a,c,p,w){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Or(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ne(this._el,p),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Ke=he.extend({options:{crs:Ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=b(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(me(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ko&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,Uu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(me(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=i({animate:p.animate},p.zoom),p.pan=i({animate:p.animate,duration:p.duration},p.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var w=this.getZoomScale(c),P=this.getSize().divideBy(2),O=a instanceof H?a:this.latLngToContainerPoint(a),$=O.subtract(P).multiplyBy(1-1/w),q=this.containerPointToLatLng(P.add($));return this.setView(q,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():ue(a);var p=Z(c.paddingTopLeft||c.padding||[0,0]),w=Z(c.paddingBottomRight||c.padding||[0,0]),P=this.getBoundsZoom(a,!1,p.add(w));if(P=typeof c.maxZoom=="number"?Math.min(c.maxZoom,P):P,P===1/0)return{center:a.getCenter(),zoom:P};var O=w.subtract(p).divideBy(2),$=this.project(a.getSouthWest(),P),q=this.project(a.getNorthEast(),P),Y=this.unproject($.add(q).divideBy(2).add(O),P);return{center:Y,zoom:P}},fitBounds:function(a,c){if(a=ue(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=Z(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ve(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Ce.any3d)return this.setView(a,c,p);this._stop();var w=this.project(this.getCenter()),P=this.project(a),O=this.getSize(),$=this._zoom;a=me(a),c=c===void 0?$:c;var q=Math.max(O.x,O.y),Y=q*this.getZoomScale($,c),ae=P.distanceTo(w)||1,we=1.42,Ae=we*we;function Ge(Jt){var Ah=Jt?-1:1,IM=Jt?Y:q,kM=Y*Y-q*q+Ah*Ae*Ae*ae*ae,AM=2*IM*Ae*ae,fg=kM/AM,ax=Math.sqrt(fg*fg+1)-fg,RM=ax<1e-9?-18:Math.log(ax);return RM}function Kn(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function fn(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function zr(Jt){return Kn(Jt)/fn(Jt)}var ar=Ge(0);function dl(Jt){return q*(fn(ar)/fn(ar+we*Jt))}function SM(Jt){return q*(fn(ar)*zr(ar+we*Jt)-Kn(ar))/Ae}function TM(Jt){return 1-Math.pow(1-Jt,1.5)}var LM=Date.now(),sx=(Ge(1)-ar)/we,PM=p.duration?1e3*p.duration:1e3*sx*.8;function ox(){var Jt=(Date.now()-LM)/PM,Ah=TM(Jt)*sx;Jt<=1?(this._flyToFrame=V(ox,this),this._move(this.unproject(w.add(P.subtract(w).multiplyBy(SM(Ah)/ae)),$),this.getScaleZoom(q/dl(Ah),$),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),ox.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=ue(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),w=this._limitCenter(p,this._zoom,ue(a));return p.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=Z(c.paddingTopLeft||c.padding||[0,0]),w=Z(c.paddingBottomRight||c.padding||[0,0]),P=this.project(this.getCenter()),O=this.project(a),$=this.getPixelBounds(),q=re([$.min.add(p),$.max.subtract(w)]),Y=q.getSize();if(!q.contains(O)){this._enforcingBounds=!0;var ae=O.subtract(q.getCenter()),we=q.extend(O).getSize().subtract(Y);P.x+=ae.x<0?-we.x:we.x,P.y+=ae.y<0?-we.y:we.y,this.panTo(this.unproject(P),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),w=c.divideBy(2).round(),P=p.divideBy(2).round(),O=w.subtract(P);return!O.x&&!O.y?this:(a.animate&&a.pan?this.panBy(O):(a.pan&&this._rawPanBy(O),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=o(this._handleGeolocationResponse,this),p=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,w=new W(c,p),P=w.toBounds(a.coords.accuracy*2),O=this._locateOptions;if(O.setView){var $=this.getBoundsZoom(P);this.setView(w,O.maxZoom?Math.min($,O.maxZoom):$)}var q={latlng:w,bounds:P,timestamp:a.timestamp};for(var Y in a.coords)typeof a.coords[Y]=="number"&&(q[Y]=a.coords[Y]);this.fire("locationfound",q)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)vt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),w=Xe("div",p,c||this._mapPane);return a&&(this._panes[a]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new ee(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=ue(a),p=Z(p||[0,0]);var w=this.getZoom()||0,P=this.getMinZoom(),O=this.getMaxZoom(),$=a.getNorthWest(),q=a.getSouthEast(),Y=this.getSize().subtract(p),ae=re(this.project(q,w),this.project($,w)).getSize(),we=Ce.any3d?this.options.zoomSnap:1,Ae=Y.x/ae.x,Ge=Y.y/ae.y,Kn=c?Math.max(Ae,Ge):Math.min(Ae,Ge);return w=this.getScaleZoom(Kn,w),we&&(w=Math.round(w/(we/100))*(we/100),w=c?Math.ceil(w/we)*we:Math.floor(w/we)*we),Math.max(P,Math.min(O,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new oe(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var w=p.zoom(a*p.scale(c));return isNaN(w)?1/0:w},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(me(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Z(a),c)},layerPointToLatLng:function(a){var c=Z(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(me(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(me(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ue(a))},distance:function(a,c){return this.options.crs.distance(me(a),me(c))},containerPointToLayerPoint:function(a){return Z(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Z(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(Z(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(a)))},mouseEventToContainerPoint:function(a){return Ja(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=$u(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Ve(a,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ms(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ne(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ve(a.markerPane,"leaflet-zoom-hide"),Ve(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ne(this._mapPane,new H(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var P=this._zoom!==c;this._moveStart(P,p)._move(a,c)._moveEnd(P),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,w){c===void 0&&(c=this._zoom);var P=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),w?p&&p.pinch&&this.fire("zoom",p):((P||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ne(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?pt:ke;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],w,P=c==="mouseout"||c==="mouseover",O=a.target||a.srcElement,$=!1;O;){if(w=this._targets[u(O)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){$=!0;break}if(w&&w.listens(c,!0)&&(P&&!ec(O,a)||(p.push(w),P))||O===this._container)break;O=O.parentNode}return!p.length&&!$&&!P&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Ji(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var w=i({},a);w.type="preclick",this._fireDOMEvent(w,w.type,p)}var P=this._findEventTargets(a,c);if(p){for(var O=[],$=0;$<p.length;$++)p[$].listens(c,!0)&&O.push(p[$]);P=O.concat(P)}if(P.length){c==="contextmenu"&&Rt(a);var q=P[0],Y={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ae=q.getLatLng&&(!q._radius||q._radius<=10);Y.containerPoint=ae?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(a),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=ae?q.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for($=0;$<P.length;$++)if(P[$].fire(c,Y,!0),Y.originalEvent._stopped||P[$].options.bubblingMouseEvents===!1&&N(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Or(this._mapPane)||new H(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return re([this.project(a.getSouthWest(),c)._subtract(w),this.project(a.getNorthWest(),c)._subtract(w),this.project(a.getSouthEast(),c)._subtract(w),this.project(a.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var w=this.project(a,c),P=this.getSize().divideBy(2),O=new oe(w.subtract(P),w.add(P)),$=this._getBoundsOffset(O,p,c);return Math.abs($.x)<=1&&Math.abs($.y)<=1?a:this.unproject(w.add($),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),w=new oe(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(a,c,p){var w=re(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),P=w.min.subtract(a.min),O=w.max.subtract(a.max),$=this._rebound(P.x,-O.x),q=this._rebound(P.y,-O.y);return new H($,q)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),w=Ce.any3d?this.options.zoomSnap:1;return w&&(a=Math.round(a/w)*w),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=Zo,w=this._proxy.style[p];Si(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Si(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),P=this._getCenterOffset(a)._divideBy(1-1/w);return p.animate!==!0&&!this.getSize().contains(P)?!1:(V(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,w){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xa(a,c){return new Ke(a,c)}var or=Q.extend({options:{position:"topright"},initialize:function(a){b(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),w=a._controlCorners[p];return Ve(c,"leaflet-control"),p.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Zn=function(a){return new or(a)};Ke.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=Xe("div",c+"control-container",this._container);function w(P,O){var $=c+P+" "+c+O;a[P+O]=Xe("div",$,p)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)vt(this._controlCorners[a]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nc=or.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,w){return p<w?-1:w<p?1:0}},initialize:function(a,c,p){b(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in a)this._addLayer(a[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return or.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Xe("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),js(c),Ds(c);var w=this._section=Xe("section",a+"-list");p&&(this._map.on("click",this.collapse,this),ke(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=Xe("a",a+"-toggle",c);P.href="#",P.title="Layers",P.setAttribute("role","button"),ke(P,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Rt(O),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Xe("div",a+"-base",w),this._separator=Xe("div",a+"-separator",w),this._overlaysList=Xe("div",a+"-overlays",w),c.appendChild(w)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(o(function(w,P){return this.options.sortFunction(w.layer,P.layer,w.name,P.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qo(this._baseLayersList),Qo(this._overlaysList),this._layerControlInputs=[];var a,c,p,w,P=0;for(p=0;p<this._layers.length;p++)w=this._layers[p],this._addItem(w),c=c||w.overlay,a=a||!w.overlay,P+=w.overlay?0:1;return this.options.hideSingleBase&&(a=a&&P>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=p,w.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),w;a.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=p):w=this._createRadioElement("leaflet-base-layers_"+u(this),p),this._layerControlInputs.push(w),w.layerId=u(a.layer),ke(w,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+a.name;var O=document.createElement("span");c.appendChild(O),O.appendChild(w),O.appendChild(P);var $=a.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,w=[],P=[];this._handlingClick=!0;for(var O=a.length-1;O>=0;O--)c=a[O],p=this._getLayer(c.layerId).layer,c.checked?w.push(p):c.checked||P.push(p);for(O=0;O<P.length;O++)this._map.hasLayer(P[O])&&this._map.removeLayer(P[O]);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])||this._map.addLayer(w[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,w=this._map.getZoom(),P=a.length-1;P>=0;P--)c=a[P],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&w<p.options.minZoom||p.options.maxZoom!==void 0&&w>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ke(a,"click",Rt),this.expand();var c=this;setTimeout(function(){pt(a,"click",Rt),c._preventClick=!1})}}),ag=function(a,c,p){return new nc(a,c,p)},Xi=or.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=Xe("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,w,P){var O=Xe("a",p,w);return O.innerHTML=a,O.href="#",O.title=c,O.setAttribute("role","button"),O.setAttribute("aria-label",c),js(O),ke(O,"click",_r),ke(O,"click",P,this),ke(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Tt(this._zoomInButton,c),Tt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ve(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ve(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ke.mergeOptions({zoomControl:!0}),Ke.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xi,this.addControl(this.zoomControl))});var gh=function(a){return new Xi(a)},el=or.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=Xe("div",c),w=this.options;return this._addScales(w,c+"-line",p),a.on(w.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=Xe("div",c,p)),a.imperial&&(this._iScale=Xe("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,w,P;c>5280?(p=c/5280,w=this._getRoundNum(p),this._updateScale(this._iScale,w+" mi",w/p)):(P=this._getRoundNum(c),this._updateScale(this._iScale,P+" ft",P/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),tl=function(a){return new el(a)},vh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vs=or.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?vh+" ":"")+"Leaflet</a>"},initialize:function(a){b(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),js(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ke.mergeOptions({attributionControl:!0}),Ke.addInitHook(function(){this.options.attributionControl&&new Vs().addTo(this)});var lg=function(a){return new Vs(a)};or.Layers=nc,or.Zoom=Xi,or.Scale=el,or.Attribution=Vs,Zn.layers=ag,Zn.zoom=gh,Zn.scale=tl,Zn.attribution=lg;var wr=Q.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});wr.addTo=function(a,c){return a.addHandler(c,this),this};var Yo={Events:ne},rc=Ce.touch?"touchstart mousedown":"mousedown",ri=he.extend({options:{clickTolerance:3},initialize:function(a,c,p,w){b(this,w),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(ke(this._dragStartTarget,rc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,rc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Hu(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ri._dragging===this&&this.finishDrag();return}if(!(ri._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ri._dragging=this,this._preventOutline&&Ji(this._element),qu(),ti(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=Qu(this._element);this._startPoint=new H(c.clientX,c.clientY),this._startPos=Or(this._element),this._parentScale=Ya(p);var w=a.type==="mousedown";ke(document,w?"mousemove":"touchmove",this._onMove,this),ke(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new H(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Rt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ve(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ne(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),Zu(),ni();var c=this._moved&&this._moving;this._moving=!1,ri._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function nl(a,c,p){var w,P=[1,4,2,8],O,$,q,Y,ae,we,Ae,Ge;for(O=0,we=a.length;O<we;O++)a[O]._code=Ti(a[O],c);for(q=0;q<4;q++){for(Ae=P[q],w=[],O=0,we=a.length,$=we-1;O<we;$=O++)Y=a[O],ae=a[$],Y._code&Ae?ae._code&Ae||(Ge=hn(ae,Y,Ae,c,p),Ge._code=Ti(Ge,c),w.push(Ge)):(ae._code&Ae&&(Ge=hn(ae,Y,Ae,c,p),Ge._code=Ti(Ge,c),w.push(Ge)),w.push(Y));a=w}return a}function rl(a,c){var p,w,P,O,$,q,Y,ae,we;if(!a||a.length===0)throw new Error("latlngs not passed");h(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ae=me([0,0]),Ge=ue(a),Kn=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());Kn<1700&&(Ae=il(a));var fn=a.length,zr=[];for(p=0;p<fn;p++){var ar=me(a[p]);zr.push(c.project(me([ar.lat-Ae.lat,ar.lng-Ae.lng])))}for(q=Y=ae=0,p=0,w=fn-1;p<fn;w=p++)P=zr[p],O=zr[w],$=P.y*O.x-O.y*P.x,Y+=(P.x+O.x)*$,ae+=(P.y+O.y)*$,q+=$*3;q===0?we=zr[0]:we=[Y/q,ae/q];var dl=c.unproject(Z(we));return me([dl.lat+Ae.lat,dl.lng+Ae.lng])}function il(a){for(var c=0,p=0,w=0,P=0;P<a.length;P++){var O=me(a[P]);c+=O.lat,p+=O.lng,w++}return me([c/w,p/w])}var sl={__proto__:null,clipPolygon:nl,polygonCenter:rl,centroid:il};function ic(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=_h(a,p),a=yh(a,p),a}function sc(a,c,p){return Math.sqrt(Fr(a,c,p,!0))}function es(a,c,p){return Fr(a,c,p)}function yh(a,c){var p=a.length,w=typeof Uint8Array<"u"?Uint8Array:Array,P=new w(p);P[0]=P[p-1]=1,ol(a,P,c,0,p-1);var O,$=[];for(O=0;O<p;O++)P[O]&&$.push(a[O]);return $}function ol(a,c,p,w,P){var O=0,$,q,Y;for(q=w+1;q<=P-1;q++)Y=Fr(a[q],a[w],a[P],!0),Y>O&&($=q,O=Y);O>p&&(c[$]=1,ol(a,c,p,w,$),ol(a,c,p,$,P))}function _h(a,c){for(var p=[a[0]],w=1,P=0,O=a.length;w<O;w++)wh(a[w],a[P])>c&&(p.push(a[w]),P=w);return P<O-1&&p.push(a[O-1]),p}var oc;function Jo(a,c,p,w,P){var O=w?oc:Ti(a,p),$=Ti(c,p),q,Y,ae;for(oc=$;;){if(!(O|$))return[a,c];if(O&$)return!1;q=O||$,Y=hn(a,c,q,p,P),ae=Ti(Y,p),q===O?(a=Y,O=ae):(c=Y,$=ae)}}function hn(a,c,p,w,P){var O=c.x-a.x,$=c.y-a.y,q=w.min,Y=w.max,ae,we;return p&8?(ae=a.x+O*(Y.y-a.y)/$,we=Y.y):p&4?(ae=a.x+O*(q.y-a.y)/$,we=q.y):p&2?(ae=Y.x,we=a.y+$*(Y.x-a.x)/O):p&1&&(ae=q.x,we=a.y+$*(q.x-a.x)/O),new H(ae,we,P)}function Ti(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function wh(a,c){var p=c.x-a.x,w=c.y-a.y;return p*p+w*w}function Fr(a,c,p,w){var P=c.x,O=c.y,$=p.x-P,q=p.y-O,Y=$*$+q*q,ae;return Y>0&&(ae=((a.x-P)*$+(a.y-O)*q)/Y,ae>1?(P=p.x,O=p.y):ae>0&&(P+=$*ae,O+=q*ae)),$=a.x-P,q=a.y-O,w?$*$+q*q:new H(P,O)}function h(a){return!I(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function S(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),h(a)}function k(a,c){var p,w,P,O,$,q,Y,ae;if(!a||a.length===0)throw new Error("latlngs not passed");h(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var we=me([0,0]),Ae=ue(a),Ge=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Ge<1700&&(we=il(a));var Kn=a.length,fn=[];for(p=0;p<Kn;p++){var zr=me(a[p]);fn.push(c.project(me([zr.lat-we.lat,zr.lng-we.lng])))}for(p=0,w=0;p<Kn-1;p++)w+=fn[p].distanceTo(fn[p+1])/2;if(w===0)ae=fn[0];else for(p=0,O=0;p<Kn-1;p++)if($=fn[p],q=fn[p+1],P=$.distanceTo(q),O+=P,O>w){Y=(O-w)/P,ae=[q.x-Y*(q.x-$.x),q.y-Y*(q.y-$.y)];break}var ar=c.unproject(Z(ae));return me([ar.lat+we.lat,ar.lng+we.lng])}var F={__proto__:null,simplify:ic,pointToSegmentDistance:sc,closestPointOnSegment:es,clipSegment:Jo,_getEdgeIntersection:hn,_getBitCode:Ti,_sqClosestPointOnSegment:Fr,isFlat:h,_flat:S,polylineCenter:k},G={project:function(a){return new H(a.lng,a.lat)},unproject:function(a){return new W(a.y,a.x)},bounds:new oe([-180,-90],[180,90])},J={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,w=a.lat*c,P=this.R_MINOR/p,O=Math.sqrt(1-P*P),$=O*Math.sin(w),q=Math.tan(Math.PI/4-w/2)/Math.pow((1-$)/(1+$),O/2);return w=-p*Math.log(Math.max(q,1e-10)),new H(a.lng*c*p,w)},unproject:function(a){for(var c=180/Math.PI,p=this.R,w=this.R_MINOR/p,P=Math.sqrt(1-w*w),O=Math.exp(-a.y/p),$=Math.PI/2-2*Math.atan(O),q=0,Y=.1,ae;q<15&&Math.abs(Y)>1e-7;q++)ae=P*Math.sin($),ae=Math.pow((1-ae)/(1+ae),P/2),Y=Math.PI/2-2*Math.atan(O*ae)-$,$+=Y;return new W($*c,a.x*c/p)}},ge={__proto__:null,LonLat:G,Mercator:J,SphericalMercator:ve},ht=i({},_e,{code:"EPSG:3395",projection:J,transformation:function(){var a=.5/(Math.PI*J.R);return pe(a,.5,-a,.5)}()}),Yt=i({},_e,{code:"EPSG:4326",projection:G,transformation:pe(1/180,1,-1/180,.5)}),rt=i({},fe,{projection:G,transformation:pe(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,w=c.lat-a.lat;return Math.sqrt(p*p+w*w)},infinite:!0});fe.Earth=_e,fe.EPSG3395=ht,fe.EPSG3857=Ie,fe.EPSG900913=Ze,fe.EPSG4326=Yt,fe.Simple=rt;var mt=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Ke.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?I(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var w in this._zoomBoundLayers){var P=this._zoomBoundLayers[w].options;a=P.minZoom===void 0?a:Math.min(a,P.minZoom),c=P.maxZoom===void 0?c:Math.max(c,P.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mt=mt.extend({initialize:function(a,c){b(this,c),this._layers={};var p,w;if(a)for(p=0,w=a.length;p<w;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,w;for(p in this._layers)w=this._layers[p],w[a]&&w[a].apply(w,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),Fs=function(a,c){return new Mt(a,c)},Wt=Mt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Mt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Mt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ee;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),al=function(a,c){return new Wt(a,c)},Li=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){b(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(a,c){var p=this.options,w=p[c+"Size"];typeof w=="number"&&(w=[w,w]);var P=Z(w),O=Z(c==="shadow"&&p.shadowAnchor||p.iconAnchor||P&&P.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),O&&(a.style.marginLeft=-O.x+"px",a.style.marginTop=-O.y+"px"),P&&(a.style.width=P.x+"px",a.style.height=P.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ce.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function oM(a){return new Li(a)}var ac=Li.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ac.imagePath!="string"&&(ac.imagePath=this._detectIconPath()),(this.options.imagePath||ac.imagePath)+Li.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,w,P){var O=w.exec(p);return O&&O[P]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Xe("div","leaflet-default-icon-path",document.body),c=Ms(a,"background-image")||Ms(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),zw=wr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ri(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ve(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,w=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,O=Or(c._icon),$=p.getPixelBounds(),q=p.getPixelOrigin(),Y=re($.min._subtract(q).add(P),$.max._subtract(q).subtract(P));if(!Y.contains(O)){var ae=Z((Math.max(Y.max.x,O.x)-Y.max.x)/($.max.x-Y.max.x)-(Math.min(Y.min.x,O.x)-Y.min.x)/($.min.x-Y.min.x),(Math.max(Y.max.y,O.y)-Y.max.y)/($.max.y-Y.max.y)-(Math.min(Y.min.y,O.y)-Y.min.y)/($.min.y-Y.min.y)).multiplyBy(w);p.panBy(ae,{animate:!1}),this._draggable._newPos._add(ae),this._draggable._startPos._add(ae),Ne(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=V(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,w=Or(c._icon),P=c._map.layerPointToLatLng(w);p&&Ne(p,w),c._latlng=P,a.latlng=P,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),xh=mt.extend({options:{icon:new ac,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){b(this,c),this._latlng=me(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=me(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),w=!1;p!==this._icon&&(this._icon&&this._removeIcon(),w=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Ve(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(p,"focus",this._panOnFocus,this);var P=a.icon.createShadow(this._shadow),O=!1;P!==this._shadow&&(this._removeShadow(),O=!0),P&&(Ve(P,c),P.alt=""),this._shadow=P,a.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&O&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ne(this._icon,a),this._shadow&&Ne(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zw)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zw(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Bt(this._icon,a),this._shadow&&Bt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?Z(c.iconSize):Z(0,0),w=c.iconAnchor?Z(c.iconAnchor):Z(0,0);a.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:p.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function aM(a,c){return new xh(a,c)}var zs=mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return b(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bh=zs.extend({options:{fill:!0,radius:10},initialize:function(a,c){b(this,c),this._latlng=me(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=me(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return zs.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),w=[a+p,c+p];this._pxBounds=new oe(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lM(a,c){return new bh(a,c)}var ug=bh.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=i({},p,{radius:c})),b(this,c),this._latlng=me(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:zs.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,w=p.options.crs;if(w.distance===_e.distance){var P=Math.PI/180,O=this._mRadius/_e.R/P,$=p.project([c+O,a]),q=p.project([c-O,a]),Y=$.add(q).divideBy(2),ae=p.unproject(Y).lat,we=Math.acos((Math.cos(O*P)-Math.sin(c*P)*Math.sin(ae*P))/(Math.cos(c*P)*Math.cos(ae*P)))/P;(isNaN(we)||we===0)&&(we=O/Math.cos(Math.PI/180*c)),this._point=Y.subtract(p.getPixelOrigin()),this._radius=isNaN(we)?0:Y.x-p.project([ae,a-we]).x,this._radiusY=Y.y-$.y}else{var Ae=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ae).x}this._updateBounds()}});function uM(a,c,p){return new ug(a,c,p)}var ts=zs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){b(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,w=Fr,P,O,$=0,q=this._parts.length;$<q;$++)for(var Y=this._parts[$],ae=1,we=Y.length;ae<we;ae++){P=Y[ae-1],O=Y[ae];var Ae=w(a,P,O,!0);Ae<c&&(c=Ae,p=w(a,P,O))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=me(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ee,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return h(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=h(a),w=0,P=a.length;w<P;w++)p?(c[w]=me(a[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(a[w]);return c},_project:function(){var a=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new H(a,a);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var w=a[0]instanceof W,P=a.length,O,$;if(w){for($=[],O=0;O<P;O++)$[O]=this._map.latLngToLayerPoint(a[O]),p.extend($[O]);c.push($)}else for(O=0;O<P;O++)this._projectLatlngs(a[O],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,w,P,O,$,q,Y;for(p=0,P=0,O=this._rings.length;p<O;p++)for(Y=this._rings[p],w=0,$=Y.length;w<$-1;w++)q=Jo(Y[w],Y[w+1],a,w,!0),q&&(c[P]=c[P]||[],c[P].push(q[0]),(q[1]!==Y[w+1]||w===$-2)&&(c[P].push(q[1]),P++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,w=a.length;p<w;p++)a[p]=ic(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,w,P,O,$,q,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,O=this._parts.length;p<O;p++)for(q=this._parts[p],w=0,$=q.length,P=$-1;w<$;P=w++)if(!(!c&&w===0)&&sc(a,q[P],q[w])<=Y)return!0;return!1}});function cM(a,c){return new ts(a,c)}ts._flat=S;var ll=ts.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=ts.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof W&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){ts.prototype._setLatLngs.call(this,a),h(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return h(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new H(c,c);if(a=new oe(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,P=this._rings.length,O;w<P;w++)O=nl(this._rings[w],a,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,w,P,O,$,q,Y,ae;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(O=0,Y=this._parts.length;O<Y;O++)for(p=this._parts[O],$=0,ae=p.length,q=ae-1;$<ae;q=$++)w=p[$],P=p[q],w.y>a.y!=P.y>a.y&&a.x<(P.x-w.x)*(a.y-w.y)/(P.y-w.y)+w.x&&(c=!c);return c||ts.prototype._containsPoint.call(this,a,!0)}});function dM(a,c){return new ll(a,c)}var ns=Wt.extend({initialize:function(a,c){b(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=I(a)?a:a.features,p,w,P;if(c){for(p=0,w=c.length;p<w;p++)P=c[p],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var O=this.options;if(O.filter&&!O.filter(a))return this;var $=Eh(a,O);return $?($.feature=Th(a),$.defaultOptions=$.options,this.resetStyle($),O.onEachFeature&&O.onEachFeature(a,$),this.addLayer($)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Eh(a,c){var p=a.type==="Feature"?a.geometry:a,w=p?p.coordinates:null,P=[],O=c&&c.pointToLayer,$=c&&c.coordsToLatLng||cg,q,Y,ae,we;if(!w&&!p)return null;switch(p.type){case"Point":return q=$(w),Bw(O,a,q,c);case"MultiPoint":for(ae=0,we=w.length;ae<we;ae++)q=$(w[ae]),P.push(Bw(O,a,q,c));return new Wt(P);case"LineString":case"MultiLineString":return Y=Ch(w,p.type==="LineString"?0:1,$),new ts(Y,c);case"Polygon":case"MultiPolygon":return Y=Ch(w,p.type==="Polygon"?1:2,$),new ll(Y,c);case"GeometryCollection":for(ae=0,we=p.geometries.length;ae<we;ae++){var Ae=Eh({geometry:p.geometries[ae],type:"Feature",properties:a.properties},c);Ae&&P.push(Ae)}return new Wt(P);case"FeatureCollection":for(ae=0,we=p.features.length;ae<we;ae++){var Ge=Eh(p.features[ae],c);Ge&&P.push(Ge)}return new Wt(P);default:throw new Error("Invalid GeoJSON object.")}}function Bw(a,c,p,w){return a?a(c,p):new xh(p,w&&w.markersInheritOptions&&w)}function cg(a){return new W(a[1],a[0],a[2])}function Ch(a,c,p){for(var w=[],P=0,O=a.length,$;P<O;P++)$=c?Ch(a[P],c-1,p):(p||cg)(a[P]),w.push($);return w}function dg(a,c){return a=me(a),a.alt!==void 0?[y(a.lng,c),y(a.lat,c),y(a.alt,c)]:[y(a.lng,c),y(a.lat,c)]}function Sh(a,c,p,w){for(var P=[],O=0,$=a.length;O<$;O++)P.push(c?Sh(a[O],h(a[O])?0:c-1,p,w):dg(a[O],w));return!c&&p&&P.length>0&&P.push(P[0].slice()),P}function ul(a,c){return a.feature?i({},a.feature,{geometry:c}):Th(c)}function Th(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var hg={toGeoJSON:function(a){return ul(this,{type:"Point",coordinates:dg(this.getLatLng(),a)})}};xh.include(hg),ug.include(hg),bh.include(hg),ts.include({toGeoJSON:function(a){var c=!h(this._latlngs),p=Sh(this._latlngs,c?1:0,!1,a);return ul(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),ll.include({toGeoJSON:function(a){var c=!h(this._latlngs),p=c&&!h(this._latlngs[0]),w=Sh(this._latlngs,p?2:c?1:0,!0,a);return c||(w=[w]),ul(this,{type:(p?"Multi":"")+"Polygon",coordinates:w})}}),Mt.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),ul(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",w=[];return this.eachLayer(function(P){if(P.toGeoJSON){var O=P.toGeoJSON(a);if(p)w.push(O.geometry);else{var $=Th(O);$.type==="FeatureCollection"?w.push.apply(w,$.features):w.push($)}}}),p?ul(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Uw(a,c){return new ns(a,c)}var hM=Uw,Lh=mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=ue(c),b(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Qi(this._image),this},bringToBack:function(){return this._map&&Ns(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ue(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Xe("img");if(Ve(c,"leaflet-image-layer"),this._zoomAnimated&&Ve(c,"leaflet-zoom-animated"),this.options.className&&Ve(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onload=o(this.fire,this,"load"),c.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Si(this._image,p,c)},_reset:function(){var a=this._image,c=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ne(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Bt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),fM=function(a,c,p){return new Lh(a,c,p)},$w=Lh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Xe("video");if(Ve(c,"leaflet-image-layer"),this._zoomAnimated&&Ve(c,"leaflet-zoom-animated"),this.options.className&&Ve(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onloadeddata=o(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),w=[],P=0;P<p.length;P++)w.push(p[P].src);this._url=p.length>0?w:[c.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var $=Xe("source");$.src=this._url[O],c.appendChild($)}}});function pM(a,c,p){return new $w(a,c,p)}var Hw=Lh.extend({_initImage:function(){var a=this._image=this._url;Ve(a,"leaflet-image-layer"),this._zoomAnimated&&Ve(a,"leaflet-zoom-animated"),this.options.className&&Ve(a,this.options.className),a.onselectstart=m,a.onmousemove=m}});function mM(a,c,p){return new Hw(a,c,p)}var Pi=mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof W||I(a))?(this._latlng=me(a),b(this,c)):(b(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Bt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Bt(this._container,1),this.bringToFront(),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Bt(this._container,0),this._removeTimeout=setTimeout(o(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=me(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qi(this._container),this},bringToBack:function(){return this._map&&Ns(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Wt){c=null;var p=this._source._layers;for(var w in p)if(p[w]._map){c=p[w];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=Z(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ne(this._container,a.add(p)):c=c.add(a).add(p);var w=this._containerBottom=-c.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});Ke.include({_initOverlay:function(a,c,p,w){var P=c;return P instanceof a||(P=new a(w).setContent(c)),p&&P.setLatLng(p),P}}),mt.include({_initOverlay:function(a,c,p,w){var P=p;return P instanceof a?(b(P,w),P._source=this):(P=c&&!w?c:new a(w,this),P.setContent(p)),P}});var Ph=Pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Pi.prototype.openOn.call(this,a)},onAdd:function(a){Pi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zs||this._source.on("preclick",Vr))},onRemove:function(a){Pi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zs||this._source.off("preclick",Vr))},getEvents:function(){var a=Pi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Xe("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Xe("div",a+"-content-wrapper",c);if(this._contentNode=Xe("div",a+"-content",p),js(c),Ds(this._contentNode),ke(c,"contextmenu",Vr),this._tipContainer=Xe("div",a+"-tip-container",c),this._tip=Xe("div",a+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Xe("a",a+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ke(w,"click",function(P){Rt(P),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var w=a.offsetHeight,P=this.options.maxHeight,O="leaflet-popup-scrolled";P&&w>P?(c.height=P+"px",Ve(a,O)):Tt(a,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ne(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Ms(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,w=this._containerWidth,P=new H(this._containerLeft,-p-this._containerBottom);P._add(Or(this._container));var O=a.layerPointToContainerPoint(P),$=Z(this.options.autoPanPadding),q=Z(this.options.autoPanPaddingTopLeft||$),Y=Z(this.options.autoPanPaddingBottomRight||$),ae=a.getSize(),we=0,Ae=0;O.x+w+Y.x>ae.x&&(we=O.x+w-ae.x+Y.x),O.x-we-q.x<0&&(we=O.x-q.x),O.y+p+Y.y>ae.y&&(Ae=O.y+p-ae.y+Y.y),O.y-Ae-q.y<0&&(Ae=O.y-q.y),(we||Ae)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([we,Ae]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gM=function(a,c){return new Ph(a,c)};Ke.mergeOptions({closePopupOnClick:!0}),Ke.include({openPopup:function(a,c,p){return this._initOverlay(Ph,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),mt.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Ph,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Wt||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){_r(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof zs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Ih=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Pi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Pi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Pi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xe("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,w=this._map,P=this._container,O=w.latLngToContainerPoint(w.getCenter()),$=w.layerPointToContainerPoint(a),q=this.options.direction,Y=P.offsetWidth,ae=P.offsetHeight,we=Z(this.options.offset),Ae=this._getAnchor();q==="top"?(c=Y/2,p=ae):q==="bottom"?(c=Y/2,p=0):q==="center"?(c=Y/2,p=ae/2):q==="right"?(c=0,p=ae/2):q==="left"?(c=Y,p=ae/2):$.x<O.x?(q="right",c=0,p=ae/2):(q="left",c=Y+(we.x+Ae.x)*2,p=ae/2),a=a.subtract(Z(c,p,!0)).add(we).add(Ae),Tt(P,"leaflet-tooltip-right"),Tt(P,"leaflet-tooltip-left"),Tt(P,"leaflet-tooltip-top"),Tt(P,"leaflet-tooltip-bottom"),Ve(P,"leaflet-tooltip-"+q),Ne(P,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Bt(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vM=function(a,c){return new Ih(a,c)};Ke.include({openTooltip:function(a,c,p){return this._initOverlay(Ih,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),mt.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ih,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Wt||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(ke(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ke(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,w;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),w=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var Ww=Li.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Qo(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var w=Z(p.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function yM(a){return new Ww(a)}Li.Default=ac;var lc=mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){b(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),vt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ns(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof H?a:new H(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),w=0,P=c.length,O;w<P;w++)O=c[w].style.zIndex,c[w]!==this._container&&O&&(p=a(p,+O));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){Bt(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var w in this._tiles){var P=this._tiles[w];if(!(!P.current||!P.loaded)){var O=Math.min(1,(a-P.loaded)/200);Bt(P.el,O),O<1?c=!0:(P.active?p=!0:this._onOpaqueTile(P),P.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(vt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var w=this._levels[a],P=this._map;return w||(w=this._levels[a]={},w.el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=P.project(P.unproject(P.getPixelOrigin()),a).round(),w.zoom=a,this._setZoomTransform(w,P.getCenter(),P.getZoom()),m(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)vt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,w){var P=Math.floor(a/2),O=Math.floor(c/2),$=p-1,q=new H(+P,+O);q.z=+$;var Y=this._tileCoordsToKey(q),ae=this._tiles[Y];return ae&&ae.active?(ae.retain=!0,!0):(ae&&ae.loaded&&(ae.retain=!0),$>w?this._retainParent(P,O,$,w):!1)},_retainChildren:function(a,c,p,w){for(var P=2*a;P<2*a+2;P++)for(var O=2*c;O<2*c+2;O++){var $=new H(P,O);$.z=p+1;var q=this._tileCoordsToKey($),Y=this._tiles[q];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);p+1<w&&this._retainChildren(P,O,p+1,w)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,w){var P=Math.round(c);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var O=this.options.updateWhenZooming&&P!==this._tileZoom;(!w||O)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var w=this._map.getZoomScale(p,a.zoom),P=a.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,p)).round();Ce.any3d?Si(a.el,P,w):Ne(a.el,P)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),w=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],w).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],w).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],w).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],w).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(p,this._tileZoom),P=c.project(a,this._tileZoom).floor(),O=c.getSize().divideBy(w*2);return new oe(P.subtract(O),P.add(O))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(a),P=this._pxBoundsToTileRange(w),O=P.getCenter(),$=[],q=this.options.keepBuffer,Y=new oe(P.getBottomLeft().subtract([q,-q]),P.getTopRight().add([q,-q]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ae in this._tiles){var we=this._tiles[ae].coords;(we.z!==this._tileZoom||!Y.contains(new H(we.x,we.y)))&&(this._tiles[ae].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Ae=P.min.y;Ae<=P.max.y;Ae++)for(var Ge=P.min.x;Ge<=P.max.x;Ge++){var Kn=new H(Ge,Ae);if(Kn.z=this._tileZoom,!!this._isValidTile(Kn)){var fn=this._tiles[this._tileCoordsToKey(Kn)];fn?fn.current=!0:$.push(Kn)}}if($.sort(function(ar,dl){return ar.distanceTo(O)-dl.distanceTo(O)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zr=document.createDocumentFragment();for(Ge=0;Ge<$.length;Ge++)this._addTile($[Ge],zr);this._level.el.appendChild(zr)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(a);return ue(this.options.bounds).overlaps(w)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),w=a.scaleBy(p),P=w.add(p),O=c.unproject(w,a.z),$=c.unproject(P,a.z);return[O,$]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new ee(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new H(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(vt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ve(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=m,a.onmousemove=m,Ce.ielt9&&this.options.opacity<1&&Bt(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),w=this._tileCoordsToKey(a),P=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(P),this.createTile.length<2&&V(o(this._tileReady,this,a,null,P)),Ne(P,p),this._tiles[w]={el:P,coords:a,current:!0},c.appendChild(P),this.fire("tileloadstart",{tile:P,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var w=this._tileCoordsToKey(a);p=this._tiles[w],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Bt(p.el,0),U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Ve(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new H(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new oe(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function _M(a){return new lc(a)}var cl=lc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=b(this,c),c.detectRetina&&Ce.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return ke(p,"load",o(this._tileOnLoad,this,c,p)),ke(p,"error",o(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Ce.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return C(this._url,i(c,this.options))},_tileOnLoad:function(a,c){Ce.ielt9?setTimeout(o(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,w=this.options.zoomOffset;return p&&(a=c-a),a+w},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=m,c.onerror=m,!c.complete)){c.src=j;var p=this._tiles[a].coords;vt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",j),lc.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===j))return lc.prototype._tileReady.call(this,a,c,p)}});function Gw(a,c){return new cl(a,c)}var qw=cl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=i({},this.defaultWmsParams);for(var w in c)w in this.options||(p[w]=c[w]);c=b(this,c);var P=c.detectRetina&&Ce.retina?2:1,O=this.getTileSize();p.width=O.x*P,p.height=O.y*P,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,cl.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,w=re(p.project(c[0]),p.project(c[1])),P=w.min,O=w.max,$=(this._wmsVersion>=1.3&&this._crs===Yt?[P.y,P.x,O.y,O.x]:[P.x,P.y,O.x,O.y]).join(","),q=cl.prototype.getTileUrl.call(this,a);return q+T(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(a,c){return i(this.wmsParams,a),c||this.redraw(),this}});function wM(a,c){return new qw(a,c)}cl.WMS=qw,Gw.wms=wM;var rs=mt.extend({options:{padding:.1},initialize:function(a){b(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,c),O=w.multiplyBy(-p).add(P).subtract(this._map._getNewPixelOrigin(a,c));Ce.any3d?Si(this._container,O,p):Ne(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new oe(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zw=rs.extend({options:{tolerance:0},getEvents:function(){var a=rs.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ke(a,"mousemove",this._onMouseMove,this),ke(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,vt(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rs.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),w=Ce.retina?2:1;Ne(c,a.min),c.width=w*p.x,c.height=w*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){rs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,w=c.prev;p?p.prev=w:this._drawLast=w,w?w.next=p:this._drawFirst=p,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],w,P;for(P=0;P<c.length;P++){if(w=Number(c[P]),isNaN(w))return;p.push(w)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)a=w.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,w,P,O,$=a._parts,q=$.length,Y=this._ctx;if(q){for(Y.beginPath(),p=0;p<q;p++){for(w=0,P=$[p].length;w<P;w++)O=$[p][w],Y[w?"lineTo":"moveTo"](O.x,O.y);c&&Y.closePath()}this._fillStroke(Y,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,w=Math.max(Math.round(a._radius),1),P=(Math.max(Math.round(a._radiusY),1)||w)/w;P!==1&&(p.save(),p.scale(1,P)),p.beginPath(),p.arc(c.x,c.y/P,w,0,Math.PI*2,!1),P!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,w,P=this._drawFirst;P;P=P.next)p=P.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(w=p);this._fireEvent(w?[w]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,w,P=this._drawFirst;P;P=P.next)p=P.layer,p.options.interactive&&p._containsPoint(c)&&(w=p);w!==this._hoveredLayer&&(this._handleMouseOut(a),w&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([w],a,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(p)p.prev=w;else return;w?w.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(w)w.next=p;else return;p?p.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Kw(a){return Ce.canvas?new Zw(a):null}var uc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xM={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rs.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=uc("shape");Ve(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=uc("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;vt(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,w=a.options,P=a._container;P.stroked=!!w.stroke,P.filled=!!w.fill,w.stroke?(c||(c=a._stroke=uc("stroke")),P.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=I(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(P.removeChild(c),a._stroke=null),w.fill?(p||(p=a._fill=uc("fill")),P.appendChild(p),p.color=w.fillColor||w.color,p.opacity=w.fillOpacity):p&&(P.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),w=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+w+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Qi(a._container)},_bringToBack:function(a){Ns(a._container)}},kh=Ce.vml?uc:Te,cc=rs.extend({_initContainer:function(){this._container=kh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rs.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ne(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=kh("path");a.options.className&&Ve(c,a.options.className),a.options.interactive&&Ve(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){vt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Ct(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),w=Math.max(Math.round(a._radiusY),1)||p,P="a"+p+","+w+" 0 1,0 ",O=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+P+p*2+",0 "+P+-p*2+",0 ";this._setPath(a,O)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Qi(a._path)},_bringToBack:function(a){Ns(a._path)}});Ce.vml&&cc.include(xM);function Qw(a){return Ce.svg||Ce.vml?new cc(a):null}Ke.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Kw(a)||Qw(a)}});var Yw=ll.extend({initialize:function(a,c){ll.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ue(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function bM(a,c){return new Yw(a,c)}cc.create=kh,cc.pointsToPath=Ct,ns.geometryToLayer=Eh,ns.coordsToLatLng=cg,ns.coordsToLatLngs=Ch,ns.latLngToCoords=dg,ns.latLngsToCoords=Sh,ns.getFeature=ul,ns.asFeature=Th,Ke.mergeOptions({boxZoom:!0});var Jw=wr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ti(),qu(),this._startPoint=this._map.mouseEventToContainerPoint(a),ke(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),Ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new oe(this._point,this._startPoint),p=c.getSize();Ne(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(vt(this._box),Tt(this._container,"leaflet-crosshair")),ni(),Zu(),pt(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var c=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ke.addInitHook("addHandler","boxZoom",Jw),Ke.mergeOptions({doubleClickZoom:!0});var Xw=wr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),w=c.options.zoomDelta,P=a.originalEvent.shiftKey?p-w:p+w;c.options.doubleClickZoom==="center"?c.setZoom(P):c.setZoomAround(a.containerPoint,P)}});Ke.addInitHook("addHandler","doubleClickZoom",Xw),Ke.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ex=wr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ri(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ue(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,w=this._draggable._newPos.x,P=(w-c+p)%a+c-p,O=(w+c+p)%a-c-p,$=Math.abs(P+p)<Math.abs(O+p)?P:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(a){var c=this._map,p=c.options,w=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),w)c.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,$=p.easeLinearity,q=P.multiplyBy($/O),Y=q.distanceTo([0,0]),ae=Math.min(p.inertiaMaxSpeed,Y),we=q.multiplyBy(ae/Y),Ae=ae/(p.inertiaDeceleration*$),Ge=we.multiplyBy(-Ae/2).round();!Ge.x&&!Ge.y?c.fire("moveend"):(Ge=c._limitOffset(Ge,c.options.maxBounds),V(function(){c.panBy(Ge,{duration:Ae,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Ke.addInitHook("addHandler","dragging",ex),Ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tx=wr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ke(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,w=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,w,P;for(w=0,P=p.left.length;w<P;w++)c[p.left[w]]=[-1*a,0];for(w=0,P=p.right.length;w<P;w++)c[p.right[w]]=[a,0];for(w=0,P=p.down.length;w<P;w++)c[p.down[w]]=[0,a];for(w=0,P=p.up.length;w<P;w++)c[p.up[w]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,w,P;for(w=0,P=p.zoomIn.length;w<P;w++)c[p.zoomIn[w]]=a;for(w=0,P=p.zoomOut.length;w<P;w++)c[p.zoomOut[w]]=-a},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,w;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(w=this._panKeys[c],a.shiftKey&&(w=Z(w).multiplyBy(3)),p.options.maxBounds&&(w=p._limitOffset(Z(w),p.options.maxBounds)),p.options.worldCopyJump){var P=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(w)));p.panTo(P)}else p.panBy(w)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;_r(a)}}});Ke.addInitHook("addHandler","keyboard",tx),Ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nx=wr.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=ph(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var w=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),w),_r(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,O=p?Math.ceil(P/p)*p:P,$=a._limitZoom(c+(this._delta>0?O:-O))-c;this._delta=0,this._startTime=null,$&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+$):a.setZoomAround(this._lastMousePos,c+$))}});Ke.addInitHook("addHandler","scrollWheelZoom",nx);var EM=600;Ke.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var rx=wr.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new H(c.clientX,c.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",Rt),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),EM),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){pt(document,"touchend",Rt),pt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new H(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Ke.addInitHook("addHandler","tapHold",rx),Ke.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var ix=wr.extend({addHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(w)._divideBy(2))),this._startDist=p.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),Rt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]),P=p.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(P,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&P<1||this._zoom>c.getMaxZoom()&&P>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var O=p._add(w)._divideBy(2)._subtract(this._centerPoint);if(P===1&&O.x===0&&O.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var $=o(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V($,this,!0),Rt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ke.addInitHook("addHandler","touchZoom",ix),Ke.BoxZoom=Jw,Ke.DoubleClickZoom=Xw,Ke.Drag=ex,Ke.Keyboard=tx,Ke.ScrollWheelZoom=nx,Ke.TapHold=rx,Ke.TouchZoom=ix,n.Bounds=oe,n.Browser=Ce,n.CRS=fe,n.Canvas=Zw,n.Circle=ug,n.CircleMarker=bh,n.Class=Q,n.Control=or,n.DivIcon=Ww,n.DivOverlay=Pi,n.DomEvent=mh,n.DomUtil=hh,n.Draggable=ri,n.Evented=he,n.FeatureGroup=Wt,n.GeoJSON=ns,n.GridLayer=lc,n.Handler=wr,n.Icon=Li,n.ImageOverlay=Lh,n.LatLng=W,n.LatLngBounds=ee,n.Layer=mt,n.LayerGroup=Mt,n.LineUtil=F,n.Map=Ke,n.Marker=xh,n.Mixin=Yo,n.Path=zs,n.Point=H,n.PolyUtil=sl,n.Polygon=ll,n.Polyline=ts,n.Popup=Ph,n.PosAnimation=tc,n.Projection=ge,n.Rectangle=Yw,n.Renderer=rs,n.SVG=cc,n.SVGOverlay=Hw,n.TileLayer=cl,n.Tooltip=Ih,n.Transformation=ye,n.Util=B,n.VideoOverlay=$w,n.bind=o,n.bounds=re,n.canvas=Kw,n.circle=uM,n.circleMarker=lM,n.control=Zn,n.divIcon=yM,n.extend=i,n.featureGroup=al,n.geoJSON=Uw,n.geoJson=hM,n.gridLayer=_M,n.icon=oM,n.imageOverlay=fM,n.latLng=me,n.latLngBounds=ue,n.layerGroup=Fs,n.map=Xa,n.marker=aM,n.point=Z,n.polygon=dM,n.polyline=cM,n.popup=gM,n.rectangle=bM,n.setOptions=b,n.stamp=u,n.svg=Qw,n.svgOverlay=mM,n.tileLayer=Gw,n.tooltip=vM,n.transformation=pe,n.version=r,n.videoOverlay=pM;var CM=window.L;n.noConflict=function(){return window.L=CM,this},window.L=n})})(s_,s_.exports);var qi=s_.exports;const QS=l_(qi);function KR(t){return t.split(" ").filter(Boolean)}function QR(t,e){KR(e).forEach(n=>{qi.DomUtil.addClass(t,n)})}function YR(t,e){KR(e).forEach(n=>{qi.DomUtil.removeClass(t,n)})}function MH(t,e,n){t!=null&&n!==e&&(e!=null&&e.length>0&&YR(t,e),n!=null&&n.length>0&&QR(t,n))}function ju(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Ha(t,e){return e==null?function(r,i){const s=v.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=v.useRef();s.current||(s.current=t(r,i));const o=v.useRef(r),{instance:l}=s.current;return v.useEffect(function(){o.current!==r&&(e(l,r,o.current),o.current=r)},[l,r,i]),s}}function jw(t,e){v.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Vw(t){return function(n){const r=$a(),i=t(sh(n,r),r);return Mw(r.map,n.attribution),og(i.current,n.eventHandlers),jw(i.current,r),i}}function JR(t,e){const n=v.useRef();v.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function XR(t){return function(n){const r=$a(),i=t(sh(n,r),r);return og(i.current,n.eventHandlers),jw(i.current,r),JR(i.current,n),i}}function NH(t){function e(i,s){return ju(t(i),s)}const n=Ha(e),r=Dw(n);return Ow(r)}function eM(t,e){const n=Ha(t,e),r=Vw(n);return sg(r)}function tM(t,e){const n=Ha(t),r=ZR(n,e);return qR(r)}function OH(t,e){const n=Ha(t,e),r=XR(n);return sg(r)}function nM(t,e){const n=Ha(t,e),r=Vw(n);return Ow(r)}function rM(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function DH(t,e,n){e.bounds instanceof qi.LatLngBounds&&e.bounds!==n.bounds&&t.setBounds(e.bounds),e.opacity!=null&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),e.zIndex!=null&&e.zIndex!==n.zIndex&&t.setZIndex(e.zIndex)}const jH=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:WR,LeafletContext:Nw,LeafletProvider:ig,addClassName:QR,createContainerComponent:sg,createControlComponent:NH,createControlHook:Dw,createDivOverlayComponent:qR,createDivOverlayHook:ZR,createElementHook:Ha,createElementObject:ju,createLayerComponent:eM,createLayerHook:Vw,createLeafComponent:Ow,createLeafletContext:GR,createOverlayComponent:tM,createPathComponent:OH,createPathHook:XR,createTileLayerComponent:nM,extendContext:rg,removeClassName:YR,updateCircle:RH,updateClassName:MH,updateGridLayer:rM,updateMediaOverlay:DH,useAttribution:Mw,useEventHandlers:og,useLayerLifecycle:jw,useLeafletContext:$a,usePathOptions:JR,withPane:sh},Symbol.toStringTag,{value:"Module"}));function VH(){return $a().map}const FH=Ha(function({children:e,...n},r){const i=new qi.Control.Layers(void 0,void 0,n);return ju(i,rg(r,{layersControl:i}))},function(e,n,r){n.collapsed!==r.collapsed&&(n.collapsed===!0?e.collapse():e.expand())}),zH=Dw(FH),Qp=sg(zH);function iM(t){return function(n){const r=$a(),i=v.useRef(n),[s,o]=v.useState(null),{layersControl:l,map:u}=r,d=v.useCallback(y=>{l!=null&&(i.current.checked&&u.addLayer(y),t(l,y,i.current.name),o(y))},[l,u]),f=v.useCallback(y=>{l==null||l.removeLayer(y),o(null)},[l]),m=v.useMemo(()=>rg(r,{layerContainer:{addLayer:d,removeLayer:f}}),[r,d,f]);return v.useEffect(()=>{s!==null&&i.current!==n&&(n.checked===!0&&(i.current.checked==null||i.current.checked===!1)?u.addLayer(s):i.current.checked===!0&&(n.checked==null||n.checked===!1)&&u.removeLayer(s),i.current=n)}),n.children?ce.createElement(ig,{value:m},n.children):null}}Qp.BaseLayer=iM(function(e,n,r){e.addBaseLayer(n,r)});Qp.Overlay=iM(function(e,n,r){e.addOverlay(n,r)});function o_(){return o_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function BH({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:o,style:l,whenReady:u,zoom:d,...f},m){const[y]=v.useState({className:i,id:s,style:l}),[_,x]=v.useState(null);v.useImperativeHandle(m,()=>(_==null?void 0:_.map)??null,[_]);const b=v.useCallback(E=>{if(E!==null&&_===null){const C=new qi.Map(E,f);n!=null&&d!=null?C.setView(n,d):t!=null&&C.fitBounds(t,e),u!=null&&C.whenReady(u),x(GR(C))}},[]);v.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const T=_?ce.createElement(ig,{value:_},r):o??null;return ce.createElement("div",o_({},y,{ref:b}),T)}const UH=v.forwardRef(BH),$H=eM(function({position:e,...n},r){const i=new qi.Marker(e,n);return ju(i,rg(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),HH=tM(function(e,n){const r=new qi.Popup(e,n.overlayContainer);return ju(r,n)},function(e,n,{position:r},i){v.useEffect(function(){const{instance:o}=e;function l(d){d.popup===o&&(o.update(),i(!0))}function u(d){d.popup===o&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var f;n.map.off({popupopen:l,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,r])}),WH=nM(function({url:e,...n},r){const i=new qi.TileLayer(e,sh(n,r));return ju(i,r)},function(e,n,r){rM(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});var sM={};const GH=Yp(jH);var YS={exports:{}};(function(t,e){(function(n,r){r(e)})(Po,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=s,l=this._zoom;if(s.__parent)for(;o.__parent._zoom>=l;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,o):this._animationAddLayerNonAnimated(s,o)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):s.getLatLng?this._map?s.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}),this):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s}),this)},addLayers:function(s,o){if(!L.Util.isArray(s))return this.addLayer(s);var l=this._featureGroup,u=this._nonPointGroup,d=this.options.chunkedLoading,f=this.options.chunkInterval,m=this.options.chunkProgress,y=s.length,_=0,x=!0,b;if(this._map){var T=new Date().getTime(),E=L.bind(function(){var I=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();_<y;_++){if(d&&_%200===0){var N=new Date().getTime()-I;if(N>f)break}if(b=s[_],b instanceof L.LayerGroup){x&&(s=s.slice(),x=!1),this._extractNonGroupLayers(b,s),y=s.length;continue}if(!b.getLatLng){u.addLayer(b),o||this.fire("layeradd",{layer:b});continue}if(!this.hasLayer(b)&&(this._addLayer(b,this._maxZoom),o||this.fire("layeradd",{layer:b}),b.__parent&&b.__parent.getChildCount()===2)){var j=b.__parent.getAllChildMarkers(),z=j[0]===b?j[1]:j[0];l.removeLayer(z)}}m&&m(_,y,new Date().getTime()-T),_===y?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(E,this.options.chunkDelay)},this);E()}else for(var C=this._needsClustering;_<y;_++){if(b=s[_],b instanceof L.LayerGroup){x&&(s=s.slice(),x=!1),this._extractNonGroupLayers(b,s),y=s.length;continue}if(!b.getLatLng){u.addLayer(b);continue}this.hasLayer(b)||C.push(b)}return this},removeLayers:function(s){var o,l,u=s.length,d=this._featureGroup,f=this._nonPointGroup,m=!0;if(!this._map){for(o=0;o<u;o++){if(l=s[o],l instanceof L.LayerGroup){m&&(s=s.slice(),m=!1),this._extractNonGroupLayers(l,s),u=s.length;continue}this._arraySplice(this._needsClustering,l),f.removeLayer(l),this.hasLayer(l)&&this._needsRemoving.push({layer:l,latlng:l._latlng}),this.fire("layerremove",{layer:l})}return this}if(this._unspiderfy){this._unspiderfy();var y=s.slice(),_=u;for(o=0;o<_;o++){if(l=y[o],l instanceof L.LayerGroup){this._extractNonGroupLayers(l,y),_=y.length;continue}this._unspiderfyLayer(l)}}for(o=0;o<u;o++){if(l=s[o],l instanceof L.LayerGroup){m&&(s=s.slice(),m=!1),this._extractNonGroupLayers(l,s),u=s.length;continue}if(!l.__parent){f.removeLayer(l),this.fire("layerremove",{layer:l});continue}this._removeLayer(l,!0,!0),this.fire("layerremove",{layer:l}),d.hasLayer(l)&&(d.removeLayer(l),l.clusterShow&&l.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)s.extend(this._needsClustering[o].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,o){var l=this._needsClustering.slice(),u=this._needsRemoving,d,f,m;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(l),f=l.length-1;f>=0;f--){for(d=!0,m=u.length-1;m>=0;m--)if(u[m].layer===l[f]){d=!1;break}d&&s.call(o,l[f])}this._nonPointGroup.eachLayer(s,o)},getLayers:function(){var s=[];return this.eachLayer(function(o){s.push(o)}),s},getLayer:function(s){var o=null;return s=parseInt(s,10),this.eachLayer(function(l){L.stamp(l)===s&&(o=l)}),o},hasLayer:function(s){if(!s)return!1;var o,l=this._needsClustering;for(o=l.length-1;o>=0;o--)if(l[o]===s)return!0;for(l=this._needsRemoving,o=l.length-1;o>=0;o--)if(l[o].layer===s)return!1;return!!(s.__parent&&s.__parent._group===this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,o){var l=this._map;typeof o!="function"&&(o=function(){});var u=function(){(l.hasLayer(s)||l.hasLayer(s.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",u,this),this.off("animationend",u,this),l.hasLayer(s)?o():s.__parent._icon&&(this.once("spiderfied",o,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?o():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",u,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",u,this),this.on("animationend",u,this),s.__parent.zoomToBounds())},onAdd:function(s){this._map=s;var o,l,u;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,o=0,l=this._needsRemoving.length;o<l;o++)u=this._needsRemoving[o],u.newlatlng=u.layer._latlng,u.layer._latlng=u.latlng;for(o=0,l=this._needsRemoving.length;o<l;o++)u=this._needsRemoving[o],this._removeLayer(u.layer,!0),u.layer._latlng=u.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),l=this._needsClustering,this._needsClustering=[],this.addLayers(l,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var o=s;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(s,o){for(var l=s.length-1;l>=0;l--)if(s[l]===o)return s.splice(l,1),!0},_removeFromGridUnclustered:function(s,o){for(var l=this._map,u=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());o>=d&&u[o].removeObject(s,l.project(s.getLatLng(),o));o--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var o=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),o&&s.target.openPopup()}},_moveChild:function(s,o,l){s._latlng=o,this.removeLayer(s),s._latlng=l,this.addLayer(s)},_childMarkerDragEnd:function(s){var o=s.target.__dragStart;delete s.target.__dragStart,o&&this._moveChild(s.target,o,s.target._latlng)},_removeLayer:function(s,o,l){var u=this._gridClusters,d=this._gridUnclustered,f=this._featureGroup,m=this._map,y=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(s,this._maxZoom);var _=s.__parent,x=_._markers,b;for(this._arraySplice(x,s);_&&(_._childCount--,_._boundsNeedUpdate=!0,!(_._zoom<y));)o&&_._childCount<=1?(b=_._markers[0]===s?_._markers[1]:_._markers[0],u[_._zoom].removeObject(_,m.project(_._cLatLng,_._zoom)),d[_._zoom].addObject(b,m.project(b.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(b),b.__parent=_.__parent,_._icon&&(f.removeLayer(_),l||f.addLayer(b))):_._iconNeedsUpdate=!0,_=_.__parent;delete s.__parent},_isOrIsParent:function(s,o){for(;o;){if(s===o)return!0;o=o.parentNode}return!1},fire:function(s,o,l){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,o,l)},listens:function(s,o){return L.FeatureGroup.prototype.listens.call(this,s,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,o)},_defaultIconCreateFunction:function(s){var o=s.getChildCount(),l=" marker-cluster-";return o<10?l+="small":o<100?l+="medium":l+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+l,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,o=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(o||u||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var o=s.layer,l=o;if(!(s.type==="clusterkeypress"&&s.originalEvent&&s.originalEvent.keyCode!==13)){for(;l._childClusters.length===1;)l=l._childClusters[0];l._zoom===this._maxZoom&&l._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),s.layer.getChildCount()>2&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,u=this.options.spiderfyOnEveryZoom,d=this._map;(s||l||u)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),l=this.options.maxClusterRadius,u=l;typeof l!="function"&&(u=function(){return l}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var d=s;d>=o;d--)this._gridClusters[d]=new L.DistanceGrid(u(d)),this._gridUnclustered[d]=new L.DistanceGrid(u(d));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(s,o){var l=this._gridClusters,u=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),f,m;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);o>=d;o--){f=this._map.project(s.getLatLng(),o);var y=l[o].getNearObject(f);if(y){y._addChild(s),s.__parent=y;return}if(y=u[o].getNearObject(f),y){var _=y.__parent;_&&this._removeLayer(y,!1);var x=new this._markerCluster(this,o,y,s);l[o].addObject(x,this._map.project(x._cLatLng,o)),y.__parent=x,s.__parent=x;var b=x;for(m=o-1;m>_._zoom;m--)b=new this._markerCluster(this,m,b),l[m].addObject(b,this._map.project(y.getLatLng(),m));_._addChild(b),this._removeFromGridUnclustered(y,o);return}u[o].addObject(s,f)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(s){var o=this._maxLat;return o!==void 0&&(s.getNorth()>=o&&(s._northEast.lat=1/0),s.getSouth()<=-o&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,o){if(o===s)this._featureGroup.addLayer(s);else if(o._childCount===2){o._addToMap();var l=o.getAllChildMarkers();this._featureGroup.removeLayer(l[0]),this._featureGroup.removeLayer(l[1])}else o._updateIcon()},_extractNonGroupLayers:function(s,o){var l=s.getLayers(),u=0,d;for(o=o||[];u<l.length;u++){if(d=l[u],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,o);continue}o.push(d)}return o},_overrideMarkerIcon:function(s){var o=s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,o){this._animationAddLayerNonAnimated(s,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,o){var l=this._getExpandedVisibleBounds(),u=this._featureGroup,d=Math.floor(this._map.getMinZoom()),f;this._ignoreMove=!0,this._topClusterLevel._recursively(l,s,d,function(m){var y=m._latlng,_=m._markers,x;for(l.contains(y)||(y=null),m._isSingleParent()&&s+1===o?(u.removeLayer(m),m._recursivelyAddChildrenToMap(null,o,l)):(m.clusterHide(),m._recursivelyAddChildrenToMap(y,o,l)),f=_.length-1;f>=0;f--)x=_[f],l.contains(x._latlng)||u.removeLayer(x)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(l,o),u.eachLayer(function(m){!(m instanceof L.MarkerCluster)&&m._icon&&m.clusterShow()}),this._topClusterLevel._recursively(l,s,o,function(m){m._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(l,s,d,function(m){u.removeLayer(m),m.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,o){this._animationZoomOutSingle(this._topClusterLevel,s-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,o){var l=this,u=this._featureGroup;u.addLayer(s),o!==s&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(o.getLatLng())),s.clusterHide(),this._enqueue(function(){u.removeLayer(s),s.clusterShow(),l._animationEnd()})):(this._forceLayout(),l._animationStart(),l._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,o,l){var u=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(u,d,o+1,l);var f=this;this._forceLayout(),s._recursivelyBecomeVisible(u,l),this._enqueue(function(){if(s._childCount===1){var m=s._markers[0];this._ignoreMove=!0,m.setLatLng(m.getLatLng()),this._ignoreMove=!1,m.clusterShow&&m.clusterShow()}else s._recursively(u,l,d,function(y){y._recursivelyRemoveChildrenFromMap(u,d,o+1)});f._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,o,l,u){L.Marker.prototype.initialize.call(this,l?l._cLatLng||l.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,l&&this._addChild(l),u&&this._addChild(u)},getAllChildMarkers:function(s,o){s=s||[];for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l].getAllChildMarkers(s,o);for(var u=this._markers.length-1;u>=0;u--)o&&this._markers[u].__dragStart||s.push(this._markers[u]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var o=this._childClusters.slice(),l=this._group._map,u=l.getBoundsZoom(this._bounds),d=this._zoom+1,f=l.getZoom(),m;o.length>0&&u>d;){d++;var y=[];for(m=0;m<o.length;m++)y=y.concat(o[m]._childClusters);o=y}u>d?this._group._map.setView(this._latlng,d):u<=f?this._group._map.setView(this._latlng,f+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(o||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(o||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s=this._markers,o=this._childClusters,l=0,u=0,d=this._childCount,f,m,y,_;if(d!==0){for(this._resetBounds(),f=0;f<s.length;f++)y=s[f]._latlng,this._bounds.extend(y),l+=y.lat,u+=y.lng;for(f=0;f<o.length;f++)m=o[f],m._boundsNeedUpdate&&m._recalculateBounds(),this._bounds.extend(m._bounds),y=m._wLatLng,_=m._childCount,l+=y.lat*_,u+=y.lng*_;this._latlng=this._wLatLng=new L.LatLng(l/d,u/d),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,o,l){this._recursively(s,this._group._map.getMinZoom(),l-1,function(u){var d=u._markers,f,m;for(f=d.length-1;f>=0;f--)m=d[f],m._icon&&(m._setPos(o),m.clusterHide())},function(u){var d=u._childClusters,f,m;for(f=d.length-1;f>=0;f--)m=d[f],m._icon&&(m._setPos(o),m.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,o,l,u){this._recursively(s,u,o,function(d){d._recursivelyAnimateChildrenIn(s,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),l),d._isSingleParent()&&l-1===u?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(s,o,l)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(s,o){this._recursively(s,this._group._map.getMinZoom(),o,null,function(l){l.clusterShow()})},_recursivelyAddChildrenToMap:function(s,o,l){this._recursively(l,this._group._map.getMinZoom()-1,o,function(u){if(o!==u._zoom)for(var d=u._markers.length-1;d>=0;d--){var f=u._markers[d];l.contains(f._latlng)&&(s&&(f._backupLatlng=f.getLatLng(),f.setLatLng(s),f.clusterHide&&f.clusterHide()),u._group._featureGroup.addLayer(f))}},function(u){u._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var o=this._markers.length-1;o>=0;o--){var l=this._markers[o];l._backupLatlng&&(l.setLatLng(l._backupLatlng),delete l._backupLatlng)}if(s-1===this._zoom)for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,o,l,u){var d,f;this._recursively(s,o-1,l-1,function(m){for(f=m._markers.length-1;f>=0;f--)d=m._markers[f],(!u||!u.contains(d._latlng))&&(m._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(m){for(f=m._childClusters.length-1;f>=0;f--)d=m._childClusters[f],(!u||!u.contains(d._latlng))&&(m._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(s,o,l,u,d){var f=this._childClusters,m=this._zoom,y,_;if(o<=m&&(u&&u(this),d&&m===l&&d(this)),m<o||m<l)for(y=f.length-1;y>=0;y--)_=f[y],_._boundsNeedUpdate&&_._recalculateBounds(),s.intersects(_._bounds)&&_._recursively(s,o,l,u,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,o){var l=this._getCoord(o.x),u=this._getCoord(o.y),d=this._grid,f=d[u]=d[u]||{},m=f[l]=f[l]||[],y=L.Util.stamp(s);this._objectPoint[y]=o,m.push(s)},updateObject:function(s,o){this.removeObject(s),this.addObject(s,o)},removeObject:function(s,o){var l=this._getCoord(o.x),u=this._getCoord(o.y),d=this._grid,f=d[u]=d[u]||{},m=f[l]=f[l]||[],y,_;for(delete this._objectPoint[L.Util.stamp(s)],y=0,_=m.length;y<_;y++)if(m[y]===s)return m.splice(y,1),_===1&&delete f[l],!0},eachObject:function(s,o){var l,u,d,f,m,y,_,x=this._grid;for(l in x){m=x[l];for(u in m)for(y=m[u],d=0,f=y.length;d<f;d++)_=s.call(o,y[d]),_&&(d--,f--)}},getNearObject:function(s){var o=this._getCoord(s.x),l=this._getCoord(s.y),u,d,f,m,y,_,x,b,T=this._objectPoint,E=this._sqCellSize,C=null;for(u=l-1;u<=l+1;u++)if(m=this._grid[u],m){for(d=o-1;d<=o+1;d++)if(y=m[d],y)for(f=0,_=y.length;f<_;f++)x=y[f],b=this._sqDist(T[L.Util.stamp(x)],s),(b<E||b<=E&&C===null)&&(E=b,C=x)}return C},_getCoord:function(s){var o=Math.floor(s/this._cellSize);return isFinite(o)?o:s},_sqDist:function(s,o){var l=o.x-s.x,u=o.y-s.y;return l*l+u*u}},function(){L.QuickHull={getDistant:function(s,o){var l=o[1].lat-o[0].lat,u=o[0].lng-o[1].lng;return u*(s.lat-o[0].lat)+l*(s.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(s,o){var l=0,u=null,d=[],f,m,y;for(f=o.length-1;f>=0;f--){if(m=o[f],y=this.getDistant(m,s),y>0)d.push(m);else continue;y>l&&(l=y,u=m)}return{maxPoint:u,newPoints:d}},buildConvexHull:function(s,o){var l=[],u=this.findMostDistantPointFromBaseLine(s,o);return u.maxPoint?(l=l.concat(this.buildConvexHull([s[0],u.maxPoint],u.newPoints)),l=l.concat(this.buildConvexHull([u.maxPoint,s[1]],u.newPoints)),l):[s[0]]},getConvexHull:function(s){var o=!1,l=!1,u=!1,d=!1,f=null,m=null,y=null,_=null,x=null,b=null,T;for(T=s.length-1;T>=0;T--){var E=s[T];(o===!1||E.lat>o)&&(f=E,o=E.lat),(l===!1||E.lat<l)&&(m=E,l=E.lat),(u===!1||E.lng>u)&&(y=E,u=E.lng),(d===!1||E.lng<d)&&(_=E,d=E.lng)}l!==o?(b=m,x=f):(b=_,x=y);var C=[].concat(this.buildConvexHull([b,x],s),this.buildConvexHull([x,b],s));return C}}}(),L.MarkerCluster.include({getConvexHull:function(){var s=this.getAllChildMarkers(),o=[],l,u;for(u=s.length-1;u>=0;u--)l=s[u].getLatLng(),o.push(l);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var s=this.getAllChildMarkers(null,!0),o=this._group,l=o._map,u=l.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(s.length,u):s.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(s.length,u):(u.y+=10,d=this._generatePointsCircle(s.length,u)),this._animationSpiderfy(s,d)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,o){var l=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s),u=l/this._2PI,d=this._2PI/s,f=[],m,y;for(u=Math.max(u,35),f.length=s,m=0;m<s;m++)y=this._circleStartAngle+m*d,f[m]=new L.Point(o.x+u*Math.cos(y),o.y+u*Math.sin(y))._round();return f},_generatePointsSpiral:function(s,o){var l=this._group.options.spiderfyDistanceMultiplier,u=l*this._spiralLengthStart,d=l*this._spiralFootSeparation,f=l*this._spiralLengthFactor*this._2PI,m=0,y=[],_;for(y.length=s,_=s;_>=0;_--)_<s&&(y[_]=new L.Point(o.x+u*Math.cos(m),o.y+u*Math.sin(m))._round()),m+=d/u+_*5e-4,u+=f/m;return y},_noanimationUnspiderfy:function(){var s=this._group,o=s._map,l=s._featureGroup,u=this.getAllChildMarkers(null,!0),d,f;for(s._ignoreMove=!0,this.setOpacity(1),f=u.length-1;f>=0;f--)d=u[f],l.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(o.removeLayer(d._spiderLeg),delete d._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:u}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,o){var l=this._group,u=l._map,d=l._featureGroup,f=this._group.options.spiderLegPolylineOptions,m,y,_,x;for(l._ignoreMove=!0,m=0;m<s.length;m++)x=u.layerPointToLatLng(o[m]),y=s[m],_=new L.Polyline([this._latlng,x],f),u.addLayer(_),y._spiderLeg=_,y._preSpiderfyLatlng=y._latlng,y.setLatLng(x),y.setZIndexOffset&&y.setZIndexOffset(1e6),d.addLayer(y);this.setOpacity(.3),l._ignoreMove=!1,l.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,o){var l=this,u=this._group,d=u._map,f=u._featureGroup,m=this._latlng,y=d.latLngToLayerPoint(m),_=L.Path.SVG,x=L.extend({},this._group.options.spiderLegPolylineOptions),b=x.opacity,T,E,C,I,N,j;for(b===void 0&&(b=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(x.opacity=0,x.className=(x.className||"")+" leaflet-cluster-spider-leg"):x.opacity=b,u._ignoreMove=!0,T=0;T<s.length;T++)E=s[T],j=d.layerPointToLatLng(o[T]),C=new L.Polyline([m,j],x),d.addLayer(C),E._spiderLeg=C,_&&(I=C._path,N=I.getTotalLength()+.1,I.style.strokeDasharray=N,I.style.strokeDashoffset=N),E.setZIndexOffset&&E.setZIndexOffset(1e6),E.clusterHide&&E.clusterHide(),f.addLayer(E),E._setPos&&E._setPos(y);for(u._forceLayout(),u._animationStart(),T=s.length-1;T>=0;T--)j=d.layerPointToLatLng(o[T]),E=s[T],E._preSpiderfyLatlng=E._latlng,E.setLatLng(j),E.clusterShow&&E.clusterShow(),_&&(C=E._spiderLeg,I=C._path,I.style.strokeDashoffset=0,C.setStyle({opacity:b}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:l,markers:s})},200)},_animationUnspiderfy:function(s){var o=this,l=this._group,u=l._map,d=l._featureGroup,f=s?u._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):u.latLngToLayerPoint(this._latlng),m=this.getAllChildMarkers(null,!0),y=L.Path.SVG,_,x,b,T,E,C;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),x=m.length-1;x>=0;x--)_=m[x],_._preSpiderfyLatlng&&(_.closePopup(),_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng,C=!0,_._setPos&&(_._setPos(f),C=!1),_.clusterHide&&(_.clusterHide(),C=!1),C&&d.removeLayer(_),y&&(b=_._spiderLeg,T=b._path,E=T.getTotalLength()+.1,T.style.strokeDashoffset=E,b.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var I=0;for(x=m.length-1;x>=0;x--)_=m[x],_._spiderLeg&&I++;for(x=m.length-1;x>=0;x--)_=m[x],_._spiderLeg&&(_.clusterShow&&_.clusterShow(),_.setZIndexOffset&&_.setZIndexOffset(0),I>1&&d.removeLayer(_),u.removeLayer(_._spiderLeg),delete _._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:o,markers:m})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var o,l;for(o in s)for(l=s[o].__parent;l;)l._iconNeedsUpdate=!0,l=l.__parent},_refreshSingleMarkerModeMarkers:function(s){var o,l;for(o in s)l=s[o],this.hasLayer(l)&&l.setIcon(this._overrideMarkerIcon(l))}}),L.Marker.include({refreshIconOptions:function(s,o){var l=this.options.icon;return L.setOptions(l,s),this.setIcon(l),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})})(YS,YS.exports);const qH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",ZH=Object.freeze(Object.defineProperty({__proto__:null,default:qH},Symbol.toStringTag,{value:"Module"})),KH=Yp(ZH),QH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",YH=Object.freeze(Object.defineProperty({__proto__:null,default:QH},Symbol.toStringTag,{value:"Module"})),JH=Yp(YH),XH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",eW=Object.freeze(Object.defineProperty({__proto__:null,default:XH},Symbol.toStringTag,{value:"Module"})),tW=Yp(eW);var Al=Po&&Po.__assign||function(){return Al=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Al.apply(this,arguments)},nW=Po&&Po.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},rW=Po&&Po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sM,"__esModule",{value:!0});var a_=GH,Fw=rW(qi);delete Fw.default.Icon.Default.prototype._getIconUrl;Fw.default.Icon.Default.mergeOptions({iconRetinaUrl:KH.default,iconUrl:JH.default,shadowUrl:tW.default});function iW(t){var e={},n={};t.children;var r=nW(t,["children"]);return Object.entries(r).forEach(function(i){var s,o,l=i[0],u=i[1];l.startsWith("on")?n=Al(Al({},n),(s={},s[l]=u,s)):e=Al(Al({},e),(o={},o[l]=u,o))}),{clusterProps:e,clusterEvents:n}}function sW(t,e){var n=iW(t),r=n.clusterProps,i=n.clusterEvents,s=new Fw.default.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var l=o[0],u=o[1],d="cluster".concat(l.substring(2).toLowerCase());s.on(d,u)}),(0,a_.createElementObject)(s,(0,a_.extendContext)(e,{layerContainer:s}))}var oW=function(t,e,n){},aW=(0,a_.createPathComponent)(sW,oW),lW=sM.default=aW;const uW=[{id:1,name:"Eco Mart Central",lat:28.6139,lng:77.209,products:["T-Shirt"]},{id:2,name:"Green Store South",lat:28.5355,lng:77.391,products:["Bag"]},{id:3,name:"Nature's Basket",lat:28.4089,lng:77.3178,products:["Bottle"]},{id:4,name:"Eco Plaza",lat:28.7041,lng:77.1025,products:["T-Shirt","Bag"]},{id:5,name:"GreenLeaf",lat:28.4595,lng:77.0266,products:["Bottle","Bag"]}];function cW(){const t=VH();return v.useEffect(()=>{t.locate({setView:!0,maxZoom:16});function e(n){QS.circle(n.latlng,{radius:n.accuracy}).addTo(t),QS.marker(n.latlng).addTo(t).bindPopup("You are here").openPopup()}return t.on("locationfound",e),()=>{t.off("locationfound",e)}},[t]),null}const dW=()=>{const[t,e]=ce.useState(""),n=uW.filter(r=>r.name.toLowerCase().includes(t.toLowerCase())||r.products.some(i=>i.toLowerCase().includes(t.toLowerCase())));return g.jsxs("div",{children:[g.jsx("div",{className:"mb-4 flex gap-2",children:g.jsx("input",{type:"text",placeholder:"Search shops or products...",value:t,onChange:r=>e(r.target.value),className:"border p-2 rounded w-full"})}),g.jsxs(UH,{center:[28.6139,77.209],zoom:11,style:{height:"400px",width:"100%"},children:[g.jsx(Qp,{position:"topright",children:g.jsx(Qp.BaseLayer,{checked:!0,name:"OpenStreetMap",children:g.jsx(WH,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})}),g.jsx(cW,{}),g.jsx(lW,{children:n.map(r=>g.jsx($H,{position:[r.lat,r.lng],children:g.jsxs(HH,{children:[g.jsx("b",{children:r.name}),g.jsx("br",{}),"Products: ",r.products.join(", ")]})},r.id))})]})]})};function hW(){const[t,e]=v.useState("google");return g.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-3xl font-extrabold text-green-700",children:"Eco Shop Locator"}),g.jsx(co,{to:"/",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:"Home"})]}),g.jsx("p",{className:"mb-4 text-gray-700 text-base",children:"Discover eco-friendly shops near you and support sustainable businesses. Shopping green helps reduce your carbon footprint and supports a cleaner planet!"}),g.jsxs("div",{className:"mb-4 flex gap-2",children:[g.jsx("button",{className:`px-4 py-2 rounded-l ${t==="google"?"bg-green-700 text-white":"bg-gray-200"}`,onClick:()=>e("google"),children:"Google Map"}),g.jsx("button",{className:`px-4 py-2 rounded-r ${t==="leaflet"?"bg-green-700 text-white":"bg-gray-200"}`,onClick:()=>e("leaflet"),children:"Leaflet/OSM"})]}),g.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg border border-green-200 mb-6",style:{minHeight:400},children:t==="google"?g.jsxs(g.Fragment,{children:[g.jsx(AH,{}),g.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Google Maps: best for directions, satellite, and street view."})]}):g.jsxs(g.Fragment,{children:[g.jsx(dW,{}),g.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Leaflet/OSM: advanced search, user location, clustering, and open data."})]})})]})}async function fW(t){const e=tg(Ou,"users",t),r=(await bR(e)).data();return{badges:(r==null?void 0:r.badges)||[]}}const pW=()=>{const[t,e]=zk(),{user:n,logout:r}=Wo(),[i,s]=v.useState(!1),[o,l]=v.useState(!1),u=Gi(),[d,f]=v.useState([]),[m,y]=v.useState(!0);v.useEffect(()=>{if(!n){u("/auth/login");return}y(!0),fW(n.uid).then(b=>f(b.badges)).finally(()=>y(!1))},[n,u]);const _=async()=>{s(!0);const b={email:n==null?void 0:n.email,uid:n==null?void 0:n.uid},T=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),E=URL.createObjectURL(T),C=document.createElement("a");C.href=E,C.download=`ecocart-profile-${n==null?void 0:n.uid}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),s(!1)},x=async()=>{l(!0),alert("Your data deletion request has been received. (Implement backend logic for real deletion.)"),l(!1),r()};return n?g.jsx("div",{className:"flex justify-center py-10",children:g.jsxs(xn,{className:"w-full max-w-lg",children:[g.jsx(zn,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Bn,{children:"User Profile"}),g.jsx($e,{variant:"outline",size:"icon","aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",onClick:e,children:t?g.jsx(gD,{className:"h-5 w-5 text-yellow-500"}):g.jsx(lD,{className:"h-5 w-5 text-gray-800"})})]})}),g.jsxs(bn,{children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("b",{children:"Email:"})," ",n.email]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("b",{children:"UID:"})," ",n.uid]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("b",{children:"Eco-Badges:"}),m?g.jsx("div",{className:"text-gray-500 mt-2",children:"Loading badges..."}):d.length===0?g.jsx("div",{className:"text-gray-500 mt-2",children:"No eco-badges earned yet. Start shopping eco-friendly to earn badges!"}):g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(b=>g.jsx(Il,{type:b},b))})]})]}),g.jsxs(zi,{className:"flex gap-4",children:[g.jsx($e,{onClick:_,disabled:i,children:i?"Downloading...":"Download My Data"}),g.jsx($e,{variant:"destructive",onClick:x,disabled:o,children:o?"Deleting...":"Delete My Account"})]})]})}):g.jsx("div",{className:"p-8",children:"Please log in to view your profile."})},mW=[{user:"Alice",rating:5,comment:"Super eco-friendly and high quality!"},{user:"Bob",rating:4,comment:"Loved the sustainable packaging."}],gW=()=>{const{user:t}=Wo(),[e,n]=v.useState(mW),[r,i]=v.useState(""),[s,o]=v.useState(5),[l,u]=v.useState(!1),d=f=>{if(f.preventDefault(),!t)return alert("Please login to leave a review.");u(!0),setTimeout(()=>{n(m=>[...m,{user:t.email||"Anonymous",rating:s,comment:r}]),i(""),o(5),u(!1)},500)};return g.jsx("div",{className:"max-w-xl mx-auto py-10",children:g.jsxs(xn,{children:[g.jsxs(zn,{children:[g.jsx(Bn,{children:"Product Reviews"}),g.jsx(ja,{children:"Share your experience and help others make eco-friendly choices!"})]}),g.jsxs(bn,{children:[g.jsx("ul",{className:"mb-6",children:e.map((f,m)=>g.jsxs("li",{className:"mb-2 border-b pb-2",children:[g.jsx("b",{children:f.user})," - ","★".repeat(f.rating),g.jsx("br",{}),g.jsx("span",{children:f.comment})]},m))}),g.jsxs("form",{onSubmit:d,className:"flex flex-col gap-3",children:[g.jsxs("label",{children:["Rating:",g.jsx("select",{value:s,onChange:f=>o(Number(f.target.value)),className:"ml-2",children:[5,4,3,2,1].map(f=>g.jsx("option",{value:f,children:f},f))})]}),g.jsx(Iu,{value:r,onChange:f=>i(f.target.value),placeholder:"Write your review...",required:!0}),g.jsx($e,{type:"submit",disabled:l,children:l?"Submitting...":"Submit Review"})]})]})]})})},vW=[{user:"Charlie",content:"What are the best eco-friendly detergents?"},{user:"Dana",content:"Tip: Use bamboo toothbrushes instead of plastic!"}],yW=()=>{const{user:t}=Wo(),[e,n]=v.useState(vW),[r,i]=v.useState(""),[s,o]=v.useState(!1),l=u=>{if(u.preventDefault(),!t)return alert("Please login to post.");o(!0),setTimeout(()=>{n(d=>[...d,{user:t.email||"Anonymous",content:r}]),i(""),o(!1)},500)};return g.jsx("div",{className:"max-w-xl mx-auto py-10",children:g.jsxs(xn,{children:[g.jsxs(zn,{children:[g.jsx(Bn,{children:"Community Forum"}),g.jsx(ja,{children:"Ask questions, share tips, and connect with other eco-shoppers!"})]}),g.jsxs(bn,{children:[g.jsx("ul",{className:"mb-6",children:e.map((u,d)=>g.jsxs("li",{className:"mb-2 border-b pb-2",children:[g.jsx("b",{children:u.user}),g.jsx("br",{}),g.jsx("span",{children:u.content})]},d))}),g.jsxs("form",{onSubmit:l,className:"flex flex-col gap-3",children:[g.jsx(Iu,{value:r,onChange:u=>i(u.target.value),placeholder:"Share a tip or ask a question...",required:!0}),g.jsx($e,{type:"submit",disabled:s,children:s?"Posting...":"Post"})]})]})]})})},JS="ecocart_wishlist";function _W(t){const[e,n]=v.useState([]);return v.useEffect(()=>{const o=localStorage.getItem(JS+t);o&&n(JSON.parse(o))},[t]),v.useEffect(()=>{localStorage.setItem(JS+t,JSON.stringify(e))},[e,t]),{wishlist:e,addToWishlist:o=>{n(l=>l.find(u=>u.id===o.id)?l:[...l,o])},removeFromWishlist:o=>{n(l=>l.filter(u=>u.id!==o))},isWishlisted:o=>e.some(l=>l.id===o)}}const wW=({open:t,onClose:e})=>{const n=Gi(),{user:r}=Fk(),i=(r==null?void 0:r.uid)||"guest",{wishlist:s,removeFromWishlist:o}=_W(i);return g.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-900 shadow-lg z-50 transform transition-transform duration-300 border-l border-gray-200 dark:border-gray-700 ${t?"translate-x-0":"translate-x-full"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[g.jsx("h2",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:"💚 Wishlist"}),g.jsx($e,{variant:"ghost",size:"icon","aria-label":"Close Wishlist",onClick:e,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,className:"h-5 w-5 text-gray-700 dark:text-gray-200",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"p-4 flex-1 overflow-y-auto bg-white dark:bg-gray-900",children:s.length===0?g.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-center mt-12",children:"Wishlist is empty"}):g.jsx("ul",{className:"space-y-4",children:s.map(l=>g.jsxs("li",{className:"flex justify-between items-center border-b border-gray-100 dark:border-gray-800 pb-2",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:l.name}),g.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-300",children:["₹",l.price]})]}),g.jsx($e,{size:"sm",variant:"destructive",onClick:()=>o(l.id),children:"Remove"})]},l.id))})}),g.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 flex flex-col gap-2",children:g.jsx($e,{className:"w-full",disabled:s.length===0,onClick:()=>{e(),n("/wishlist")},children:"Go to Wishlist Page"})})]})},xW=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0);return v.useEffect(()=>{async function i(){r(!0);const s=l$(K8(Ou,"users"),u$("ecoScore","desc")),o=await p$(s),l=[];o.forEach(u=>{const d=u.data();l.push({uid:u.id,email:d.email||"(no email)",ecoScore:d.ecoScore||0,badges:d.badges||[]})}),e(l),r(!1)}i()},[]),g.jsx("div",{className:"flex justify-center py-10",children:g.jsxs(xn,{className:"w-full max-w-2xl",children:[g.jsx(zn,{children:g.jsx(Bn,{children:"🌍 Worldwide Eco Leaderboard"})}),g.jsx(bn,{children:n?g.jsx("div",{className:"text-gray-500",children:"Loading leaderboard..."}):t.length===0?g.jsx("div",{className:"text-gray-500",children:"No users found."}):g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b",children:[g.jsx("th",{className:"py-2 px-2",children:"Rank"}),g.jsx("th",{className:"py-2 px-2",children:"User"}),g.jsx("th",{className:"py-2 px-2",children:"Eco Score"}),g.jsx("th",{className:"py-2 px-2",children:"Badges"})]})}),g.jsx("tbody",{children:t.map((i,s)=>g.jsxs("tr",{className:"border-b hover:bg-green-50",children:[g.jsx("td",{className:"py-2 px-2 font-bold",children:s+1}),g.jsx("td",{className:"py-2 px-2",children:i.email}),g.jsx("td",{className:"py-2 px-2",children:i.ecoScore}),g.jsx("td",{className:"py-2 px-2",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.badges.length?i.badges.map(o=>g.jsx(Il,{type:o},o)):g.jsx("span",{className:"text-xs text-gray-400",children:"No badges"})})})]},i.uid))})]})})]})})},bW=new M4,EW=()=>g.jsx(O4,{client:bW,children:g.jsx(zU,{children:g.jsx(I$,{children:g.jsx(C$,{children:g.jsx(L$,{children:g.jsxs(R5,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[g.jsx(SW,{}),g.jsx("style",{children:`
                  .nav-link {
                    font-size: 1.08rem;
                    font-weight: 500;
                    padding: 0.5rem 1rem;
                    border-radius: 0.5rem;
                    transition: background 0.2s, color 0.2s;
                    color: #fff;
                  }
                  .nav-link:hover, .nav-link.active {
                    background: rgba(255,255,255,0.10);
                    color: #fff59d;
                  }
                `}),g.jsxs(B1,{children:[g.jsx(XD,{}),g.jsx(Aj,{}),g.jsxs(C5,{children:[g.jsx(Qn,{path:"/",element:g.jsx(Q3,{})}),g.jsx(Qn,{path:"/ai-features",element:g.jsx(X3,{})}),g.jsx(Qn,{path:"/product-list",element:g.jsx(T$,{})}),g.jsx(Qn,{path:"/order-success",element:g.jsx(k$,{})}),g.jsx(Qn,{path:"/order-history",element:g.jsx(A$,{})}),g.jsx(Qn,{path:"/admin-orders",element:g.jsx(R$,{})}),g.jsx(Qn,{path:"/auth/login",element:g.jsx(e9,{redirectTo:"/"})}),g.jsx(Qn,{path:"/auth/signup",element:g.jsx(y$,{redirectTo:"/"})}),g.jsx(Qn,{path:"/shop-locator",element:g.jsx(hW,{})}),g.jsx(Qn,{path:"/profile",element:g.jsx(pW,{})}),g.jsx(Qn,{path:"/reviews",element:g.jsx(gW,{})}),g.jsx(Qn,{path:"/community",element:g.jsx(yW,{})}),g.jsx(Qn,{path:"/leaderboard",element:g.jsx(xW,{})}),g.jsx(Qn,{path:"*",element:g.jsx(Y3,{})})]})]})]})})})})})}),CW=()=>{const{user:t,logout:e}=Wo(),n=Gi(),r=async()=>{await e(),n("/auth/login")};return g.jsxs("nav",{className:"flex items-center justify-between px-8 py-4 bg-gradient-to-r from-green-700 via-green-500 to-green-700 text-white shadow-lg rounded-b-xl border-b border-green-200",children:[g.jsxs("div",{className:"flex gap-6 items-center",children:[g.jsx("img",{src:"/ecocart-logo.png",alt:"EcoCart Logo",className:"w-10 h-10 rounded-full shadow border-2 border-green-200 bg-white"}),g.jsx(Xo,{to:"/",className:({isActive:i})=>`font-bold text-2xl transition-colors duration-200 ${i?"text-yellow-200":"hover:text-yellow-200"}`,children:"EcoCart"}),g.jsx(Xo,{to:"/product-list",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Products"}),g.jsx(Xo,{to:"/reviews",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Reviews"}),g.jsx(Xo,{to:"/community",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Community Forum"}),g.jsx(Xo,{to:"/leaderboard",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Leaderboard"})]}),g.jsx("div",{className:"flex gap-3 items-center",children:t?g.jsx(TW,{user:t,onLogout:r}):g.jsxs(g.Fragment,{children:[g.jsx(Xo,{to:"/auth/login",className:"ml-3 bg-white text-green-700 px-4 py-2 rounded font-bold hover:bg-green-100 transition",children:"Login"}),g.jsx(Xo,{to:"/auth/signup",className:"ml-2 bg-yellow-100 text-green-900 px-4 py-2 rounded font-bold hover:bg-yellow-200 transition",children:"Register"})]})})]})},SW=()=>{const t=Tu();return t.pathname.startsWith("/auth/login")||t.pathname.startsWith("/auth/signup")?null:g.jsx(CW,{})},TW=({user:t,onLogout:e})=>{const n=Gi(),[r,i]=v.useState(!1),[s,o]=v.useState(!1),[l,u]=v.useState(!1);return v.useEffect(()=>{if(!r)return;const d=f=>{const m=document.getElementById("profile-dropdown-menu");m&&!m.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{className:"flex items-center justify-center w-10 h-10 bg-white text-green-700 rounded-full shadow hover:bg-green-100 transition",onClick:()=>i(d=>!d),"aria-label":"Open profile menu",children:[g.jsx(u0,{className:"w-6 h-6"}),g.jsx(nD,{className:"w-4 h-4 ml-1"})]}),r&&g.jsxs("div",{id:"profile-dropdown-menu",className:"absolute right-0 mt-2 w-56 bg-white border rounded-lg shadow-lg z-50 flex flex-col",children:[g.jsx("button",{className:"px-4 py-2 text-left text-gray-800 font-medium text-base hover:bg-green-50 hover:text-green-900 transition-colors",onClick:()=>{i(!1),n("/profile")},children:"👤 Account Settings"}),g.jsx("button",{className:"px-4 py-2 text-left text-gray-800 font-medium text-base hover:bg-green-50 hover:text-green-900 transition-colors",onClick:()=>{i(!1),n("/admin-orders")},children:"🗂️ My Orders"}),g.jsx("button",{className:"px-4 py-2 text-left text-gray-800 font-medium text-base hover:bg-green-50 hover:text-green-900 transition-colors",onClick:()=>{i(!1),o(!0)},children:"💚 Wishlist"}),g.jsx("div",{className:"border-t my-1"}),g.jsx("button",{className:"px-4 py-2 text-left text-red-600 font-medium text-base hover:bg-red-50 hover:text-red-700 transition-colors",onClick:()=>{i(!1),e()},children:"Logout"})]}),g.jsx(wW,{open:s,onClose:()=>o(!1)})]})};xP(document.getElementById("root")).render(g.jsx(EW,{}));
